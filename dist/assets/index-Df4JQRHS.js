(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Dt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ei(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Oo(t){let e,n,r;t.length!==2?(e=Dt,n=(c,f)=>Dt(t(c),f),r=(c,f)=>t(c)-f):(e=t===Dt||t===ei?t:V1,n=t,r=t);function i(c,f,u=0,s=c.length){if(u<s){if(e(f,f)!==0)return s;do{const d=u+s>>>1;n(c[d],f)<0?u=d+1:s=d}while(u<s)}return u}function o(c,f,u=0,s=c.length){if(u<s){if(e(f,f)!==0)return s;do{const d=u+s>>>1;n(c[d],f)<=0?u=d+1:s=d}while(u<s)}return u}function a(c,f,u=0,s=c.length){const d=i(c,f,u,s-1);return d>u&&r(c[d-1],f)>-r(c[d],f)?d-1:d}return{left:i,center:a,right:o}}function V1(){return 0}function Fl(t){return t===null?NaN:+t}function*G1(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const X1=Oo(Dt),qo=X1.right;Oo(Fl).center;function lf(t,e){let n=0;for(let r of t)r!=null&&(r=+r)>=r&&++n;return n}function Z1(t){return t.length|0}function j1(t){return!(t>0)}function K1(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Q1(t){return e=>t(...e)}function J1(...t){const e=typeof t[t.length-1]=="function"&&Q1(t.pop());t=t.map(K1);const n=t.map(Z1),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(j1))return o;for(;;){o.push(i.map((c,f)=>t[f][c]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?o.map(e):o;i[a--]=0}}}function tm(t,e){var n=0;return Float64Array.from(t,r=>n+=+r||0)}function Pl(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let c of t)(c=e(c,++a,t))!=null&&(c=+c)>=c&&(r=c-i,i+=r/++n,o+=r*(c-i))}if(n>1)return o/(n-1)}function Ol(t,e){const n=Pl(t,e);return n&&Math.sqrt(n)}function Yt(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class bn{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,c=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);c&&(n[r++]=c),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class wn extends Map{constructor(e,n=Bl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(fc(this,e))}has(e){return super.has(fc(this,e))}set(e,n){return super.set(ql(this,e),n)}delete(e){return super.delete(zl(this,e))}}class zo extends Set{constructor(e,n=Bl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(fc(this,e))}add(e){return super.add(ql(this,e))}delete(e){return super.delete(zl(this,e))}}function fc({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ql({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zl({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Bl(t){return t!==null&&typeof t=="object"?t.valueOf():t}function sc(t){return t}function Bo(t,...e){return df(t,sc,sc,e)}function Un(t,e,...n){return df(t,sc,e,n)}function em(t,e,...n){return df(t,Array.from,e,n)}function df(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const c=new wn,f=r[a++];let u=-1;for(const s of o){const d=f(s,++u,o),l=c.get(d);l?l.push(s):c.set(d,[s])}for(const[s,d]of c)c.set(s,i(d,a));return e(c)}(t,0)}function nm(t,e){return Array.from(e,n=>t[n])}function to(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of e){const c=eo(a[i],a[o]);if(c)return c}})):(n=t.map(n),r.sort((i,o)=>eo(n[i],n[o]))),nm(t,r)}return t.sort(Ul(n))}function Ul(t=Dt){if(t===Dt)return eo;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function eo(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function hf(t,e,n){return(e.length!==2?to(Un(t,e,n),([r,i],[o,a])=>Dt(i,a)||Dt(r,o)):to(Bo(t,n),([r,i],[o,a])=>e(i,a)||Dt(r,o))).map(([r])=>r)}const rm=Math.sqrt(50),im=Math.sqrt(10),om=Math.sqrt(2);function no(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=rm?10:o>=im?5:o>=om?2:1;let c,f,u;return i<0?(u=Math.pow(10,-i)/a,c=Math.round(t*u),f=Math.round(e*u),c/u<t&&++c,f/u>e&&--f,u=-u):(u=Math.pow(10,i)*a,c=Math.round(t/u),f=Math.round(e/u),c*u<t&&++c,f*u>e&&--f),f<c&&.5<=n&&n<2?no(t,e,n*2):[c,f,u]}function zr(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?no(e,t,n):no(t,e,n);if(!(o>=i))return[];const c=o-i+1,f=new Array(c);if(r)if(a<0)for(let u=0;u<c;++u)f[u]=(o-u)/-a;else for(let u=0;u<c;++u)f[u]=(o-u)*a;else if(a<0)for(let u=0;u<c;++u)f[u]=(i+u)/-a;else for(let u=0;u<c;++u)f[u]=(i+u)*a;return f}function ro(t,e,n){return e=+e,t=+t,n=+n,no(t,e,n)[2]}function uc(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ro(e,t,n):ro(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function am(t){return Math.max(1,Math.ceil(Math.log(lf(t))/Math.LN2)+1)}function Jt(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function cm(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Re(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function fm(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Hl(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?eo:Ul(i);r>n;){if(r-n>600){const f=r-n+1,u=e-n+1,s=Math.log(f),d=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*d*(f-d)/f)*(u-f/2<0?-1:1),h=Math.max(n,Math.floor(e-u*d/f+l)),p=Math.min(r,Math.floor(e+(f-u)*d/f+l));Hl(t,e,h,p,i)}const o=t[e];let a=n,c=r;for(br(t,n,e),i(t[r],o)>0&&br(t,n,r);a<c;){for(br(t,a,c),++a,--c;i(t[a],o)<0;)++a;for(;i(t[c],o)>0;)--c}i(t[n],o)===0?br(t,n,c):(++c,br(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function br(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Yl(t,e=Dt){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?Dt(a,i)>0:Dt(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function Xn(t,e,n){if(t=Float64Array.from(G1(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Re(t);if(e>=1)return Jt(t);var r,i=(r-1)*e,o=Math.floor(i),a=Jt(Hl(t,o).subarray(0,o+1)),c=Re(t.subarray(o+1));return a+(c-a)*(i-o)}}function sm(t,e,n=Fl){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return a+(c-a)*(i-o)}}function um(t,e,n){const r=lf(t),i=Xn(t,.75)-Xn(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function Wl(t,e,n){const r=lf(t),i=Ol(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function lm(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function lc(t,e){return Xn(t,.5,e)}function*dm(t){for(const e of t)yield*e}function Vl(t){return Array.from(dm(t))}function hm(t,e){const n=new wn;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function pm(t,e=gm){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function gm(t,e){return[t,e]}function dc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Xe(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function io(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function mm(t){return t}var ym=3,Es=1e-6;function bm(t){return"translate("+t+",0)"}function wm(t){return e=>+t(e)}function _m(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function vm(){return!this.__axis}function xm(t,e){var n=[],r=null,i=null,o=6,a=6,c=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1,s="y",d=bm;function l(h){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):mm),m=Math.max(o,0)+c,y=e.range(),w=+y[0]+f,v=+y[y.length-1]+f,b=(e.bandwidth?_m:wm)(e.copy(),f),x=h.selection?h.selection():h,_=x.selectAll(".domain").data([null]),$=x.selectAll(".tick").data(p,e).order(),T=$.exit(),A=$.enter().append("g").attr("class","tick"),k=$.select("line"),M=$.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(A),k=k.merge(A.append("line").attr("stroke","currentColor").attr(s+"2",u*o)),M=M.merge(A.append("text").attr("fill","currentColor").attr(s,u*m).attr("dy","0.71em")),h!==x&&(_=_.transition(h),$=$.transition(h),k=k.transition(h),M=M.transition(h),T=T.transition(h).attr("opacity",Es).attr("transform",function(L){return isFinite(L=b(L))?d(L+f):this.getAttribute("transform")}),A.attr("opacity",Es).attr("transform",function(L){var E=this.parentNode.__axis;return d((E&&isFinite(E=E(L))?E:b(L))+f)})),T.remove(),_.attr("d",a?"M"+w+","+u*a+"V"+f+"H"+v+"V"+u*a:"M"+w+","+f+"H"+v),$.attr("opacity",1).attr("transform",function(L){return d(b(L)+f)}),k.attr(s+"2",u*o),M.attr(s,u*m).text(g),x.filter(vm).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),x.each(function(){this.__axis=b})}return l.scale=function(h){return arguments.length?(e=h,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),l):n.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(o=a=+h,l):o},l.tickSizeInner=function(h){return arguments.length?(o=+h,l):o},l.tickSizeOuter=function(h){return arguments.length?(a=+h,l):a},l.tickPadding=function(h){return arguments.length?(c=+h,l):c},l.offset=function(h){return arguments.length?(f=+h,l):f},l}function Mm(t){return xm(ym,t)}var $m={value:()=>{}};function Gl(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Vi(n)}function Vi(t){this._=t}function Tm(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Vi.prototype=Gl.prototype={constructor:Vi,on:function(t,e){var n=this._,r=Tm(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Sm(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Ns(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ns(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Vi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Sm(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ns(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$m,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var hc="http://www.w3.org/1999/xhtml";const Zn={svg:"http://www.w3.org/2000/svg",xhtml:hc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Uo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Zn.hasOwnProperty(e)?{space:Zn[e],local:t}:t}function Am(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===hc&&e.documentElement.namespaceURI===hc?e.createElement(t):e.createElementNS(n,t)}}function Cm(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ni(t){var e=Uo(t);return(e.local?Cm:Am)(e)}function km(){}function pf(t){return t==null?km:function(){return this.querySelector(t)}}function Em(t){typeof t!="function"&&(t=pf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,c=r[i]=new Array(a),f,u,s=0;s<a;++s)(f=o[s])&&(u=t.call(f,f.__data__,s,o))&&("__data__"in f&&(u.__data__=f.__data__),c[s]=u);return new Ot(r,this._parents)}function Nm(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Im(){return[]}function Xl(t){return t==null?Im:function(){return this.querySelectorAll(t)}}function Lm(t){return function(){return Nm(t.apply(this,arguments))}}function Dm(t){typeof t=="function"?t=Lm(t):t=Xl(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],c=a.length,f,u=0;u<c;++u)(f=a[u])&&(r.push(t.call(f,f.__data__,u,a)),i.push(f));return new Ot(r,i)}function Zl(t){return function(){return this.matches(t)}}function jl(t){return function(e){return e.matches(t)}}var Rm=Array.prototype.find;function Fm(t){return function(){return Rm.call(this.children,t)}}function Pm(){return this.firstElementChild}function Om(t){return this.select(t==null?Pm:Fm(typeof t=="function"?t:jl(t)))}var qm=Array.prototype.filter;function zm(){return Array.from(this.children)}function Bm(t){return function(){return qm.call(this.children,t)}}function Um(t){return this.selectAll(t==null?zm:Bm(typeof t=="function"?t:jl(t)))}function Hm(t){typeof t!="function"&&(t=Zl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,c=r[i]=[],f,u=0;u<a;++u)(f=o[u])&&t.call(f,f.__data__,u,o)&&c.push(f);return new Ot(r,this._parents)}function Kl(t){return new Array(t.length)}function Ym(){return new Ot(this._enter||this._groups.map(Kl),this._parents)}function oo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}oo.prototype={constructor:oo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Wm(t){return function(){return t}}function Vm(t,e,n,r,i,o){for(var a=0,c,f=e.length,u=o.length;a<u;++a)(c=e[a])?(c.__data__=o[a],r[a]=c):n[a]=new oo(t,o[a]);for(;a<f;++a)(c=e[a])&&(i[a]=c)}function Gm(t,e,n,r,i,o,a){var c,f,u=new Map,s=e.length,d=o.length,l=new Array(s),h;for(c=0;c<s;++c)(f=e[c])&&(l[c]=h=a.call(f,f.__data__,c,e)+"",u.has(h)?i[c]=f:u.set(h,f));for(c=0;c<d;++c)h=a.call(t,o[c],c,o)+"",(f=u.get(h))?(r[c]=f,f.__data__=o[c],u.delete(h)):n[c]=new oo(t,o[c]);for(c=0;c<s;++c)(f=e[c])&&u.get(l[c])===f&&(i[c]=f)}function Xm(t){return t.__data__}function Zm(t,e){if(!arguments.length)return Array.from(this,Xm);var n=e?Gm:Vm,r=this._parents,i=this._groups;typeof t!="function"&&(t=Wm(t));for(var o=i.length,a=new Array(o),c=new Array(o),f=new Array(o),u=0;u<o;++u){var s=r[u],d=i[u],l=d.length,h=jm(t.call(s,s&&s.__data__,u,r)),p=h.length,g=c[u]=new Array(p),m=a[u]=new Array(p),y=f[u]=new Array(l);n(s,d,g,m,y,h,e);for(var w=0,v=0,b,x;w<p;++w)if(b=g[w]){for(w>=v&&(v=w+1);!(x=m[v])&&++v<p;);b._next=x||null}}return a=new Ot(a,r),a._enter=c,a._exit=f,a}function jm(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Km(){return new Ot(this._exit||this._groups.map(Kl),this._parents)}function Qm(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Jm(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),c=new Array(i),f=0;f<a;++f)for(var u=n[f],s=r[f],d=u.length,l=c[f]=new Array(d),h,p=0;p<d;++p)(h=u[p]||s[p])&&(l[p]=h);for(;f<i;++f)c[f]=n[f];return new Ot(c,this._parents)}function ty(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function ey(t){t||(t=ny);function e(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],c=a.length,f=i[o]=new Array(c),u,s=0;s<c;++s)(u=a[s])&&(f[s]=u);f.sort(e)}return new Ot(i,this._parents).order()}function ny(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ry(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function iy(){return Array.from(this)}function oy(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ay(){let t=0;for(const e of this)++t;return t}function cy(){return!this.node()}function fy(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,c;o<a;++o)(c=i[o])&&t.call(c,c.__data__,o,i);return this}function sy(t){return function(){this.removeAttribute(t)}}function uy(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ly(t,e){return function(){this.setAttribute(t,e)}}function dy(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function hy(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function py(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function gy(t,e){var n=Uo(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?uy:sy:typeof e=="function"?n.local?py:hy:n.local?dy:ly)(n,e))}function Ql(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function my(t){return function(){this.style.removeProperty(t)}}function yy(t,e,n){return function(){this.style.setProperty(t,e,n)}}function by(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function wy(t,e,n){return arguments.length>1?this.each((e==null?my:typeof e=="function"?by:yy)(t,e,n??"")):jn(this.node(),t)}function jn(t,e){return t.style.getPropertyValue(e)||Ql(t).getComputedStyle(t,null).getPropertyValue(e)}function _y(t){return function(){delete this[t]}}function vy(t,e){return function(){this[t]=e}}function xy(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function My(t,e){return arguments.length>1?this.each((e==null?_y:typeof e=="function"?xy:vy)(t,e)):this.node()[t]}function Jl(t){return t.trim().split(/^|\s+/)}function gf(t){return t.classList||new td(t)}function td(t){this._node=t,this._names=Jl(t.getAttribute("class")||"")}td.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ed(t,e){for(var n=gf(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function nd(t,e){for(var n=gf(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function $y(t){return function(){ed(this,t)}}function Ty(t){return function(){nd(this,t)}}function Sy(t,e){return function(){(e.apply(this,arguments)?ed:nd)(this,t)}}function Ay(t,e){var n=Jl(t+"");if(arguments.length<2){for(var r=gf(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Sy:e?$y:Ty)(n,e))}function Cy(){this.textContent=""}function ky(t){return function(){this.textContent=t}}function Ey(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ny(t){return arguments.length?this.each(t==null?Cy:(typeof t=="function"?Ey:ky)(t)):this.node().textContent}function Iy(){this.innerHTML=""}function Ly(t){return function(){this.innerHTML=t}}function Dy(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ry(t){return arguments.length?this.each(t==null?Iy:(typeof t=="function"?Dy:Ly)(t)):this.node().innerHTML}function Fy(){this.nextSibling&&this.parentNode.appendChild(this)}function Py(){return this.each(Fy)}function Oy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qy(){return this.each(Oy)}function zy(t){var e=typeof t=="function"?t:ni(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function By(){return null}function Uy(t,e){var n=typeof t=="function"?t:ni(t),r=e==null?By:typeof e=="function"?e:pf(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Hy(){var t=this.parentNode;t&&t.removeChild(this)}function Yy(){return this.each(Hy)}function Wy(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vy(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gy(t){return this.select(t?Vy:Wy)}function Xy(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Zy(t){return function(e){t.call(this,e,this.__data__)}}function jy(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ky(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Qy(t,e,n){return function(){var r=this.__on,i,o=Zy(e);if(r){for(var a=0,c=r.length;a<c;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Jy(t,e,n){var r=jy(t+""),i,o=r.length,a;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,u=c.length,s;f<u;++f)for(i=0,s=c[f];i<o;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(c=e?Qy:Ky,i=0;i<o;++i)this.each(c(r[i],e,n));return this}function rd(t,e,n){var r=Ql(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function t2(t,e){return function(){return rd(this,t,e)}}function e2(t,e){return function(){return rd(this,t,e.apply(this,arguments))}}function n2(t,e){return this.each((typeof e=="function"?e2:t2)(t,e))}function*r2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var id=[null];function Ot(t,e){this._groups=t,this._parents=e}function ri(){return new Ot([[document.documentElement]],id)}function i2(){return this}Ot.prototype=ri.prototype={constructor:Ot,select:Em,selectAll:Dm,selectChild:Om,selectChildren:Um,filter:Hm,data:Zm,enter:Ym,exit:Km,join:Qm,merge:Jm,selection:i2,order:ty,sort:ey,call:ry,nodes:iy,node:oy,size:ay,empty:cy,each:fy,attr:gy,style:wy,property:My,classed:Ay,text:Ny,html:Ry,raise:Py,lower:qy,append:zy,insert:Uy,remove:Yy,clone:Gy,datum:Xy,on:Jy,dispatch:n2,[Symbol.iterator]:r2};function pn(t){return typeof t=="string"?new Ot([[document.querySelector(t)]],[document.documentElement]):new Ot([[t]],id)}function o2(t){return pn(ni(t).call(document.documentElement))}function a2(t){let e;for(;e=t.sourceEvent;)t=e;return t}function c2(t,e){if(t=a2(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function dr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ii(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function en(){}var _n=.7,Kn=1/_n,Hn="\\s*([+-]?\\d+)\\s*",Br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",de="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f2=/^#([0-9a-f]{3,8})$/,s2=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),u2=new RegExp(`^rgb\\(${de},${de},${de}\\)$`),l2=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${Br}\\)$`),d2=new RegExp(`^rgba\\(${de},${de},${de},${Br}\\)$`),h2=new RegExp(`^hsl\\(${Br},${de},${de}\\)$`),p2=new RegExp(`^hsla\\(${Br},${de},${de},${Br}\\)$`),Is={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dr(en,vn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ls,formatHex:Ls,formatHex8:g2,formatHsl:m2,formatRgb:Ds,toString:Ds});function Ls(){return this.rgb().formatHex()}function g2(){return this.rgb().formatHex8()}function m2(){return od(this).formatHsl()}function Ds(){return this.rgb().formatRgb()}function vn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=f2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Rs(e):n===3?new yt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ti(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ti(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=s2.exec(t))?new yt(e[1],e[2],e[3],1):(e=u2.exec(t))?new yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=l2.exec(t))?Ti(e[1],e[2],e[3],e[4]):(e=d2.exec(t))?Ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=h2.exec(t))?Os(e[1],e[2]/100,e[3]/100,1):(e=p2.exec(t))?Os(e[1],e[2]/100,e[3]/100,e[4]):Is.hasOwnProperty(t)?Rs(Is[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function Rs(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function Ti(t,e,n,r){return r<=0&&(t=e=n=NaN),new yt(t,e,n,r)}function mf(t){return t instanceof en||(t=vn(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function Ze(t,e,n,r){return arguments.length===1?mf(t):new yt(t,e,n,r??1)}function yt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dr(yt,Ze,ii(en,{brighter(t){return t=t==null?Kn:Math.pow(Kn,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_n:Math.pow(_n,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yt(gn(this.r),gn(this.g),gn(this.b),ao(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fs,formatHex:Fs,formatHex8:y2,formatRgb:Ps,toString:Ps}));function Fs(){return`#${dn(this.r)}${dn(this.g)}${dn(this.b)}`}function y2(){return`#${dn(this.r)}${dn(this.g)}${dn(this.b)}${dn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ps(){const t=ao(this.opacity);return`${t===1?"rgb(":"rgba("}${gn(this.r)}, ${gn(this.g)}, ${gn(this.b)}${t===1?")":`, ${t})`}`}function ao(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dn(t){return t=gn(t),(t<16?"0":"")+t.toString(16)}function Os(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Kt(t,e,n,r)}function od(t){if(t instanceof Kt)return new Kt(t.h,t.s,t.l,t.opacity);if(t instanceof en||(t=vn(t)),!t)return new Kt;if(t instanceof Kt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,c=o-i,f=(o+i)/2;return c?(e===o?a=(n-r)/c+(n<r)*6:n===o?a=(r-e)/c+2:a=(e-n)/c+4,c/=f<.5?o+i:2-o-i,a*=60):c=f>0&&f<1?0:a,new Kt(a,c,f,t.opacity)}function pc(t,e,n,r){return arguments.length===1?od(t):new Kt(t,e,n,r??1)}function Kt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dr(Kt,pc,ii(en,{brighter(t){return t=t==null?Kn:Math.pow(Kn,t),new Kt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_n:Math.pow(_n,t),new Kt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yt($a(t>=240?t-240:t+120,i,r),$a(t,i,r),$a(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Kt(qs(this.h),Si(this.s),Si(this.l),ao(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ao(this.opacity);return`${t===1?"hsl(":"hsla("}${qs(this.h)}, ${Si(this.s)*100}%, ${Si(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qs(t){return t=(t||0)%360,t<0?t+360:t}function Si(t){return Math.max(0,Math.min(1,t||0))}function $a(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ad=Math.PI/180,cd=180/Math.PI,co=18,fd=.96422,sd=1,ud=.82521,ld=4/29,Yn=6/29,dd=3*Yn*Yn,b2=Yn*Yn*Yn;function hd(t){if(t instanceof he)return new he(t.l,t.a,t.b,t.opacity);if(t instanceof Ee)return pd(t);t instanceof yt||(t=mf(t));var e=Ca(t.r),n=Ca(t.g),r=Ca(t.b),i=Ta((.2225045*e+.7168786*n+.0606169*r)/sd),o,a;return e===n&&n===r?o=a=i:(o=Ta((.4360747*e+.3850649*n+.1430804*r)/fd),a=Ta((.0139322*e+.0971045*n+.7141733*r)/ud)),new he(116*i-16,500*(o-i),200*(i-a),t.opacity)}function gc(t,e,n,r){return arguments.length===1?hd(t):new he(t,e,n,r??1)}function he(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}dr(he,gc,ii(en,{brighter(t){return new he(this.l+co*(t??1),this.a,this.b,this.opacity)},darker(t){return new he(this.l-co*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=fd*Sa(e),t=sd*Sa(t),n=ud*Sa(n),new yt(Aa(3.1338561*e-1.6168667*t-.4906146*n),Aa(-.9787684*e+1.9161415*t+.033454*n),Aa(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Ta(t){return t>b2?Math.pow(t,1/3):t/dd+ld}function Sa(t){return t>Yn?t*t*t:dd*(t-ld)}function Aa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ca(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function w2(t){if(t instanceof Ee)return new Ee(t.h,t.c,t.l,t.opacity);if(t instanceof he||(t=hd(t)),t.a===0&&t.b===0)return new Ee(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*cd;return new Ee(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function mc(t,e,n,r){return arguments.length===1?w2(t):new Ee(t,e,n,r??1)}function Ee(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function pd(t){if(isNaN(t.h))return new he(t.l,0,0,t.opacity);var e=t.h*ad;return new he(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}dr(Ee,mc,ii(en,{brighter(t){return new Ee(this.h,this.c,this.l+co*(t??1),this.opacity)},darker(t){return new Ee(this.h,this.c,this.l-co*(t??1),this.opacity)},rgb(){return pd(this).rgb()}}));var gd=-.14861,yf=1.78277,bf=-.29227,Ho=-.90649,Ur=1.97294,zs=Ur*Ho,Bs=Ur*yf,Us=yf*bf-Ho*gd;function _2(t){if(t instanceof mn)return new mn(t.h,t.s,t.l,t.opacity);t instanceof yt||(t=mf(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Us*r+zs*e-Bs*n)/(Us+zs-Bs),o=r-i,a=(Ur*(n-i)-bf*o)/Ho,c=Math.sqrt(a*a+o*o)/(Ur*i*(1-i)),f=c?Math.atan2(a,o)*cd-120:NaN;return new mn(f<0?f+360:f,c,i,t.opacity)}function pe(t,e,n,r){return arguments.length===1?_2(t):new mn(t,e,n,r??1)}function mn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dr(mn,pe,ii(en,{brighter(t){return t=t==null?Kn:Math.pow(Kn,t),new mn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_n:Math.pow(_n,t),new mn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*ad,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new yt(255*(e+n*(gd*r+yf*i)),255*(e+n*(bf*r+Ho*i)),255*(e+n*(Ur*r)),this.opacity)}}));function v2(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function x2(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,c=r<e-1?t[r+2]:2*o-i;return v2((n-r/e)*e,a,i,o,c)}}const Yo=t=>()=>t;function md(t,e){return function(n){return t+n*e}}function M2(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wf(t,e){var n=e-t;return n?md(t,n>180||n<-180?n-360*Math.round(n/360):n):Yo(isNaN(t)?e:t)}function $2(t){return(t=+t)==1?St:function(e,n){return n-e?M2(e,n,t):Yo(isNaN(e)?n:e)}}function St(t,e){var n=e-t;return n?md(t,n):Yo(isNaN(t)?e:t)}const xn=function t(e){var n=$2(e);function r(i,o){var a=n((i=Ze(i)).r,(o=Ze(o)).r),c=n(i.g,o.g),f=n(i.b,o.b),u=St(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=c(s),i.b=f(s),i.opacity=u(s),i+""}}return r.gamma=t,r}(1);function T2(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,c;for(a=0;a<n;++a)c=Ze(e[a]),r[a]=c.r||0,i[a]=c.g||0,o[a]=c.b||0;return r=t(r),i=t(i),o=t(o),c.opacity=1,function(f){return c.r=r(f),c.g=i(f),c.b=o(f),c+""}}}var S2=T2(x2);function A2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function C2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function k2(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Mn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(c){for(a=0;a<r;++a)o[a]=i[a](c);return o}}function E2(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Tt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function N2(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var yc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ka=new RegExp(yc.source,"g");function I2(t){return function(){return t}}function L2(t){return function(e){return t(e)+""}}function yd(t,e){var n=yc.lastIndex=ka.lastIndex=0,r,i,o,a=-1,c=[],f=[];for(t=t+"",e=e+"";(r=yc.exec(t))&&(i=ka.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),c[a]?c[a]+=o:c[++a]=o),(r=r[0])===(i=i[0])?c[a]?c[a]+=i:c[++a]=i:(c[++a]=null,f.push({i:a,x:Tt(r,i)})),n=ka.lastIndex;return n<e.length&&(o=e.slice(n),c[a]?c[a]+=o:c[++a]=o),c.length<2?f[0]?L2(f[0].x):I2(e):(e=f.length,function(u){for(var s=0,d;s<e;++s)c[(d=f[s]).i]=d.x(u);return c.join("")})}function Mn(t,e){var n=typeof e,r;return e==null||n==="boolean"?Yo(e):(n==="number"?Tt:n==="string"?(r=vn(e))?(e=r,xn):yd:e instanceof vn?xn:e instanceof Date?E2:C2(e)?A2:Array.isArray(e)?k2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?N2:Tt)(t,e)}function _f(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Hs=180/Math.PI,bc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bd(t,e,n,r,i,o){var a,c,f;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,f/=c),t*r<e*n&&(t=-t,e=-e,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Hs,skewX:Math.atan(f)*Hs,scaleX:a,scaleY:c}}var Ai;function D2(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bc:bd(e.a,e.b,e.c,e.d,e.e,e.f)}function R2(t){return t==null||(Ai||(Ai=document.createElementNS("http://www.w3.org/2000/svg","g")),Ai.setAttribute("transform",t),!(t=Ai.transform.baseVal.consolidate()))?bc:(t=t.matrix,bd(t.a,t.b,t.c,t.d,t.e,t.f))}function wd(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,s,d,l,h,p){if(u!==d||s!==l){var g=h.push("translate(",null,e,null,n);p.push({i:g-4,x:Tt(u,d)},{i:g-2,x:Tt(s,l)})}else(d||l)&&h.push("translate("+d+e+l+n)}function a(u,s,d,l){u!==s?(u-s>180?s+=360:s-u>180&&(u+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Tt(u,s)})):s&&d.push(i(d)+"rotate("+s+r)}function c(u,s,d,l){u!==s?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Tt(u,s)}):s&&d.push(i(d)+"skewX("+s+r)}function f(u,s,d,l,h,p){if(u!==d||s!==l){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Tt(u,d)},{i:g-2,x:Tt(s,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(u,s){var d=[],l=[];return u=t(u),s=t(s),o(u.translateX,u.translateY,s.translateX,s.translateY,d,l),a(u.rotate,s.rotate,d,l),c(u.skewX,s.skewX,d,l),f(u.scaleX,u.scaleY,s.scaleX,s.scaleY,d,l),u=s=null,function(h){for(var p=-1,g=l.length,m;++p<g;)d[(m=l[p]).i]=m.x(h);return d.join("")}}}var F2=wd(D2,"px, ","px)","deg)"),P2=wd(R2,", ",")",")");function O2(t){return function(e,n){var r=t((e=pc(e)).h,(n=pc(n)).h),i=St(e.s,n.s),o=St(e.l,n.l),a=St(e.opacity,n.opacity);return function(c){return e.h=r(c),e.s=i(c),e.l=o(c),e.opacity=a(c),e+""}}}const q2=O2(wf);function z2(t,e){var n=St((t=gc(t)).l,(e=gc(e)).l),r=St(t.a,e.a),i=St(t.b,e.b),o=St(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function B2(t){return function(e,n){var r=t((e=mc(e)).h,(n=mc(n)).h),i=St(e.c,n.c),o=St(e.l,n.l),a=St(e.opacity,n.opacity);return function(c){return e.h=r(c),e.c=i(c),e.l=o(c),e.opacity=a(c),e+""}}}const U2=B2(wf);function _d(t){return function e(n){n=+n;function r(i,o){var a=t((i=pe(i)).h,(o=pe(o)).h),c=St(i.s,o.s),f=St(i.l,o.l),u=St(i.opacity,o.opacity);return function(s){return i.h=a(s),i.s=c(s),i.l=f(Math.pow(s,n)),i.opacity=u(s),i+""}}return r.gamma=e,r}(1)}_d(wf);var vf=_d(St);function Wo(t,e){e===void 0&&(e=t,t=Mn);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var c=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[c](a-c)}}function te(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Qn=0,Sr=0,wr=0,vd=1e3,fo,Ar,so=0,$n=0,Vo=0,Hr=typeof performance=="object"&&performance.now?performance:Date,xd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xf(){return $n||(xd(H2),$n=Hr.now()+Vo)}function H2(){$n=0}function uo(){this._call=this._time=this._next=null}uo.prototype=Md.prototype={constructor:uo,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?xf():+n)+(e==null?0:+e),!this._next&&Ar!==this&&(Ar?Ar._next=this:fo=this,Ar=this),this._call=t,this._time=n,wc()},stop:function(){this._call&&(this._call=null,this._time=1/0,wc())}};function Md(t,e,n){var r=new uo;return r.restart(t,e,n),r}function Y2(){xf(),++Qn;for(var t=fo,e;t;)(e=$n-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Qn}function Ys(){$n=(so=Hr.now())+Vo,Qn=Sr=0;try{Y2()}finally{Qn=0,V2(),$n=0}}function W2(){var t=Hr.now(),e=t-so;e>vd&&(Vo-=e,so=t)}function V2(){for(var t,e=fo,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:fo=n);Ar=t,wc(r)}function wc(t){if(!Qn){Sr&&(Sr=clearTimeout(Sr));var e=t-$n;e>24?(t<1/0&&(Sr=setTimeout(Ys,t-Hr.now()-Vo)),wr&&(wr=clearInterval(wr))):(wr||(so=Hr.now(),wr=setInterval(W2,vd)),Qn=1,xd(Ys))}}function Ws(t,e,n){var r=new uo;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var G2=Gl("start","end","cancel","interrupt"),X2=[],$d=0,Vs=1,_c=2,Gi=3,Gs=4,vc=5,Xi=6;function Go(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Z2(t,n,{name:e,index:r,group:i,on:G2,tween:X2,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:$d})}function Mf(t,e){var n=oe(t,e);if(n.state>$d)throw new Error("too late; already scheduled");return n}function me(t,e){var n=oe(t,e);if(n.state>Gi)throw new Error("too late; already running");return n}function oe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Z2(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Md(o,0,n.time);function o(u){n.state=Vs,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var s,d,l,h;if(n.state!==Vs)return f();for(s in r)if(h=r[s],h.name===n.name){if(h.state===Gi)return Ws(a);h.state===Gs?(h.state=Xi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[s]):+s<e&&(h.state=Xi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[s])}if(Ws(function(){n.state===Gi&&(n.state=Gs,n.timer.restart(c,n.delay,n.time),c(u))}),n.state=_c,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_c){for(n.state=Gi,i=new Array(l=n.tween.length),s=0,d=-1;s<l;++s)(h=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function c(u){for(var s=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(f),n.state=vc,1),d=-1,l=i.length;++d<l;)i[d].call(t,s);n.state===vc&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Xi,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function j2(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>_c&&r.state<vc,r.state=Xi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function K2(t){return this.each(function(){j2(this,t)})}function Q2(t,e){var n,r;return function(){var i=me(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,c=r.length;a<c;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function J2(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=me(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var c={name:e,value:n},f=0,u=i.length;f<u;++f)if(i[f].name===e){i[f]=c;break}f===u&&i.push(c)}o.tween=i}}function tb(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=oe(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Q2:J2)(n,t,e))}function $f(t,e,n){var r=t._id;return t.each(function(){var i=me(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return oe(i,r).value[e]}}function Td(t,e){var n;return(typeof e=="number"?Tt:e instanceof vn?xn:(n=vn(e))?(e=n,xn):yd)(t,e)}function eb(t){return function(){this.removeAttribute(t)}}function nb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rb(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function ib(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function ob(t,e,n){var r,i,o;return function(){var a,c=n(this),f;return c==null?void this.removeAttribute(t):(a=this.getAttribute(t),f=c+"",a===f?null:a===r&&f===i?o:(i=f,o=e(r=a,c)))}}function ab(t,e,n){var r,i,o;return function(){var a,c=n(this),f;return c==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),f=c+"",a===f?null:a===r&&f===i?o:(i=f,o=e(r=a,c)))}}function cb(t,e){var n=Uo(t),r=n==="transform"?P2:Td;return this.attrTween(t,typeof e=="function"?(n.local?ab:ob)(n,r,$f(this,"attr."+t,e)):e==null?(n.local?nb:eb)(n):(n.local?ib:rb)(n,r,e))}function fb(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function sb(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ub(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&sb(t,o)),n}return i._value=e,i}function lb(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&fb(t,o)),n}return i._value=e,i}function db(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Uo(t);return this.tween(n,(r.local?ub:lb)(r,e))}function hb(t,e){return function(){Mf(this,t).delay=+e.apply(this,arguments)}}function pb(t,e){return e=+e,function(){Mf(this,t).delay=e}}function gb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?hb:pb)(e,t)):oe(this.node(),e).delay}function mb(t,e){return function(){me(this,t).duration=+e.apply(this,arguments)}}function yb(t,e){return e=+e,function(){me(this,t).duration=e}}function bb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?mb:yb)(e,t)):oe(this.node(),e).duration}function wb(t,e){if(typeof e!="function")throw new Error;return function(){me(this,t).ease=e}}function _b(t){var e=this._id;return arguments.length?this.each(wb(e,t)):oe(this.node(),e).ease}function vb(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;me(this,t).ease=n}}function xb(t){if(typeof t!="function")throw new Error;return this.each(vb(this._id,t))}function Mb(t){typeof t!="function"&&(t=Zl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,c=r[i]=[],f,u=0;u<a;++u)(f=o[u])&&t.call(f,f.__data__,u,o)&&c.push(f);return new Fe(r,this._parents,this._name,this._id)}function $b(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),c=0;c<o;++c)for(var f=e[c],u=n[c],s=f.length,d=a[c]=new Array(s),l,h=0;h<s;++h)(l=f[h]||u[h])&&(d[h]=l);for(;c<r;++c)a[c]=e[c];return new Fe(a,this._parents,this._name,this._id)}function Tb(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Sb(t,e,n){var r,i,o=Tb(e)?Mf:me;return function(){var a=o(this,t),c=a.on;c!==r&&(i=(r=c).copy()).on(e,n),a.on=i}}function Ab(t,e){var n=this._id;return arguments.length<2?oe(this.node(),n).on.on(t):this.each(Sb(n,t,e))}function Cb(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function kb(){return this.on("end.remove",Cb(this._id))}function Eb(t){var e=this._name,n=this._id;typeof t!="function"&&(t=pf(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var c=r[a],f=c.length,u=o[a]=new Array(f),s,d,l=0;l<f;++l)(s=c[l])&&(d=t.call(s,s.__data__,l,c))&&("__data__"in s&&(d.__data__=s.__data__),u[l]=d,Go(u[l],e,n,l,u,oe(s,n)));return new Fe(o,this._parents,e,n)}function Nb(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Xl(t));for(var r=this._groups,i=r.length,o=[],a=[],c=0;c<i;++c)for(var f=r[c],u=f.length,s,d=0;d<u;++d)if(s=f[d]){for(var l=t.call(s,s.__data__,d,f),h,p=oe(s,n),g=0,m=l.length;g<m;++g)(h=l[g])&&Go(h,e,n,g,l,p);o.push(l),a.push(s)}return new Fe(o,a,e,n)}var Ib=ri.prototype.constructor;function Lb(){return new Ib(this._groups,this._parents)}function Db(t,e){var n,r,i;return function(){var o=jn(this,t),a=(this.style.removeProperty(t),jn(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Sd(t){return function(){this.style.removeProperty(t)}}function Rb(t,e,n){var r,i=n+"",o;return function(){var a=jn(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function Fb(t,e,n){var r,i,o;return function(){var a=jn(this,t),c=n(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(t),jn(this,t))),a===f?null:a===r&&f===i?o:(i=f,o=e(r=a,c))}}function Pb(t,e){var n,r,i,o="style."+e,a="end."+o,c;return function(){var f=me(this,t),u=f.on,s=f.value[o]==null?c||(c=Sd(e)):void 0;(u!==n||i!==s)&&(r=(n=u).copy()).on(a,i=s),f.on=r}}function Ob(t,e,n){var r=(t+="")=="transform"?F2:Td;return e==null?this.styleTween(t,Db(t,r)).on("end.style."+t,Sd(t)):typeof e=="function"?this.styleTween(t,Fb(t,r,$f(this,"style."+t,e))).each(Pb(this._id,t)):this.styleTween(t,Rb(t,r,e),n).on("end.style."+t,null)}function qb(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zb(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&qb(t,a,n)),r}return o._value=e,o}function Bb(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,zb(t,e,n??""))}function Ub(t){return function(){this.textContent=t}}function Hb(t){return function(){var e=t(this);this.textContent=e??""}}function Yb(t){return this.tween("text",typeof t=="function"?Hb($f(this,"text",t)):Ub(t==null?"":t+""))}function Wb(t){return function(e){this.textContent=t.call(this,e)}}function Vb(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Wb(i)),e}return r._value=t,r}function Gb(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Vb(t))}function Xb(){for(var t=this._name,e=this._id,n=Ad(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],c=a.length,f,u=0;u<c;++u)if(f=a[u]){var s=oe(f,e);Go(f,t,n,u,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Fe(r,this._parents,t,n)}function Zb(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var c={value:a},f={value:function(){--i===0&&o()}};n.each(function(){var u=me(this,r),s=u.on;s!==t&&(e=(t=s).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(f)),u.on=e}),i===0&&o()})}var jb=0;function Fe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ad(){return++jb}var ve=ri.prototype;Fe.prototype={constructor:Fe,select:Eb,selectAll:Nb,selectChild:ve.selectChild,selectChildren:ve.selectChildren,filter:Mb,merge:$b,selection:Lb,transition:Xb,call:ve.call,nodes:ve.nodes,node:ve.node,size:ve.size,empty:ve.empty,each:ve.each,on:Ab,attr:cb,attrTween:db,style:Ob,styleTween:Bb,text:Yb,textTween:Gb,remove:kb,tween:tb,delay:gb,duration:bb,ease:_b,easeVarying:xb,end:Zb,[Symbol.iterator]:ve[Symbol.iterator]};function Kb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Qb={time:null,delay:0,duration:250,ease:Kb};function Jb(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function tw(t){var e,n;t instanceof Fe?(e=t._id,t=t._name):(e=Ad(),(n=Qb).time=xf(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],c=a.length,f,u=0;u<c;++u)(f=a[u])&&Go(f,t,e,u,a,n||Jb(f,e));return new Fe(r,this._parents,t,e)}ri.prototype.interrupt=K2;ri.prototype.transition=tw;const xc=Math.PI,Mc=2*xc,un=1e-6,ew=Mc-un;function Cd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function nw(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Cd;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class kd{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Cd:nw(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,c=this._y1,f=r-e,u=i-n,s=a-e,d=c-n,l=s*s+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>un)if(!(Math.abs(d*f-u*s)>un)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-a,p=i-c,g=f*f+u*u,m=h*h+p*p,y=Math.sqrt(g),w=Math.sqrt(l),v=o*Math.tan((xc-Math.acos((g+l-m)/(2*y*w)))/2),b=v/w,x=v/y;Math.abs(b-1)>un&&this._append`L${e+b*s},${n+b*d}`,this._append`A${o},${o},0,0,${+(d*h>s*p)},${this._x1=e+x*f},${this._y1=n+x*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),u=e+c,s=n+f,d=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${u},${s}`:(Math.abs(this._x1-u)>un||Math.abs(this._y1-s)>un)&&this._append`L${u},${s}`,r&&(l<0&&(l=l%Mc+Mc),l>ew?this._append`A${r},${r},0,1,${d},${e-c},${n-f}A${r},${r},0,1,${d},${this._x1=u},${this._y1=s}`:l>un&&this._append`A${r},${r},0,${+(l>=xc)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hn(t=3){return new kd(+t)}function rw(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Jn(t){return t=lo(Math.abs(t)),t?t[1]:NaN}function iw(t,e){return function(n,r){for(var i=n.length,o=[],a=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),o.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[a=(a+1)%t.length];return o.reverse().join(e)}}function ow(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var aw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yr(t){if(!(e=aw.exec(t)))throw new Error("invalid format: "+t);var e;return new Tf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yr.prototype=Tf.prototype;function Tf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Tf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cw(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ed;function fw(t,e){var n=lo(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ed=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+lo(t,Math.max(0,e+o-1))[0]}function Xs(t,e){var n=lo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Zs={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rw,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Xs(t*100,e),r:Xs,s:fw,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function js(t){return t}var Ks=Array.prototype.map,Qs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sw(t){var e=t.grouping===void 0||t.thousands===void 0?js:iw(Ks.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?js:ow(Ks.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Yr(d);var l=d.fill,h=d.align,p=d.sign,g=d.symbol,m=d.zero,y=d.width,w=d.comma,v=d.precision,b=d.trim,x=d.type;x==="n"?(w=!0,x="g"):Zs[x]||(v===void 0&&(v=12),b=!0,x="g"),(m||l==="0"&&h==="=")&&(m=!0,l="0",h="=");var _=g==="$"?n:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",$=g==="$"?r:/[%p]/.test(x)?a:"",T=Zs[x],A=/[defgprs%]/.test(x);v=v===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function k(M){var L=_,E=$,I,S,R;if(x==="c")E=T(M)+E,M="";else{M=+M;var Y=M<0||1/M<0;if(M=isNaN(M)?f:T(Math.abs(M),v),b&&(M=cw(M)),Y&&+M==0&&p!=="+"&&(Y=!1),L=(Y?p==="("?p:c:p==="-"||p==="("?"":p)+L,E=(x==="s"?Qs[8+Ed/3]:"")+E+(Y&&p==="("?")":""),A){for(I=-1,S=M.length;++I<S;)if(R=M.charCodeAt(I),48>R||R>57){E=(R===46?i+M.slice(I+1):M.slice(I))+E,M=M.slice(0,I);break}}}w&&!m&&(M=e(M,1/0));var H=L.length+M.length+E.length,W=H<y?new Array(y-H+1).join(l):"";switch(w&&m&&(M=e(W+M,W.length?y-E.length:1/0),W=""),h){case"<":M=L+M+E+W;break;case"=":M=L+W+M+E;break;case"^":M=W.slice(0,H=W.length>>1)+L+M+E+W.slice(H);break;default:M=W+L+M+E;break}return o(M)}return k.toString=function(){return d+""},k}function s(d,l){var h=u((d=Yr(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Jn(l)/3)))*3,g=Math.pow(10,-p),m=Qs[8+p/3];return function(y){return h(g*y)+m}}return{format:u,formatPrefix:s}}var Ci,hr,Nd;uw({thousands:",",grouping:[3],currency:["$",""]});function uw(t){return Ci=sw(t),hr=Ci.format,Nd=Ci.formatPrefix,Ci}function lw(t){return Math.max(0,-Jn(Math.abs(t)))}function dw(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jn(e)/3)))*3-Jn(Math.abs(t)))}function hw(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jn(e)-Jn(t))+1}var J=1e-6,Id=1e-12,et=Math.PI,dt=et/2,Js=et/4,qt=et*2,Ct=180/et,lt=et/180,ct=Math.abs,pr=Math.atan,Pe=Math.atan2,tt=Math.cos,Ld=Math.exp,ho=Math.log,Ea=Math.pow,K=Math.sin,Wt=Math.sign||function(t){return t>0?1:t<0?-1:0},Rt=Math.sqrt,Sf=Math.tan;function Dd(t){return t>1?0:t<-1?et:Math.acos(t)}function Zt(t){return t>1?dt:t<-1?-dt:Math.asin(t)}function Vt(){}function po(t,e){t&&eu.hasOwnProperty(t.type)&&eu[t.type](t,e)}var tu={Feature:function(t,e){po(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)po(n[r].geometry,e)}},eu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){$c(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)$c(n[r],e,0)},Polygon:function(t,e){nu(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)nu(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)po(n[r],e)}};function $c(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function nu(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)$c(t[n],e,1);e.polygonEnd()}function ln(t,e){t&&tu.hasOwnProperty(t.type)?tu[t.type](t,e):po(t,e)}function Tc(t){return[Pe(t[1],t[0]),Zt(t[2])]}function tr(t){var e=t[0],n=t[1],r=tt(n);return[r*tt(e),r*K(e),K(n)]}function ki(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function go(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Na(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ei(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Sc(t){var e=Rt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ac(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Cc(t,e){return ct(t)>et&&(t-=Math.round(t/qt)*qt),[t,e]}Cc.invert=Cc;function Rd(t,e,n){return(t%=qt)?e||n?Ac(iu(t),ou(e,n)):iu(t):e||n?ou(e,n):Cc}function ru(t){return function(e,n){return e+=t,ct(e)>et&&(e-=Math.round(e/qt)*qt),[e,n]}}function iu(t){var e=ru(t);return e.invert=ru(-t),e}function ou(t,e){var n=tt(t),r=K(t),i=tt(e),o=K(e);function a(c,f){var u=tt(f),s=tt(c)*u,d=K(c)*u,l=K(f),h=l*n+s*r;return[Pe(d*i-h*o,s*n-l*r),Zt(h*i+d*o)]}return a.invert=function(c,f){var u=tt(f),s=tt(c)*u,d=K(c)*u,l=K(f),h=l*i-d*o;return[Pe(d*i+l*o,s*n+h*r),Zt(h*n-s*r)]},a}function pw(t){t=Rd(t[0]*lt,t[1]*lt,t.length>2?t[2]*lt:0);function e(n){return n=t(n[0]*lt,n[1]*lt),n[0]*=Ct,n[1]*=Ct,n}return e.invert=function(n){return n=t.invert(n[0]*lt,n[1]*lt),n[0]*=Ct,n[1]*=Ct,n},e}function gw(t,e,n,r,i,o){if(n){var a=tt(e),c=K(e),f=r*n;i==null?(i=e+r*qt,o=e-f/2):(i=au(a,i),o=au(a,o),(r>0?i<o:i>o)&&(i+=r*qt));for(var u,s=i;r>0?s>o:s<o;s-=f)u=Tc([a,-c*tt(s),-c*K(s)]),t.point(u[0],u[1])}}function au(t,e){e=tr(e),e[0]-=t,Sc(e);var n=Dd(-e[1]);return((-e[2]<0?-n:n)+qt-J)%qt}function Fd(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Vt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Zi(t,e){return ct(t[0]-e[0])<J&&ct(t[1]-e[1])<J}function Ni(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Pd(t,e,n,r,i){var o=[],a=[],c,f;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],y=p[g],w;if(Zi(m,y)){if(!m[2]&&!y[2]){for(i.lineStart(),c=0;c<g;++c)i.point((m=p[c])[0],m[1]);i.lineEnd();return}y[0]+=2*J}o.push(w=new Ni(m,p,null,!0)),a.push(w.o=new Ni(m,null,w,!1)),o.push(w=new Ni(y,p,null,!1)),a.push(w.o=new Ni(y,null,w,!0))}}),!!o.length){for(a.sort(e),cu(o),cu(a),c=0,f=a.length;c<f;++c)a[c].e=n=!n;for(var u=o[0],s,d;;){for(var l=u,h=!0;l.v;)if((l=l.n)===u)return;s=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(c=0,f=s.length;c<f;++c)i.point((d=s[c])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(s=l.p.z,c=s.length-1;c>=0;--c)i.point((d=s[c])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,s=l.z,h=!h}while(!l.v);i.lineEnd()}}}function cu(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ia(t){return ct(t[0])<=et?t[0]:Wt(t[0])*((ct(t[0])+et)%qt-et)}function mw(t,e){var n=Ia(e),r=e[1],i=K(r),o=[K(n),-tt(n),0],a=0,c=0,f=new bn;i===1?r=dt+J:i===-1&&(r=-dt-J);for(var u=0,s=t.length;u<s;++u)if(l=(d=t[u]).length)for(var d,l,h=d[l-1],p=Ia(h),g=h[1]/2+Js,m=K(g),y=tt(g),w=0;w<l;++w,p=b,m=_,y=$,h=v){var v=d[w],b=Ia(v),x=v[1]/2+Js,_=K(x),$=tt(x),T=b-p,A=T>=0?1:-1,k=A*T,M=k>et,L=m*_;if(f.add(Pe(L*A*K(k),y*$+L*tt(k))),a+=M?T+A*qt:T,M^p>=n^b>=n){var E=go(tr(h),tr(v));Sc(E);var I=go(o,E);Sc(I);var S=(M^T>=0?-1:1)*Zt(I[2]);(r>S||r===S&&(E[0]||E[1]))&&(c+=M^T>=0?1:-1)}}return(a<-J||a<J&&f<-Id)^c&1}function Od(t,e,n,r){return function(i){var o=e(i),a=Fd(),c=e(a),f=!1,u,s,d,l={point:h,lineStart:g,lineEnd:m,polygonStart:function(){l.point=y,l.lineStart=w,l.lineEnd=v,s=[],u=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=m,s=Vl(s);var b=mw(u,r);s.length?(f||(i.polygonStart(),f=!0),Pd(s,bw,b,n,i)):b&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),s=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(b,x){t(b,x)&&i.point(b,x)}function p(b,x){o.point(b,x)}function g(){l.point=p,o.lineStart()}function m(){l.point=h,o.lineEnd()}function y(b,x){d.push([b,x]),c.point(b,x)}function w(){c.lineStart(),d=[]}function v(){y(d[0][0],d[0][1]),c.lineEnd();var b=c.clean(),x=a.result(),_,$=x.length,T,A,k;if(d.pop(),u.push(d),d=null,!!$){if(b&1){if(A=x[0],(T=A.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),_=0;_<T;++_)i.point((k=A[_])[0],k[1]);i.lineEnd()}return}$>1&&b&2&&x.push(x.pop().concat(x.shift())),s.push(x.filter(yw))}}return l}}function yw(t){return t.length>1}function bw(t,e){return((t=t.x)[0]<0?t[1]-dt-J:dt-t[1])-((e=e.x)[0]<0?e[1]-dt-J:dt-e[1])}const fu=Od(function(){return!0},ww,vw,[-et,-dt]);function ww(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var c=o>0?et:-et,f=ct(o-e);ct(f-et)<J?(t.point(e,n=(n+a)/2>0?dt:-dt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(c,n),t.point(o,n),i=0):r!==c&&f>=et&&(ct(e-r)<J&&(e-=r*J),ct(o-c)<J&&(o-=c*J),n=_w(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(c,n),i=0),t.point(e=o,n=a),r=c},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function _w(t,e,n,r){var i,o,a=K(t-n);return ct(a)>J?pr((K(e)*(o=tt(r))*K(n)-K(r)*(i=tt(e))*K(t))/(i*o*a)):(e+r)/2}function vw(t,e,n,r){var i;if(t==null)i=n*dt,r.point(-et,i),r.point(0,i),r.point(et,i),r.point(et,0),r.point(et,-i),r.point(0,-i),r.point(-et,-i),r.point(-et,0),r.point(-et,i);else if(ct(t[0]-e[0])>J){var o=t[0]<e[0]?et:-et;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function xw(t){var e=tt(t),n=2*lt,r=e>0,i=ct(e)>J;function o(s,d,l,h){gw(h,t,n,l,s,d)}function a(s,d){return tt(s)*tt(d)>e}function c(s){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,y){var w=[m,y],v,b=a(m,y),x=r?b?0:u(m,y):b?u(m+(m<0?et:-et),y):0;if(!d&&(p=h=b)&&s.lineStart(),b!==h&&(v=f(d,w),(!v||Zi(d,v)||Zi(w,v))&&(w[2]=1)),b!==h)g=0,b?(s.lineStart(),v=f(w,d),s.point(v[0],v[1])):(v=f(d,w),s.point(v[0],v[1],2),s.lineEnd()),d=v;else if(i&&d&&r^b){var _;!(x&l)&&(_=f(w,d,!0))&&(g=0,r?(s.lineStart(),s.point(_[0][0],_[0][1]),s.point(_[1][0],_[1][1]),s.lineEnd()):(s.point(_[1][0],_[1][1]),s.lineEnd(),s.lineStart(),s.point(_[0][0],_[0][1],3)))}b&&(!d||!Zi(d,w))&&s.point(w[0],w[1]),d=w,h=b,l=x},lineEnd:function(){h&&s.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function f(s,d,l){var h=tr(s),p=tr(d),g=[1,0,0],m=go(h,p),y=ki(m,m),w=m[0],v=y-w*w;if(!v)return!l&&s;var b=e*y/v,x=-e*w/v,_=go(g,m),$=Ei(g,b),T=Ei(m,x);Na($,T);var A=_,k=ki($,A),M=ki(A,A),L=k*k-M*(ki($,$)-1);if(!(L<0)){var E=Rt(L),I=Ei(A,(-k-E)/M);if(Na(I,$),I=Tc(I),!l)return I;var S=s[0],R=d[0],Y=s[1],H=d[1],W;R<S&&(W=S,S=R,R=W);var D=R-S,P=ct(D-et)<J,F=P||D<J;if(!P&&H<Y&&(W=Y,Y=H,H=W),F?P?Y+H>0^I[1]<(ct(I[0]-S)<J?Y:H):Y<=I[1]&&I[1]<=H:D>et^(S<=I[0]&&I[0]<=R)){var q=Ei(A,(-k+E)/M);return Na(q,$),[I,Tc(q)]}}}function u(s,d){var l=r?t:et-t,h=0;return s<-l?h|=1:s>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return Od(a,c,o,r?[0,-t]:[-et,t-et])}function Mw(t,e,n,r,i,o){var a=t[0],c=t[1],f=e[0],u=e[1],s=0,d=1,l=f-a,h=u-c,p;if(p=n-a,!(!l&&p>0)){if(p/=l,l<0){if(p<s)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>s&&(s=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>s&&(s=p)}else if(l>0){if(p<s)return;p<d&&(d=p)}if(p=r-c,!(!h&&p>0)){if(p/=h,h<0){if(p<s)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>s&&(s=p)}if(p=o-c,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>s&&(s=p)}else if(h>0){if(p<s)return;p<d&&(d=p)}return s>0&&(t[0]=a+s*l,t[1]=c+s*h),d<1&&(e[0]=a+d*l,e[1]=c+d*h),!0}}}}}var Cr=1e9,Ii=-Cr;function qd(t,e,n,r){function i(u,s){return t<=u&&u<=n&&e<=s&&s<=r}function o(u,s,d,l){var h=0,p=0;if(u==null||(h=a(u,d))!==(p=a(s,d))||f(u,s)<0^d>0)do l.point(h===0||h===3?t:n,h>1?r:e);while((h=(h+d+4)%4)!==p);else l.point(s[0],s[1])}function a(u,s){return ct(u[0]-t)<J?s>0?0:3:ct(u[0]-n)<J?s>0?2:1:ct(u[1]-e)<J?s>0?1:0:s>0?3:2}function c(u,s){return f(u.x,s.x)}function f(u,s){var d=a(u,1),l=a(s,1);return d!==l?d-l:d===0?s[1]-u[1]:d===1?u[0]-s[0]:d===2?u[1]-s[1]:s[0]-u[0]}return function(u){var s=u,d=Fd(),l,h,p,g,m,y,w,v,b,x,_,$={point:T,lineStart:L,lineEnd:E,polygonStart:k,polygonEnd:M};function T(S,R){i(S,R)&&s.point(S,R)}function A(){for(var S=0,R=0,Y=h.length;R<Y;++R)for(var H=h[R],W=1,D=H.length,P=H[0],F,q,j=P[0],G=P[1];W<D;++W)F=j,q=G,P=H[W],j=P[0],G=P[1],q<=r?G>r&&(j-F)*(r-q)>(G-q)*(t-F)&&++S:G<=r&&(j-F)*(r-q)<(G-q)*(t-F)&&--S;return S}function k(){s=d,l=[],h=[],_=!0}function M(){var S=A(),R=_&&S,Y=(l=Vl(l)).length;(R||Y)&&(u.polygonStart(),R&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),Y&&Pd(l,c,S,o,u),u.polygonEnd()),s=u,l=h=p=null}function L(){$.point=I,h&&h.push(p=[]),x=!0,b=!1,w=v=NaN}function E(){l&&(I(g,m),y&&b&&d.rejoin(),l.push(d.result())),$.point=T,b&&s.lineEnd()}function I(S,R){var Y=i(S,R);if(h&&p.push([S,R]),x)g=S,m=R,y=Y,x=!1,Y&&(s.lineStart(),s.point(S,R));else if(Y&&b)s.point(S,R);else{var H=[w=Math.max(Ii,Math.min(Cr,w)),v=Math.max(Ii,Math.min(Cr,v))],W=[S=Math.max(Ii,Math.min(Cr,S)),R=Math.max(Ii,Math.min(Cr,R))];Mw(H,W,t,e,n,r)?(b||(s.lineStart(),s.point(H[0],H[1])),s.point(W[0],W[1]),Y||s.lineEnd(),_=!1):Y&&(s.lineStart(),s.point(S,R),_=!1)}w=S,v=R,b=Y}return $}}const kc=t=>t;var La=new bn,Ec=new bn,zd,Bd,Nc,Ic,ke={point:Vt,lineStart:Vt,lineEnd:Vt,polygonStart:function(){ke.lineStart=$w,ke.lineEnd=Sw},polygonEnd:function(){ke.lineStart=ke.lineEnd=ke.point=Vt,La.add(ct(Ec)),Ec=new bn},result:function(){var t=La/2;return La=new bn,t}};function $w(){ke.point=Tw}function Tw(t,e){ke.point=Ud,zd=Nc=t,Bd=Ic=e}function Ud(t,e){Ec.add(Ic*t-Nc*e),Nc=t,Ic=e}function Sw(){Ud(zd,Bd)}var er=1/0,mo=er,Wr=-er,yo=Wr,bo={point:Aw,lineStart:Vt,lineEnd:Vt,polygonStart:Vt,polygonEnd:Vt,result:function(){var t=[[er,mo],[Wr,yo]];return Wr=yo=-(mo=er=1/0),t}};function Aw(t,e){t<er&&(er=t),t>Wr&&(Wr=t),e<mo&&(mo=e),e>yo&&(yo=e)}var Lc=0,Dc=0,kr=0,wo=0,_o=0,qn=0,Rc=0,Fc=0,Er=0,Hd,Yd,se,ue,Ht={point:Tn,lineStart:su,lineEnd:uu,polygonStart:function(){Ht.lineStart=Ew,Ht.lineEnd=Nw},polygonEnd:function(){Ht.point=Tn,Ht.lineStart=su,Ht.lineEnd=uu},result:function(){var t=Er?[Rc/Er,Fc/Er]:qn?[wo/qn,_o/qn]:kr?[Lc/kr,Dc/kr]:[NaN,NaN];return Lc=Dc=kr=wo=_o=qn=Rc=Fc=Er=0,t}};function Tn(t,e){Lc+=t,Dc+=e,++kr}function su(){Ht.point=Cw}function Cw(t,e){Ht.point=kw,Tn(se=t,ue=e)}function kw(t,e){var n=t-se,r=e-ue,i=Rt(n*n+r*r);wo+=i*(se+t)/2,_o+=i*(ue+e)/2,qn+=i,Tn(se=t,ue=e)}function uu(){Ht.point=Tn}function Ew(){Ht.point=Iw}function Nw(){Wd(Hd,Yd)}function Iw(t,e){Ht.point=Wd,Tn(Hd=se=t,Yd=ue=e)}function Wd(t,e){var n=t-se,r=e-ue,i=Rt(n*n+r*r);wo+=i*(se+t)/2,_o+=i*(ue+e)/2,qn+=i,i=ue*t-se*e,Rc+=i*(se+t),Fc+=i*(ue+e),Er+=i*3,Tn(se=t,ue=e)}function Vd(t){this._context=t}Vd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,qt);break}}},result:Vt};var Pc=new bn,Da,Gd,Xd,Nr,Ir,Vr={point:Vt,lineStart:function(){Vr.point=Lw},lineEnd:function(){Da&&Zd(Gd,Xd),Vr.point=Vt},polygonStart:function(){Da=!0},polygonEnd:function(){Da=null},result:function(){var t=+Pc;return Pc=new bn,t}};function Lw(t,e){Vr.point=Zd,Gd=Nr=t,Xd=Ir=e}function Zd(t,e){Nr-=t,Ir-=e,Pc.add(Rt(Nr*Nr+Ir*Ir)),Nr=t,Ir=e}let lu,vo,du,hu;class pu{constructor(e){this._append=e==null?jd:Dw(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==du||this._append!==vo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,du=r,vo=this._append,hu=this._,this._=i}this._+=hu;break}}}result(){const e=this._;return this._="",e.length?e:null}}function jd(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Dw(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return jd;if(e!==lu){const n=10**e;lu=e,vo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return vo}function Xo(t,e){let n=3,r=4.5,i,o;function a(c){return c&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ln(c,i(o))),o.result()}return a.area=function(c){return ln(c,i(ke)),ke.result()},a.measure=function(c){return ln(c,i(Vr)),Vr.result()},a.bounds=function(c){return ln(c,i(bo)),bo.result()},a.centroid=function(c){return ln(c,i(Ht)),Ht.result()},a.projection=function(c){return arguments.length?(i=c==null?(t=null,kc):(t=c).stream,a):t},a.context=function(c){return arguments.length?(o=c==null?(e=null,new pu(n)):new Vd(e=c),typeof r!="function"&&o.pointRadius(r),a):e},a.pointRadius=function(c){return arguments.length?(r=typeof c=="function"?c:(o.pointRadius(+c),+c),a):r},a.digits=function(c){if(!arguments.length)return n;if(c==null)n=null;else{const f=Math.floor(c);if(!(f>=0))throw new RangeError(`invalid digits: ${c}`);n=f}return e===null&&(o=new pu(n)),a},a.projection(t).digits(n).context(e)}function Oc(t){return{stream:Zo(t)}}function Zo(t){return function(e){var n=new qc;for(var r in t)n[r]=t[r];return n.stream=e,n}}function qc(){}qc.prototype={constructor:qc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Af(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ln(n,t.stream(bo)),e(bo.result()),r!=null&&t.clipExtent(r),t}function Cf(t,e,n){return Af(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),c=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,f=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([c,f])},n)}function Kd(t,e,n){return Cf(t,[[0,0],e],n)}function Qd(t,e,n){return Af(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,c=-o*r[0][1];t.scale(150*o).translate([a,c])},n)}function Jd(t,e,n){return Af(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],c=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,c])},n)}var gu=16,Rw=tt(30*lt);function mu(t,e){return+e?Pw(t,e):Fw(t)}function Fw(t){return Zo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Pw(t,e){function n(r,i,o,a,c,f,u,s,d,l,h,p,g,m){var y=u-r,w=s-i,v=y*y+w*w;if(v>4*e&&g--){var b=a+l,x=c+h,_=f+p,$=Rt(b*b+x*x+_*_),T=Zt(_/=$),A=ct(ct(_)-1)<J||ct(o-d)<J?(o+d)/2:Pe(x,b),k=t(A,T),M=k[0],L=k[1],E=M-r,I=L-i,S=w*E-y*I;(S*S/v>e||ct((y*E+w*I)/v-.5)>.3||a*l+c*h+f*p<Rw)&&(n(r,i,o,a,c,f,M,L,A,b/=$,x/=$,_,g,m),m.point(M,L),n(M,L,A,b,x,_,u,s,d,l,h,p,g,m))}}return function(r){var i,o,a,c,f,u,s,d,l,h,p,g,m={point:y,lineStart:w,lineEnd:b,polygonStart:function(){r.polygonStart(),m.lineStart=x},polygonEnd:function(){r.polygonEnd(),m.lineStart=w}};function y(T,A){T=t(T,A),r.point(T[0],T[1])}function w(){d=NaN,m.point=v,r.lineStart()}function v(T,A){var k=tr([T,A]),M=t(T,A);n(d,l,s,h,p,g,d=M[0],l=M[1],s=T,h=k[0],p=k[1],g=k[2],gu,r),r.point(d,l)}function b(){m.point=y,r.lineEnd()}function x(){w(),m.point=_,m.lineEnd=$}function _(T,A){v(i=T,A),o=d,a=l,c=h,f=p,u=g,m.point=v}function $(){n(d,l,s,h,p,g,o,a,i,c,f,u,gu,r),m.lineEnd=b,b()}return m}}var Ow=Zo({point:function(t,e){this.stream.point(t*lt,e*lt)}});function qw(t){return Zo({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function zw(t,e,n,r,i){function o(a,c){return a*=r,c*=i,[e+t*a,n-t*c]}return o.invert=function(a,c){return[(a-e)/t*r,(n-c)/t*i]},o}function yu(t,e,n,r,i,o){if(!o)return zw(t,e,n,r,i);var a=tt(o),c=K(o),f=a*t,u=c*t,s=a/t,d=c/t,l=(c*n-a*e)/t,h=(c*e+a*n)/t;function p(g,m){return g*=r,m*=i,[f*g-u*m+e,n-u*g-f*m]}return p.invert=function(g,m){return[r*(s*g-d*m+l),i*(h-d*g-s*m)]},p}function nn(t){return th(function(){return t})()}function th(t){var e,n=150,r=480,i=250,o=0,a=0,c=0,f=0,u=0,s,d=0,l=1,h=1,p=null,g=fu,m=null,y,w,v,b=kc,x=.5,_,$,T,A,k;function M(S){return T(S[0]*lt,S[1]*lt)}function L(S){return S=T.invert(S[0],S[1]),S&&[S[0]*Ct,S[1]*Ct]}M.stream=function(S){return A&&k===S?A:A=Ow(qw(s)(g(_(b(k=S)))))},M.preclip=function(S){return arguments.length?(g=S,p=void 0,I()):g},M.postclip=function(S){return arguments.length?(b=S,m=y=w=v=null,I()):b},M.clipAngle=function(S){return arguments.length?(g=+S?xw(p=S*lt):(p=null,fu),I()):p*Ct},M.clipExtent=function(S){return arguments.length?(b=S==null?(m=y=w=v=null,kc):qd(m=+S[0][0],y=+S[0][1],w=+S[1][0],v=+S[1][1]),I()):m==null?null:[[m,y],[w,v]]},M.scale=function(S){return arguments.length?(n=+S,E()):n},M.translate=function(S){return arguments.length?(r=+S[0],i=+S[1],E()):[r,i]},M.center=function(S){return arguments.length?(o=S[0]%360*lt,a=S[1]%360*lt,E()):[o*Ct,a*Ct]},M.rotate=function(S){return arguments.length?(c=S[0]%360*lt,f=S[1]%360*lt,u=S.length>2?S[2]%360*lt:0,E()):[c*Ct,f*Ct,u*Ct]},M.angle=function(S){return arguments.length?(d=S%360*lt,E()):d*Ct},M.reflectX=function(S){return arguments.length?(l=S?-1:1,E()):l<0},M.reflectY=function(S){return arguments.length?(h=S?-1:1,E()):h<0},M.precision=function(S){return arguments.length?(_=mu($,x=S*S),I()):Rt(x)},M.fitExtent=function(S,R){return Cf(M,S,R)},M.fitSize=function(S,R){return Kd(M,S,R)},M.fitWidth=function(S,R){return Qd(M,S,R)},M.fitHeight=function(S,R){return Jd(M,S,R)};function E(){var S=yu(n,0,0,l,h,d).apply(null,e(o,a)),R=yu(n,r-S[0],i-S[1],l,h,d);return s=Rd(c,f,u),$=Ac(e,R),T=Ac(s,$),_=mu($,x),I()}function I(){return A=k=null,M}return function(){return e=t.apply(this,arguments),M.invert=e.invert&&L,E()}}function kf(t){var e=0,n=et/3,r=th(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*lt,n=o[1]*lt):[e*Ct,n*Ct]},i}function Bw(t){var e=tt(t);function n(r,i){return[r*e,K(i)/e]}return n.invert=function(r,i){return[r/e,Zt(i*e)]},n}function Uw(t,e){var n=K(t),r=(n+K(e))/2;if(ct(r)<J)return Bw(t);var i=1+n*(2*r-n),o=Rt(i)/r;function a(c,f){var u=Rt(i-2*r*K(f))/r;return[u*K(c*=r),o-u*tt(c)]}return a.invert=function(c,f){var u=o-f,s=Pe(c,ct(u))*Wt(u);return u*r<0&&(s-=et*Wt(c)*Wt(u)),[s/r,Zt((i-(c*c+u*u)*r*r)/(2*r))]},a}function xo(){return kf(Uw).scale(155.424).center([0,33.6442])}function eh(){return xo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Hw(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Yw(){var t,e,n=eh(),r,i=xo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=xo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,f,u={point:function(l,h){f=[l,h]}};function s(l){var h=l[0],p=l[1];return f=null,r.point(h,p),f||(o.point(h,p),f)||(c.point(h,p),f)}s.invert=function(l){var h=n.scale(),p=n.translate(),g=(l[0]-p[0])/h,m=(l[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:n).invert(l)},s.stream=function(l){return t&&e===l?t:t=Hw([n.stream(e=l),i.stream(l),a.stream(l)])},s.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),a.precision(l),d()):n.precision()},s.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),a.scale(l),s.translate(n.translate())):n.scale()},s.translate=function(l){if(!arguments.length)return n.translate();var h=n.scale(),p=+l[0],g=+l[1];return r=n.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+J,g+.12*h+J],[p-.214*h-J,g+.234*h-J]]).stream(u),c=a.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+J,g+.166*h+J],[p-.115*h-J,g+.234*h-J]]).stream(u),d()},s.fitExtent=function(l,h){return Cf(s,l,h)},s.fitSize=function(l,h){return Kd(s,l,h)},s.fitWidth=function(l,h){return Qd(s,l,h)},s.fitHeight=function(l,h){return Jd(s,l,h)};function d(){return t=e=null,s}return s.scale(1070)}function nh(t){return function(e,n){var r=tt(e),i=tt(n),o=t(r*i);return o===1/0?[2,0]:[o*i*K(e),o*K(n)]}}function oi(t){return function(e,n){var r=Rt(e*e+n*n),i=t(r),o=K(i),a=tt(i);return[Pe(e*o,r*a),Zt(r&&n*o/r)]}}var rh=nh(function(t){return Rt(2/(1+t))});rh.invert=oi(function(t){return 2*Zt(t/2)});function Ww(){return nn(rh).scale(124.75).clipAngle(180-.001)}var ih=nh(function(t){return(t=Dd(t))&&t/K(t)});ih.invert=oi(function(t){return t});function Vw(){return nn(ih).scale(79.4188).clipAngle(180-.001)}function jo(t,e){return[t,ho(Sf((dt+e)/2))]}jo.invert=function(t,e){return[t,2*pr(Ld(e))-dt]};function Gw(){return oh(jo).scale(961/qt)}function oh(t){var e=nn(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,c,f,u;e.scale=function(d){return arguments.length?(r(d),s()):r()},e.translate=function(d){return arguments.length?(i(d),s()):i()},e.center=function(d){return arguments.length?(n(d),s()):n()},e.clipExtent=function(d){return arguments.length?(d==null?a=c=f=u=null:(a=+d[0][0],c=+d[0][1],f=+d[1][0],u=+d[1][1]),s()):a==null?null:[[a,c],[f,u]]};function s(){var d=et*r(),l=e(pw(e.rotate()).invert([0,0]));return o(a==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===jo?[[Math.max(l[0]-d,a),c],[Math.min(l[0]+d,f),u]]:[[a,Math.max(l[1]-d,c)],[f,Math.min(l[1]+d,u)]])}return s()}function Li(t){return Sf((dt+t)/2)}function Xw(t,e){var n=tt(t),r=t===e?K(t):ho(n/tt(e))/ho(Li(e)/Li(t)),i=n*Ea(Li(t),r)/r;if(!r)return jo;function o(a,c){i>0?c<-dt+J&&(c=-dt+J):c>dt-J&&(c=dt-J);var f=i/Ea(Li(c),r);return[f*K(r*a),i-f*tt(r*a)]}return o.invert=function(a,c){var f=i-c,u=Wt(r)*Rt(a*a+f*f),s=Pe(a,ct(f))*Wt(f);return f*r<0&&(s-=et*Wt(a)*Wt(f)),[s/r,2*pr(Ea(i/u,1/r))-dt]},o}function Zw(){return kf(Xw).scale(109.5).parallels([30,30])}function Mo(t,e){return[t,e]}Mo.invert=Mo;function jw(){return nn(Mo).scale(152.63)}function Kw(t,e){var n=tt(t),r=t===e?K(t):(n-tt(e))/(e-t),i=n/r+t;if(ct(r)<J)return Mo;function o(a,c){var f=i-c,u=r*a;return[f*K(u),i-f*tt(u)]}return o.invert=function(a,c){var f=i-c,u=Pe(a,ct(f))*Wt(f);return f*r<0&&(u-=et*Wt(a)*Wt(f)),[u/r,i-Wt(r)*Rt(a*a+f*f)]},o}function Qw(){return kf(Kw).scale(131.154).center([0,13.9389])}var Rr=1.340264,Fr=-.081106,Pr=893e-6,Or=.003796,$o=Rt(3)/2,Jw=12;function ah(t,e){var n=Zt($o*K(e)),r=n*n,i=r*r*r;return[t*tt(n)/($o*(Rr+3*Fr*r+i*(7*Pr+9*Or*r))),n*(Rr+Fr*r+i*(Pr+Or*r))]}ah.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,c,f;o<Jw&&(c=n*(Rr+Fr*r+i*(Pr+Or*r))-e,f=Rr+3*Fr*r+i*(7*Pr+9*Or*r),n-=a=c/f,r=n*n,i=r*r*r,!(ct(a)<Id));++o);return[$o*t*(Rr+3*Fr*r+i*(7*Pr+9*Or*r))/tt(n),Zt(K(n)/$o)]};function t6(){return nn(ah).scale(177.158)}function ch(t,e){var n=tt(e),r=tt(t)*n;return[n*K(t)/r,K(e)/r]}ch.invert=oi(pr);function e6(){return nn(ch).scale(144.049).clipAngle(60)}function fh(t,e){return[tt(e)*K(t),K(e)]}fh.invert=oi(Zt);function n6(){return nn(fh).scale(249.5).clipAngle(90+J)}function sh(t,e){var n=tt(e),r=1+tt(t)*n;return[n*K(t)/r,K(e)/r]}sh.invert=oi(function(t){return 2*pr(t)});function r6(){return nn(sh).scale(250).clipAngle(142)}function uh(t,e){return[ho(Sf((dt+e)/2)),-t]}uh.invert=function(t,e){return[-e,2*pr(Ld(t))-dt]};function i6(){var t=oh(uh),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function ye(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ko(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const zc=Symbol("implicit");function Ef(){var t=new wn,e=[],n=[],r=zc;function i(o){let a=t.get(o);if(a===void 0){if(r!==zc)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new wn;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ef(e,n).unknown(r)},ye.apply(i,arguments),i}function Qo(){var t=Ef().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,c=!1,f=0,u=0,s=.5;delete t.unknown;function d(){var l=e().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,l-f+u*2),c&&(o=Math.floor(o)),p+=(g-p-o*(l-f))*s,a=o*(1-f),c&&(p=Math.round(p),a=Math.round(a));var m=dc(l).map(function(y){return p+o*y});return n(h?m.reverse():m)}return t.domain=function(l){return arguments.length?(e(l),d()):e()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,c=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(c=!!l,d()):c},t.padding=function(l){return arguments.length?(f=Math.min(1,u=+l),d()):f},t.paddingInner=function(l){return arguments.length?(f=Math.min(1,l),d()):f},t.paddingOuter=function(l){return arguments.length?(u=+l,d()):u},t.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),d()):s},t.copy=function(){return Qo(e(),[r,i]).round(c).paddingInner(f).paddingOuter(u).align(s)},ye.apply(d(),arguments)}function lh(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lh(e())},t}function o6(){return lh(Qo.apply(null,arguments).paddingInner(1))}function a6(t){return function(){return t}}function Bc(t){return+t}var bu=[0,1];function Gt(t){return t}function Uc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:a6(isNaN(e)?NaN:.5)}function c6(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function f6(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Uc(i,r),o=n(a,o)):(r=Uc(r,i),o=n(o,a)),function(c){return o(r(c))}}function s6(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Uc(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(c){var f=qo(t,c,1,r)-1;return o[f](i[f](c))}}function ai(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jo(){var t=bu,e=bu,n=Mn,r,i,o,a=Gt,c,f,u;function s(){var l=Math.min(t.length,e.length);return a!==Gt&&(a=c6(t[0],t[l-1])),c=l>2?s6:f6,f=u=null,d}function d(l){return l==null||isNaN(l=+l)?o:(f||(f=c(t.map(r),e,n)))(r(a(l)))}return d.invert=function(l){return a(i((u||(u=c(e,t.map(r),Tt)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,Bc),s()):t.slice()},d.range=function(l){return arguments.length?(e=Array.from(l),s()):e.slice()},d.rangeRound=function(l){return e=Array.from(l),n=_f,s()},d.clamp=function(l){return arguments.length?(a=l?!0:Gt,s()):a!==Gt},d.interpolate=function(l){return arguments.length?(n=l,s()):n},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,h){return r=l,i=h,s()}}function dh(){return Jo()(Gt,Gt)}function u6(t,e,n,r){var i=uc(t,e,n),o;switch(r=Yr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=dw(i,a))&&(r.precision=o),Nd(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=hw(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lw(i))&&(r.precision=o-(r.type==="%")*2);break}}return hr(r)}function ci(t){var e=t.domain;return t.ticks=function(n){var r=e();return zr(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return u6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],c=r[o],f,u,s=10;for(c<a&&(u=a,a=c,c=u,u=i,i=o,o=u);s-- >0;){if(u=ro(a,c,n),u===f)return r[i]=a,r[o]=c,e(r);if(u>0)a=Math.floor(a/u)*u,c=Math.ceil(c/u)*u;else if(u<0)a=Math.ceil(a*u)/u,c=Math.floor(c*u)/u;else break;f=u}return t},t}function Nf(){var t=dh();return t.copy=function(){return ai(t,Nf())},ye.apply(t,arguments),ci(t)}function hh(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Bc),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return hh(t).unknown(e)},t=arguments.length?Array.from(t,Bc):[0,1],ci(n)}function ph(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function wu(t){return Math.log(t)}function _u(t){return Math.exp(t)}function l6(t){return-Math.log(-t)}function d6(t){return-Math.exp(-t)}function h6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function p6(t){return t===10?h6:t===Math.E?Math.exp:e=>Math.pow(t,e)}function g6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vu(t){return(e,n)=>-t(-e,n)}function gh(t){const e=t(wu,_u),n=e.domain;let r=10,i,o;function a(){return i=g6(r),o=p6(r),n()[0]<0?(i=vu(i),o=vu(o),t(l6,d6)):t(wu,_u),e}return e.base=function(c){return arguments.length?(r=+c,a()):r},e.domain=function(c){return arguments.length?(n(c),a()):n()},e.ticks=c=>{const f=n();let u=f[0],s=f[f.length-1];const d=s<u;d&&([u,s]=[s,u]);let l=i(u),h=i(s),p,g;const m=c==null?10:+c;let y=[];if(!(r%1)&&h-l<m){if(l=Math.floor(l),h=Math.ceil(h),u>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/o(-l):p*o(l),!(g<u)){if(g>s)break;y.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/o(-l):p*o(l),!(g<u)){if(g>s)break;y.push(g)}y.length*2<m&&(y=zr(u,s,m))}else y=zr(l,h,Math.min(h-l,m)).map(o);return d?y.reverse():y},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Yr(f)).precision==null&&(f.trim=!0),f=hr(f)),c===1/0)return f;const u=Math.max(1,r*c/e.ticks().length);return s=>{let d=s/o(Math.round(i(s)));return d*r<r-.5&&(d*=r),d<=u?f(s):""}},e.nice=()=>n(ph(n(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),e}function mh(){const t=gh(Jo()).domain([1,10]);return t.copy=()=>ai(t,mh()).base(t.base()),ye.apply(t,arguments),t}function xu(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Mu(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yh(t){var e=1,n=t(xu(e),Mu(e));return n.constant=function(r){return arguments.length?t(xu(e=+r),Mu(e)):e},ci(n)}function bh(){var t=yh(Jo());return t.copy=function(){return ai(t,bh()).constant(t.constant())},ye.apply(t,arguments)}function $u(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function m6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function y6(t){return t<0?-t*t:t*t}function wh(t){var e=t(Gt,Gt),n=1;function r(){return n===1?t(Gt,Gt):n===.5?t(m6,y6):t($u(n),$u(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ci(e)}function _h(){var t=wh(Jo());return t.copy=function(){return ai(t,_h()).exponent(t.exponent())},ye.apply(t,arguments),t}function vh(){var t=[],e=[],n=[],r;function i(){var a=0,c=Math.max(1,e.length);for(n=new Array(c-1);++a<c;)n[a-1]=sm(t,a/c);return o}function o(a){return a==null||isNaN(a=+a)?r:e[qo(n,a)]}return o.invertExtent=function(a){var c=e.indexOf(a);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let c of a)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Dt),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return vh().domain(t).range(e).unknown(r)},ye.apply(o,arguments)}function xh(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[qo(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xh().domain(t).range(e).unknown(n)},ye.apply(i,arguments)}const Ra=new Date,Fa=new Date;function gt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),c=i.ceil(o);return o-a<c-o?a:c},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,c)=>{const f=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<a)||!(c>0))return f;let u;do f.push(u=new Date(+o)),e(o,c),t(o);while(u<o&&o<a);return f},i.filter=o=>gt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,c)=>{if(a>=a)if(c<0)for(;++c<=0;)for(;e(a,-1),!o(a););else for(;--c>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Ra.setTime(+o),Fa.setTime(+a),t(Ra),t(Fa),Math.floor(n(Ra,Fa))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const To=gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);To.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):To);To.range;const Ne=1e3,Xt=Ne*60,Ie=Xt*60,Oe=Ie*24,If=Oe*7,Tu=Oe*30,Pa=Oe*365,Qt=gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ne)},(t,e)=>(e-t)/Ne,t=>t.getUTCSeconds());Qt.range;const fi=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ne)},(t,e)=>{t.setTime(+t+e*Xt)},(t,e)=>(e-t)/Xt,t=>t.getMinutes());fi.range;const si=gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Xt)},(t,e)=>(e-t)/Xt,t=>t.getUTCMinutes());si.range;const ui=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ne-t.getMinutes()*Xt)},(t,e)=>{t.setTime(+t+e*Ie)},(t,e)=>(e-t)/Ie,t=>t.getHours());ui.range;const li=gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ie)},(t,e)=>(e-t)/Ie,t=>t.getUTCHours());li.range;const Cn=gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xt)/Oe,t=>t.getDate()-1);Cn.range;const ta=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oe,t=>t.getUTCDate()-1);ta.range;const ea=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oe,t=>Math.floor(t/Oe));ea.range;function kn(t){return gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Xt)/If)}const nr=kn(0),Gr=kn(1),Mh=kn(2),$h=kn(3),Sn=kn(4),Th=kn(5),Sh=kn(6);nr.range;Gr.range;Mh.range;$h.range;Sn.range;Th.range;Sh.range;function En(t){return gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/If)}const rr=En(0),Xr=En(1),Ah=En(2),Ch=En(3),An=En(4),kh=En(5),Eh=En(6);rr.range;Xr.range;Ah.range;Ch.range;An.range;kh.range;Eh.range;const di=gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());di.range;const hi=gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hi.range;const ee=gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ee.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ee.range;const ne=gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ne.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ne.range;function Nh(t,e,n,r,i,o){const a=[[Qt,1,Ne],[Qt,5,5*Ne],[Qt,15,15*Ne],[Qt,30,30*Ne],[o,1,Xt],[o,5,5*Xt],[o,15,15*Xt],[o,30,30*Xt],[i,1,Ie],[i,3,3*Ie],[i,6,6*Ie],[i,12,12*Ie],[r,1,Oe],[r,2,2*Oe],[n,1,If],[e,1,Tu],[e,3,3*Tu],[t,1,Pa]];function c(u,s,d){const l=s<u;l&&([u,s]=[s,u]);const h=d&&typeof d.range=="function"?d:f(u,s,d),p=h?h.range(u,+s+1):[];return l?p.reverse():p}function f(u,s,d){const l=Math.abs(s-u)/d,h=Oo(([,,m])=>m).right(a,l);if(h===a.length)return t.every(uc(u/Pa,s/Pa,d));if(h===0)return To.every(Math.max(uc(u,s,d),1));const[p,g]=a[l/a[h-1][2]<a[h][2]/l?h-1:h];return p.every(g)}return[c,f]}const[b6,Ih]=Nh(ne,hi,rr,ea,li,si),[w6,_6]=Nh(ee,di,nr,Cn,ui,fi);function Oa(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qa(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _r(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function v6(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,c=t.months,f=t.shortMonths,u=vr(i),s=xr(i),d=vr(o),l=xr(o),h=vr(a),p=xr(a),g=vr(c),m=xr(c),y=vr(f),w=xr(f),v={a:Y,A:H,b:W,B:D,c:null,d:Nu,e:Nu,f:Y6,g:t3,G:n3,H:B6,I:U6,j:H6,L:Lh,m:W6,M:V6,p:P,q:F,Q:Du,s:Ru,S:G6,u:X6,U:Z6,V:j6,w:K6,W:Q6,x:null,X:null,y:J6,Y:e3,Z:r3,"%":Lu},b={a:q,A:j,b:G,B:X,c:null,d:Iu,e:Iu,f:c3,g:y3,G:w3,H:i3,I:o3,j:a3,L:Rh,m:f3,M:s3,p:z,q:B,Q:Du,s:Ru,S:u3,u:l3,U:d3,V:h3,w:p3,W:g3,x:null,X:null,y:m3,Y:b3,Z:_3,"%":Lu},x={a:k,A:M,b:L,B:E,c:I,d:ku,e:ku,f:P6,g:Cu,G:Au,H:Eu,I:Eu,j:L6,L:F6,m:I6,M:D6,p:A,q:N6,Q:q6,s:z6,S:R6,u:S6,U:A6,V:C6,w:T6,W:k6,x:S,X:R,y:Cu,Y:Au,Z:E6,"%":O6};v.x=_(n,v),v.X=_(r,v),v.c=_(e,v),b.x=_(n,b),b.X=_(r,b),b.c=_(e,b);function _(N,O){return function(U){var C=[],nt=-1,V=0,at=N.length,st,xt,Ue;for(U instanceof Date||(U=new Date(+U));++nt<at;)N.charCodeAt(nt)===37&&(C.push(N.slice(V,nt)),(xt=Su[st=N.charAt(++nt)])!=null?st=N.charAt(++nt):xt=st==="e"?" ":"0",(Ue=O[st])&&(st=Ue(U,xt)),C.push(st),V=nt+1);return C.push(N.slice(V,nt)),C.join("")}}function $(N,O){return function(U){var C=_r(1900,void 0,1),nt=T(C,N,U+="",0),V,at;if(nt!=U.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(O&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(V=qa(_r(C.y,0,1)),at=V.getUTCDay(),V=at>4||at===0?Xr.ceil(V):Xr(V),V=ta.offset(V,(C.V-1)*7),C.y=V.getUTCFullYear(),C.m=V.getUTCMonth(),C.d=V.getUTCDate()+(C.w+6)%7):(V=Oa(_r(C.y,0,1)),at=V.getDay(),V=at>4||at===0?Gr.ceil(V):Gr(V),V=Cn.offset(V,(C.V-1)*7),C.y=V.getFullYear(),C.m=V.getMonth(),C.d=V.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),at="Z"in C?qa(_r(C.y,0,1)).getUTCDay():Oa(_r(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(at+5)%7:C.w+C.U*7-(at+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,qa(C)):Oa(C)}}function T(N,O,U,C){for(var nt=0,V=O.length,at=U.length,st,xt;nt<V;){if(C>=at)return-1;if(st=O.charCodeAt(nt++),st===37){if(st=O.charAt(nt++),xt=x[st in Su?O.charAt(nt++):st],!xt||(C=xt(N,U,C))<0)return-1}else if(st!=U.charCodeAt(C++))return-1}return C}function A(N,O,U){var C=u.exec(O.slice(U));return C?(N.p=s.get(C[0].toLowerCase()),U+C[0].length):-1}function k(N,O,U){var C=h.exec(O.slice(U));return C?(N.w=p.get(C[0].toLowerCase()),U+C[0].length):-1}function M(N,O,U){var C=d.exec(O.slice(U));return C?(N.w=l.get(C[0].toLowerCase()),U+C[0].length):-1}function L(N,O,U){var C=y.exec(O.slice(U));return C?(N.m=w.get(C[0].toLowerCase()),U+C[0].length):-1}function E(N,O,U){var C=g.exec(O.slice(U));return C?(N.m=m.get(C[0].toLowerCase()),U+C[0].length):-1}function I(N,O,U){return T(N,e,O,U)}function S(N,O,U){return T(N,n,O,U)}function R(N,O,U){return T(N,r,O,U)}function Y(N){return a[N.getDay()]}function H(N){return o[N.getDay()]}function W(N){return f[N.getMonth()]}function D(N){return c[N.getMonth()]}function P(N){return i[+(N.getHours()>=12)]}function F(N){return 1+~~(N.getMonth()/3)}function q(N){return a[N.getUTCDay()]}function j(N){return o[N.getUTCDay()]}function G(N){return f[N.getUTCMonth()]}function X(N){return c[N.getUTCMonth()]}function z(N){return i[+(N.getUTCHours()>=12)]}function B(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var O=_(N+="",v);return O.toString=function(){return N},O},parse:function(N){var O=$(N+="",!1);return O.toString=function(){return N},O},utcFormat:function(N){var O=_(N+="",b);return O.toString=function(){return N},O},utcParse:function(N){var O=$(N+="",!0);return O.toString=function(){return N},O}}}var Su={"-":"",_:" ",0:"0"},wt=/^\s*\d+/,x6=/^%/,M6=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function $6(t){return t.replace(M6,"\\$&")}function vr(t){return new RegExp("^(?:"+t.map($6).join("|")+")","i")}function xr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function T6(t,e,n){var r=wt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function S6(t,e,n){var r=wt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function A6(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function C6(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function k6(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Au(t,e,n){var r=wt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Cu(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function E6(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function N6(t,e,n){var r=wt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function I6(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ku(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function L6(t,e,n){var r=wt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Eu(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function D6(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function R6(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function F6(t,e,n){var r=wt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function P6(t,e,n){var r=wt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function O6(t,e,n){var r=x6.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function q6(t,e,n){var r=wt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function z6(t,e,n){var r=wt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Nu(t,e){return ot(t.getDate(),e,2)}function B6(t,e){return ot(t.getHours(),e,2)}function U6(t,e){return ot(t.getHours()%12||12,e,2)}function H6(t,e){return ot(1+Cn.count(ee(t),t),e,3)}function Lh(t,e){return ot(t.getMilliseconds(),e,3)}function Y6(t,e){return Lh(t,e)+"000"}function W6(t,e){return ot(t.getMonth()+1,e,2)}function V6(t,e){return ot(t.getMinutes(),e,2)}function G6(t,e){return ot(t.getSeconds(),e,2)}function X6(t){var e=t.getDay();return e===0?7:e}function Z6(t,e){return ot(nr.count(ee(t)-1,t),e,2)}function Dh(t){var e=t.getDay();return e>=4||e===0?Sn(t):Sn.ceil(t)}function j6(t,e){return t=Dh(t),ot(Sn.count(ee(t),t)+(ee(t).getDay()===4),e,2)}function K6(t){return t.getDay()}function Q6(t,e){return ot(Gr.count(ee(t)-1,t),e,2)}function J6(t,e){return ot(t.getFullYear()%100,e,2)}function t3(t,e){return t=Dh(t),ot(t.getFullYear()%100,e,2)}function e3(t,e){return ot(t.getFullYear()%1e4,e,4)}function n3(t,e){var n=t.getDay();return t=n>=4||n===0?Sn(t):Sn.ceil(t),ot(t.getFullYear()%1e4,e,4)}function r3(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function Iu(t,e){return ot(t.getUTCDate(),e,2)}function i3(t,e){return ot(t.getUTCHours(),e,2)}function o3(t,e){return ot(t.getUTCHours()%12||12,e,2)}function a3(t,e){return ot(1+ta.count(ne(t),t),e,3)}function Rh(t,e){return ot(t.getUTCMilliseconds(),e,3)}function c3(t,e){return Rh(t,e)+"000"}function f3(t,e){return ot(t.getUTCMonth()+1,e,2)}function s3(t,e){return ot(t.getUTCMinutes(),e,2)}function u3(t,e){return ot(t.getUTCSeconds(),e,2)}function l3(t){var e=t.getUTCDay();return e===0?7:e}function d3(t,e){return ot(rr.count(ne(t)-1,t),e,2)}function Fh(t){var e=t.getUTCDay();return e>=4||e===0?An(t):An.ceil(t)}function h3(t,e){return t=Fh(t),ot(An.count(ne(t),t)+(ne(t).getUTCDay()===4),e,2)}function p3(t){return t.getUTCDay()}function g3(t,e){return ot(Xr.count(ne(t)-1,t),e,2)}function m3(t,e){return ot(t.getUTCFullYear()%100,e,2)}function y3(t,e){return t=Fh(t),ot(t.getUTCFullYear()%100,e,2)}function b3(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function w3(t,e){var n=t.getUTCDay();return t=n>=4||n===0?An(t):An.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function _3(){return"+0000"}function Lu(){return"%"}function Du(t){return+t}function Ru(t){return Math.floor(+t/1e3)}var Fn,Lf,pi;v3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v3(t){return Fn=v6(t),Lf=Fn.format,Fn.parse,pi=Fn.utcFormat,Fn.utcParse,Fn}function x3(t){return new Date(t)}function M3(t){return t instanceof Date?+t:+new Date(+t)}function Df(t,e,n,r,i,o,a,c,f,u){var s=dh(),d=s.invert,l=s.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),w=u("%b %d"),v=u("%B"),b=u("%Y");function x(_){return(f(_)<_?h:c(_)<_?p:a(_)<_?g:o(_)<_?m:r(_)<_?i(_)<_?y:w:n(_)<_?v:b)(_)}return s.invert=function(_){return new Date(d(_))},s.domain=function(_){return arguments.length?l(Array.from(_,M3)):l().map(x3)},s.ticks=function(_){var $=l();return t($[0],$[$.length-1],_??10)},s.tickFormat=function(_,$){return $==null?x:u($)},s.nice=function(_){var $=l();return(!_||typeof _.range!="function")&&(_=e($[0],$[$.length-1],_??10)),_?l(ph($,_)):s},s.copy=function(){return ai(s,Df(t,e,n,r,i,o,a,c,f,u))},s}function $3(){return ye.apply(Df(w6,_6,ee,di,nr,Cn,ui,fi,Qt,Lf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T3(){return ye.apply(Df(b6,Ih,ne,hi,rr,ta,li,si,Qt,pi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function na(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ra(){var t=0,e=.5,n=1,r=1,i,o,a,c,f,u=Gt,s,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+s(g))-o)*(r*g<r*o?c:f),u(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,n]=g,i=s(t=+t),o=s(e=+e),a=s(n=+n),c=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var y,w,v;return arguments.length?([y,w,v]=m,u=Wo(g,[y,w,v]),h):[u(0),u(.5),u(1)]}}return h.range=p(Mn),h.rangeRound=p(_f),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return s=g,i=g(t),o=g(e),a=g(n),c=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function Ph(){var t=ci(ra()(Gt));return t.copy=function(){return na(t,Ph())},Ko.apply(t,arguments)}function Oh(){var t=gh(ra()).domain([.1,1,10]);return t.copy=function(){return na(t,Oh()).base(t.base())},Ko.apply(t,arguments)}function qh(){var t=yh(ra());return t.copy=function(){return na(t,qh()).constant(t.constant())},Ko.apply(t,arguments)}function zh(){var t=wh(ra());return t.copy=function(){return na(t,zh()).exponent(t.exponent())},Ko.apply(t,arguments)}function Q(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const S3=Q("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),A3=Q("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),C3=Q("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),k3=Q("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),E3=Q("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),N3=Q("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),I3=Q("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),L3=Q("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),D3=Q("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),R3=Q("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),F3=Q("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ft=t=>S2(t[t.length-1]);var Bh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Q);const Uh=ft(Bh);var Hh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Q);const Yh=ft(Hh);var Wh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Q);const Vh=ft(Wh);var Gh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Q);const Xh=ft(Gh);var Hc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Q);const So=ft(Hc);var Zh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Q);const jh=ft(Zh);var Yc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Q);const Ao=ft(Yc);var Kh=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Q);const Qh=ft(Kh);var Jh=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Q);const t0=ft(Jh);var e0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Q);const n0=ft(e0);var r0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Q);const i0=ft(r0);var o0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Q);const a0=ft(o0);var c0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Q);const f0=ft(c0);var s0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Q);const u0=ft(s0);var l0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Q);const d0=ft(l0);var h0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Q);const p0=ft(h0);var g0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Q);const m0=ft(g0);var y0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Q);const b0=ft(y0);var w0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Q);const _0=ft(w0);var v0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Q);const x0=ft(v0);var M0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Q);const $0=ft(M0);var T0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Q);const S0=ft(T0);var A0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Q);const C0=ft(A0);var k0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Q);const E0=ft(k0);var N0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Q);const I0=ft(N0);var L0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Q);const D0=ft(L0);var R0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Q);const F0=ft(R0);function P0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const O0=vf(pe(300,.5,0),pe(-240,.5,1));var q0=vf(pe(-100,.75,.35),pe(80,1.5,.8)),z0=vf(pe(260,.75,.35),pe(80,1.5,.8)),Di=pe();function B0(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Di.h=360*t-100,Di.s=1.5-1.5*e,Di.l=.8-.9*e,Di+""}var Ri=Ze(),P3=Math.PI/3,O3=Math.PI*2/3;function U0(t){var e;return t=(.5-t)*Math.PI,Ri.r=255*(e=Math.sin(t))*e,Ri.g=255*(e=Math.sin(t+P3))*e,Ri.b=255*(e=Math.sin(t+O3))*e,Ri+""}function H0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function ia(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Y0=ia(Q("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var W0=ia(Q("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),V0=ia(Q("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),G0=ia(Q("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function rt(t){return function(){return t}}const Fu=Math.abs,Mt=Math.atan2,Ae=Math.cos,q3=Math.max,Wn=Math.min,It=Math.sin,ut=Math.sqrt,$t=1e-12,je=Math.PI,Co=je/2,Ve=2*je;function z3(t){return t>1?0:t<-1?je:Math.acos(t)}function Pu(t){return t>=1?Co:t<=-1?-Co:Math.asin(t)}function Rf(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new kd(e)}function B3(t){return t.innerRadius}function U3(t){return t.outerRadius}function H3(t){return t.startAngle}function Y3(t){return t.endAngle}function W3(t){return t&&t.padAngle}function V3(t,e,n,r,i,o,a,c){var f=n-t,u=r-e,s=a-i,d=c-o,l=d*f-s*u;if(!(l*l<$t))return l=(s*(e-o)-d*(t-i))/l,[t+l*f,e+l*u]}function Fi(t,e,n,r,i,o,a){var c=t-n,f=e-r,u=(a?o:-o)/ut(c*c+f*f),s=u*f,d=-u*c,l=t+s,h=e+d,p=n+s,g=r+d,m=(l+p)/2,y=(h+g)/2,w=p-l,v=g-h,b=w*w+v*v,x=i-o,_=l*g-p*h,$=(v<0?-1:1)*ut(q3(0,x*x*b-_*_)),T=(_*v-w*$)/b,A=(-_*w-v*$)/b,k=(_*v+w*$)/b,M=(-_*w+v*$)/b,L=T-m,E=A-y,I=k-m,S=M-y;return L*L+E*E>I*I+S*S&&(T=k,A=M),{cx:T,cy:A,x01:-s,y01:-d,x11:T*(i/x-1),y11:A*(i/x-1)}}function Ou(){var t=B3,e=U3,n=rt(0),r=null,i=H3,o=Y3,a=W3,c=null,f=Rf(u);function u(){var s,d,l=+t.apply(this,arguments),h=+e.apply(this,arguments),p=i.apply(this,arguments)-Co,g=o.apply(this,arguments)-Co,m=Fu(g-p),y=g>p;if(c||(c=s=f()),h<l&&(d=h,h=l,l=d),!(h>$t))c.moveTo(0,0);else if(m>Ve-$t)c.moveTo(h*Ae(p),h*It(p)),c.arc(0,0,h,p,g,!y),l>$t&&(c.moveTo(l*Ae(g),l*It(g)),c.arc(0,0,l,g,p,y));else{var w=p,v=g,b=p,x=g,_=m,$=m,T=a.apply(this,arguments)/2,A=T>$t&&(r?+r.apply(this,arguments):ut(l*l+h*h)),k=Wn(Fu(h-l)/2,+n.apply(this,arguments)),M=k,L=k,E,I;if(A>$t){var S=Pu(A/l*It(T)),R=Pu(A/h*It(T));(_-=S*2)>$t?(S*=y?1:-1,b+=S,x-=S):(_=0,b=x=(p+g)/2),($-=R*2)>$t?(R*=y?1:-1,w+=R,v-=R):($=0,w=v=(p+g)/2)}var Y=h*Ae(w),H=h*It(w),W=l*Ae(x),D=l*It(x);if(k>$t){var P=h*Ae(v),F=h*It(v),q=l*Ae(b),j=l*It(b),G;if(m<je)if(G=V3(Y,H,q,j,P,F,W,D)){var X=Y-G[0],z=H-G[1],B=P-G[0],N=F-G[1],O=1/It(z3((X*B+z*N)/(ut(X*X+z*z)*ut(B*B+N*N)))/2),U=ut(G[0]*G[0]+G[1]*G[1]);M=Wn(k,(l-U)/(O-1)),L=Wn(k,(h-U)/(O+1))}else M=L=0}$>$t?L>$t?(E=Fi(q,j,Y,H,h,L,y),I=Fi(P,F,W,D,h,L,y),c.moveTo(E.cx+E.x01,E.cy+E.y01),L<k?c.arc(E.cx,E.cy,L,Mt(E.y01,E.x01),Mt(I.y01,I.x01),!y):(c.arc(E.cx,E.cy,L,Mt(E.y01,E.x01),Mt(E.y11,E.x11),!y),c.arc(0,0,h,Mt(E.cy+E.y11,E.cx+E.x11),Mt(I.cy+I.y11,I.cx+I.x11),!y),c.arc(I.cx,I.cy,L,Mt(I.y11,I.x11),Mt(I.y01,I.x01),!y))):(c.moveTo(Y,H),c.arc(0,0,h,w,v,!y)):c.moveTo(Y,H),!(l>$t)||!(_>$t)?c.lineTo(W,D):M>$t?(E=Fi(W,D,P,F,l,-M,y),I=Fi(Y,H,q,j,l,-M,y),c.lineTo(E.cx+E.x01,E.cy+E.y01),M<k?c.arc(E.cx,E.cy,M,Mt(E.y01,E.x01),Mt(I.y01,I.x01),!y):(c.arc(E.cx,E.cy,M,Mt(E.y01,E.x01),Mt(E.y11,E.x11),!y),c.arc(0,0,l,Mt(E.cy+E.y11,E.cx+E.x11),Mt(I.cy+I.y11,I.cx+I.x11),y),c.arc(I.cx,I.cy,M,Mt(I.y11,I.x11),Mt(I.y01,I.x01),!y))):c.arc(0,0,l,x,b,y)}if(c.closePath(),s)return c=null,s+""||null}return u.centroid=function(){var s=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-je/2;return[Ae(d)*s,It(d)*s]},u.innerRadius=function(s){return arguments.length?(t=typeof s=="function"?s:rt(+s),u):t},u.outerRadius=function(s){return arguments.length?(e=typeof s=="function"?s:rt(+s),u):e},u.cornerRadius=function(s){return arguments.length?(n=typeof s=="function"?s:rt(+s),u):n},u.padRadius=function(s){return arguments.length?(r=s==null?null:typeof s=="function"?s:rt(+s),u):r},u.startAngle=function(s){return arguments.length?(i=typeof s=="function"?s:rt(+s),u):i},u.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:rt(+s),u):o},u.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:rt(+s),u):a},u.context=function(s){return arguments.length?(c=s??null,u):c},u}function Ff(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function X0(t){this._context=t}X0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gi(t){return new X0(t)}function Z0(t){return t[0]}function j0(t){return t[1]}function K0(t,e){var n=rt(!0),r=null,i=gi,o=null,a=Rf(c);t=typeof t=="function"?t:t===void 0?Z0:rt(t),e=typeof e=="function"?e:e===void 0?j0:rt(e);function c(f){var u,s=(f=Ff(f)).length,d,l=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=s;++u)!(u<s&&n(d=f[u],u,f))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(d,u,f),+e(d,u,f));if(h)return o=null,h+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:rt(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),c):r},c}function G3(t,e,n){var r=null,i=rt(!0),o=null,a=gi,c=null,f=Rf(u);t=typeof t=="function"?t:t===void 0?Z0:rt(+t),e=typeof e=="function"?e:rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?j0:rt(+n);function u(d){var l,h,p,g=(d=Ff(d)).length,m,y=!1,w,v=new Array(g),b=new Array(g);for(o==null&&(c=a(w=f())),l=0;l<=g;++l){if(!(l<g&&i(m=d[l],l,d))===y)if(y=!y)h=l,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),p=l-1;p>=h;--p)c.point(v[p],b[p]);c.lineEnd(),c.areaEnd()}y&&(v[l]=+t(m,l,d),b[l]=+e(m,l,d),c.point(r?+r(m,l,d):v[l],n?+n(m,l,d):b[l]))}if(w)return c=null,w+""||null}function s(){return K0().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:rt(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:rt(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:rt(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:rt(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:rt(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:rt(+d),u):n},u.lineX0=u.lineY0=function(){return s().x(t).y(e)},u.lineY1=function(){return s().x(t).y(n)},u.lineX1=function(){return s().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:rt(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(c=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=c=null:c=a(o=d),u):o},u}function X3(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Z3(t){return t}function j3(){var t=Z3,e=X3,n=null,r=rt(0),i=rt(Ve),o=rt(0);function a(c){var f,u=(c=Ff(c)).length,s,d,l=0,h=new Array(u),p=new Array(u),g=+r.apply(this,arguments),m=Math.min(Ve,Math.max(-Ve,i.apply(this,arguments)-g)),y,w=Math.min(Math.abs(m)/u,o.apply(this,arguments)),v=w*(m<0?-1:1),b;for(f=0;f<u;++f)(b=p[h[f]=f]=+t(c[f],f,c))>0&&(l+=b);for(e!=null?h.sort(function(x,_){return e(p[x],p[_])}):n!=null&&h.sort(function(x,_){return n(c[x],c[_])}),f=0,d=l?(m-u*v)/l:0;f<u;++f,g=y)s=h[f],b=p[s],y=g+(b>0?b*d:0)+v,p[s]={data:c[s],index:f,value:b,startAngle:g,endAngle:y,padAngle:w};return p}return a.value=function(c){return arguments.length?(t=typeof c=="function"?c:rt(+c),a):t},a.sortValues=function(c){return arguments.length?(e=c,n=null,a):e},a.sort=function(c){return arguments.length?(n=c,e=null,a):n},a.startAngle=function(c){return arguments.length?(r=typeof c=="function"?c:rt(+c),a):r},a.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:rt(+c),a):i},a.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:rt(+c),a):o},a}class Q0{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function K3(t){return new Q0(t,!0)}function Q3(t){return new Q0(t,!1)}const J3=ut(3),J0={draw(t,e){const n=ut(e+Wn(e/28,.75))*.59436,r=n/2,i=r*J3;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Zr={draw(t,e){const n=ut(e/je);t.moveTo(n,0),t.arc(0,0,n,0,Ve)}},tp={draw(t,e){const n=ut(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ep=ut(1/3),t_=ep*2,np={draw(t,e){const n=ut(e/t_),r=n*ep;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},rp={draw(t,e){const n=ut(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},ip={draw(t,e){const n=ut(e-Wn(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},op={draw(t,e){const n=ut(e),r=-n/2;t.rect(r,r,n,n)}},ap={draw(t,e){const n=ut(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},e_=.8908130915292852,cp=It(je/10)/It(7*je/10),n_=It(Ve/10)*cp,r_=-Ae(Ve/10)*cp,fp={draw(t,e){const n=ut(e*e_),r=n_*n,i=r_*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Ve*o/5,c=Ae(a),f=It(a);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},za=ut(3),sp={draw(t,e){const n=-ut(e/(za*3));t.moveTo(0,n*2),t.lineTo(-za*n,-n),t.lineTo(za*n,-n),t.closePath()}},i_=ut(3),up={draw(t,e){const n=ut(e)*.6824,r=n/2,i=n*i_/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Bt=-.5,Ut=ut(3)/2,Wc=1/ut(12),o_=(Wc/2+1)*3,lp={draw(t,e){const n=ut(e/o_),r=n/2,i=n*Wc,o=r,a=n*Wc+n,c=-o,f=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(c,f),t.lineTo(Bt*r-Ut*i,Ut*r+Bt*i),t.lineTo(Bt*o-Ut*a,Ut*o+Bt*a),t.lineTo(Bt*c-Ut*f,Ut*c+Bt*f),t.lineTo(Bt*r+Ut*i,Bt*i-Ut*r),t.lineTo(Bt*o+Ut*a,Bt*a-Ut*o),t.lineTo(Bt*c+Ut*f,Bt*f-Ut*c),t.closePath()}},dp={draw(t,e){const n=ut(e-Wn(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},a_=[Zr,tp,np,op,fp,sp,lp],c_=[Zr,ip,dp,up,J0,ap,rp];function Ke(){}function ko(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oa(t){this._context=t}oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ko(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ko(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function f_(t){return new oa(t)}function hp(t){this._context=t}hp.prototype={areaStart:Ke,areaEnd:Ke,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ko(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function s_(t){return new hp(t)}function pp(t){this._context=t}pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ko(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function u_(t){return new pp(t)}function gp(t,e){this._basis=new oa(t),this._beta=e}gp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,c=-1,f;++c<=n;)f=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+f*o),this._beta*e[c]+(1-this._beta)*(i+f*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const l_=function t(e){function n(r){return e===1?new oa(r):new gp(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Eo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Pf(t,e){this._context=t,this._k=(1-e)/6}Pf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Eo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Eo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const d_=function t(e){function n(r){return new Pf(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Of(t,e){this._context=t,this._k=(1-e)/6}Of.prototype={areaStart:Ke,areaEnd:Ke,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Eo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const h_=function t(e){function n(r){return new Of(r,e)}return n.tension=function(r){return t(+r)},n}(0);function qf(t,e){this._context=t,this._k=(1-e)/6}qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Eo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const p_=function t(e){function n(r){return new qf(r,e)}return n.tension=function(r){return t(+r)},n}(0);function zf(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>$t){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>$t){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/s,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function mp(t,e){this._context=t,this._alpha=e}mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:zf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const g_=function t(e){function n(r){return e?new mp(r,e):new Pf(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function yp(t,e){this._context=t,this._alpha=e}yp.prototype={areaStart:Ke,areaEnd:Ke,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:zf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const m_=function t(e){function n(r){return e?new yp(r,e):new Of(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function bp(t,e){this._context=t,this._alpha=e}bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const y_=function t(e){function n(r){return e?new bp(r,e):new qf(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function wp(t){this._context=t}wp.prototype={areaStart:Ke,areaEnd:Ke,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function b_(t){return new wp(t)}function qu(t){return t<0?-1:1}function zu(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),c=(o*i+a*r)/(r+i);return(qu(o)+qu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(c))||0}function Bu(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ba(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*e,o-c,a-c*n,o,a)}function No(t){this._context=t}No.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ba(this,this._t0,Bu(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ba(this,Bu(this,n=zu(this,t,e)),n);break;default:Ba(this,this._t0,n=zu(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function _p(t){this._context=new vp(t)}(_p.prototype=Object.create(No.prototype)).point=function(t,e){No.prototype.point.call(this,e,t)};function vp(t){this._context=t}vp.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function w_(t){return new No(t)}function __(t){return new _p(t)}function xp(t){this._context=t}xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Uu(t),i=Uu(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Uu(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function v_(t){return new xp(t)}function aa(t,e){this._context=t,this._t=e}aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function x_(t){return new aa(t,.5)}function M_(t){return new aa(t,0)}function $_(t){return new aa(t,1)}function Lr(t,e,n){this.k=t,this.x=e,this.y=n}Lr.prototype={constructor:Lr,scale:function(t){return t===1?this:new Lr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Lr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Lr.prototype;function Qe(t){return t!=null&&!Number.isNaN(t)}function re(t,e){return+Qe(e)-+Qe(t)||Dt(t,e)}function Io(t,e){return+Qe(e)-+Qe(t)||ei(t,e)}function Bf(t){return t!=null&&`${t}`!=""}function Mp(t){return isFinite(t)?t:NaN}function ca(t){return t>0&&isFinite(t)?t:NaN}function Uf(t){return t<0&&isFinite(t)?t:NaN}function T_(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${S_(t.getUTCFullYear())}-${Ce(t.getUTCMonth()+1,2)}-${Ce(t.getUTCDate(),2)}${n||r||i||o?`T${Ce(n,2)}:${Ce(r,2)}${i||o?`:${Ce(i,2)}${o?`.${Ce(o,3)}`:""}`:""}Z`:""}`}function S_(t){return t<0?`-${Ce(-t,6)}`:t>9999?`+${Ce(t,6)}`:Ce(t,4)}function Ce(t,e){return`${t}`.padStart(e,"0")}const A_=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function $p(t,e){return A_.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function ir(t){if(t==null)return;const e=t[0],n=t[t.length-1];return ei(e,n)}const zn=1e3,Ye=zn*60,We=Ye*60,ge=We*24,fe=ge*7,yn=ge*30,He=ge*365,Ua=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",zn],["5 seconds",5*zn],["15 seconds",15*zn],["30 seconds",30*zn],["minute",Ye],["5 minutes",5*Ye],["15 minutes",15*Ye],["30 minutes",30*Ye],["hour",We],["3 hours",3*We],["6 hours",6*We],["12 hours",12*We],["day",ge],["2 days",2*ge],["week",fe],["2 weeks",2*fe],["month",yn],["3 months",3*yn],["6 months",6*yn],["year",He],["2 years",2*He],["5 years",5*He],["10 years",10*He],["20 years",20*He],["50 years",50*He],["100 years",100*He]],Hf=new Map([["second",zn],["minute",Ye],["hour",We],["day",ge],["monday",fe],["tuesday",fe],["wednesday",fe],["thursday",fe],["friday",fe],["saturday",fe],["sunday",fe],["week",fe],["month",yn],["year",He]]),Tp=new Map([["second",Qt],["minute",fi],["hour",ui],["day",Cn],["monday",Gr],["tuesday",Mh],["wednesday",$h],["thursday",Sn],["friday",Th],["saturday",Sh],["sunday",nr],["week",nr],["month",di],["year",ee]]),Yf=new Map([["second",Qt],["minute",si],["hour",li],["day",ea],["monday",Xr],["tuesday",Ah],["wednesday",Ch],["thursday",An],["friday",kh],["saturday",Eh],["sunday",rr],["week",rr],["month",hi],["year",ne]]),mi=Symbol("intervalDuration"),fa=Symbol("intervalType");for(const[t,e]of Tp)e[mi]=Hf.get(t),e[fa]="time";for(const[t,e]of Yf)e[mi]=Hf.get(t),e[fa]="utc";const Dr=[["year",ne,"utc"],["month",hi,"utc"],["day",ea,"utc",6*yn],["hour",li,"utc",3*ge],["minute",si,"utc",6*We],["second",Qt,"utc",30*Ye]],ji=[["year",ee,"time"],["month",di,"time"],["day",Cn,"time",6*yn],["hour",ui,"time",3*ge],["minute",fi,"time",6*We],["second",Qt,"time",30*Ye]],C_=[Dr[0],ji[0],Dr[1],ji[1],Dr[2],ji[2],...Dr.slice(3)];function Sp(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let i=Yf.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function Ap(t){return Cp(Sp(t),"time")}function Wf(t){return Cp(Sp(t),"utc")}function Cp([t,e],n){let r=(n==="time"?Tp:Yf).get(t);return e>1&&(r=r.every(e),r[mi]=Hf.get(t)*e,r[fa]=n),r}function Hu(t,e){if(!(e>1))return;const n=t[mi];if(!Ua.some(([,i])=>i===n)||n%ge===0&&ge<n&&n<yn)return;const[r]=Ua[Oo(([,i])=>Math.log(i)).center(Ua,Math.log(n*e))];return(t[fa]==="time"?Ap:Wf)(r)}function Yu(t,e,n){const r=e==="time"?Lf:pi;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=k_(n);switch(t){case"millisecond":return Pn(r(".%L"),r(":%M:%S"),i);case"second":return Pn(r(":%S"),r("%-I:%M"),i);case"minute":return Pn(r("%-I:%M"),r("%p"),i);case"hour":return Pn(r("%-I %p"),r("%b %-d"),i);case"day":return Pn(r("%-d"),r("%b"),i);case"month":return Pn(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function k_(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function E_(t){return t==="time"?ji:t==="utc"?Dr:C_}function N_(t,e,n){const r=Jt(pm(e,(i,o)=>Math.abs(o-i)));if(r<1e3)return Yu("millisecond","utc",n);for(const[i,o,a,c]of E_(t)){if(r>c||i==="hour"&&!r)break;if(e.every(f=>o.floor(f)>=f))return Yu(i,a,n)}}function Pn(t,e,n){return(r,i,o)=>{const a=t(r,i),c=e(r,i),f=i-ir(o);return i!==f&&o[f]!==void 0&&c===e(o[f],f)?a:n(a,c)}}const Vf=Object.getPrototypeOf(Uint8Array),I_=Object.prototype.toString;function Nn(t){return t instanceof Array||t instanceof Vf}function kp(t){return t instanceof Vf&&!L_(t)}function Ep(t){return(t==null?void 0:t.prototype)instanceof Vf&&!D_(t)}function L_(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function D_(t){return t===BigInt64Array||t===BigUint64Array}const Np=Symbol("reindex");function bt(t,e,n){const r=typeof e;return r==="string"?Hp(t)?Gf(t.getChild(e),n):Wu(t,Ip(e),n):r==="function"?Wu(t,e,n):r==="number"||e instanceof Date||r==="boolean"?pt(t,Le(e),n):typeof(e==null?void 0:e.transform)=="function"?Vc(e.transform(t),n):R_(Vc(e,n),t==null?void 0:t[Np])}function R_(t,e){return t!=null&&e?Kf(t,e):t}function Wu(t,e,n){return pt(t,Ep(n)?(r,i)=>Xf(e(r,i)):e,n)}function Vc(t,e){return e===void 0?Je(t):Yp(t)?Gf(t,e):t instanceof e?t:e.from(t,Ep(e)&&!kp(t)?Xf:void 0)}function Gf(t,e){return t==null?t:(e===void 0||e===Array)&&n5(t.type)?Dp(t.toArray()):Vc(t.toArray(),e)}const Ki=[null],Ip=t=>e=>{var r;const n=e[t];return n===void 0&&e.type==="Feature"?(r=e.properties)==null?void 0:r[t]:n},sa={transform:ze},Nt={transform:t=>t},F_=()=>1,P_=()=>!0,kt=t=>t==null?t:`${t}`,At=t=>t==null?t:+t,Lp=t=>t?t[0]:void 0,Gc=t=>t?t[1]:void 0,Le=t=>()=>t;function O_(t){const e=+`${t}`.slice(1)/100;return(n,r)=>Xn(n,e,r)}function or(t){return kp(t)?t:pt(t,Xf,Float64Array)}function Xf(t){return t==null?NaN:Number(t)}function Dp(t){return pt(t,Rp)}function Rp(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?$p(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function qe(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:la(t)?[void 0,t]:[t,void 0]}function Et(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function Fp(t,e,n){if(t!=null)return ae(t,e,n)}function ae(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function ar(t){return Hp(t)?t:Je(t)}function Je(t){if(t==null||Nn(t))return t;if(Yp(t))return Gf(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function pt(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function jr(t,e=Array){return t instanceof e?t.slice():e.from(t)}function q_({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function Pp({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function z_(t){return q_(t)||Pp(t)||t.interval!==void 0}function rn(t){return(t==null?void 0:t.toString)===I_}function Xc(t){return rn(t)&&(t.type!==void 0||t.domain!==void 0)}function ua(t){return rn(t)&&typeof t.transform!="function"}function cr(t){return ua(t)&&t.value===void 0&&t.channel===void 0}function B_(t,e,n,r=Nt){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function Zf(t,e){return t===void 0&&e===void 0?[Lp,Gc]:[t,e]}function jf({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=qe(e)),t===void 0&&([t]=qe(n)),t}function Kr(t){return Nn(t)?t.length:t==null?void 0:t.numRows}function ze(t){const e=Kr(t),n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function Kf(t,e){return Nn(t)?pt(e,n=>t[n],t.constructor):pt(e,n=>t.at(n))}function U_(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function De(t){return t!==null&&typeof t=="object"?t.valueOf():t}function H_(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function Lo(t){let e;return[{transform:()=>e,label:In(t)},n=>e=n]}function Te(t){return t==null?[t]:Lo(t)}function In(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function Zc(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return Ft(r)||Ft(i)?pt(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):pt(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function Op(t,e){const n=qp(e==null?void 0:e.interval,e==null?void 0:e.type);return n?pt(t,n):t}function qp(t,e){const n=Qf(t,e);return n&&(r=>Qe(r)?n.floor(r):r)}function Qf(t,e){if(t!=null){if(typeof t=="number")return Y_(t);if(typeof t=="string")return(e==="time"?Ap:Wf)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Y_(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,offset:(n,r=1)=>(n*e+Math.floor(r))/e,range:(n,r)=>dc(Math.ceil(n*e),r*e).map(i=>i/e)}:{floor:n=>Math.floor(n/e)*e,offset:(n,r=1)=>n+e*Math.floor(r),range:(n,r)=>dc(Math.ceil(n/e),r/e).map(i=>i*e)}}function gr(t,e){if(t=Qf(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function W_(t,e){if(t=gr(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function V_(t){return Bn(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function Bn(t){return typeof(t==null?void 0:t.range)=="function"}function yi(t){return t===void 0||ua(t)?t:{value:t}}function G_(t){return t==null?null:{transform:e=>bt(e,t,Float64Array),label:In(t)}}function on(t){return t&&typeof t[Symbol.iterator]=="function"}function zp(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function Vu(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function Ft(t){for(const e of t)if(e!=null)return e instanceof Date}function X_(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&$p(e)}function Z_(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function j_(t){for(const e of t)if(e!=null)return typeof e=="number"}function Ha(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const K_=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function la(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||K_.has(t))}function Q_(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Lt(t){return t==null||Qr(t)}function Qr(t){return/^\s*none\s*$/i.test(t)}function J_(t){return/^\s*round\s*$/i.test(t)}function jc(t,e){return Fp(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function da(t="middle"){return jc(t,"frameAnchor")}function t5(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const o=r[i];n===t?n={...n,[i]:o}:n[i]=o}return n}function e5(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function Bp(t){return on(t)?e5(t):t}function Up(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=ae(t,"clip",["frame","sphere"])),t}function Hp(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function Yp(t){return t&&typeof t.toArray=="function"&&t.type}function n5(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const le=Symbol("position"),Be=Symbol("color"),bi=Symbol("radius"),wi=Symbol("length"),_i=Symbol("opacity"),ha=Symbol("symbol"),Wp=Symbol("projection"),ht=new Map([["x",le],["y",le],["fx",le],["fy",le],["r",bi],["color",Be],["opacity",_i],["symbol",ha],["length",wi],["projection",Wp]]);function r5(t){return t===le||t===Wp}function i5(t){return t===le||t===bi||t===wi||t===_i}const o5=Math.sqrt(3),a5=2/o5,c5={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*a5,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},Jf=new Map([["asterisk",J0],["circle",Zr],["cross",tp],["diamond",np],["diamond2",rp],["hexagon",c5],["plus",ip],["square",op],["square2",ap],["star",fp],["times",dp],["triangle",sp],["triangle2",up],["wye",lp]]);function ts(t){return t&&typeof t.draw=="function"}function f5(t){return ts(t)?!0:typeof t!="string"?!1:Jf.has(t.toLowerCase())}function es(t){if(t==null||ts(t))return t;const e=Jf.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function s5(t){if(t==null||ts(t))return[void 0,t];if(typeof t=="string"){const e=Jf.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function pa({filter:t,sort:e,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=Vp(t)),e!=null&&!cr(e)&&(r=Ya(r,ns(e))),n&&(r=Ya(r,Gp))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(e===null||cr(e))&&{sort:e},transform:Ya(r,a)}}function fr({filter:t,sort:e,reverse:n,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=Vp(t)),e!=null&&!cr(e)&&(r=Wa(r,ns(e))),n&&(r=Wa(r,Gp))),{...i,...(e===null||cr(e))&&{sort:e},initializer:Wa(r,o)}}function Ya(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,ar(n),r,i)}}function Wa(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...o){let a,c,f,u,s,d;return{data:c=n,facets:f=r,channels:a}=t.call(this,n,r,i,...o),{data:s=c,facets:d=f,channels:u}=e.call(this,c,f,{...i,...a},...o),{data:s,facets:d,channels:{...a,...u}}}}function u5(t,e){return(t.initializer!=null?fr:pa)(t,e)}function Vp(t){return(e,n)=>{const r=bt(e,t);return{data:e,facets:n.map(i=>i.filter(o=>r[o]))}}}function Gp(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function l5(t,{sort:e,...n}={}){return{...(ua(t)&&t.channel!==void 0?fr:u5)(n,ns(t)),sort:cr(e)?e:null}}function ns(t){return(typeof t=="function"&&t.length!==1?d5:h5)(t)}function d5(t){return(e,n)=>{const r=Nn(e)?(i,o)=>t(e[i],e[o]):(i,o)=>t(e.get(i),e.get(o));return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function h5(t){let e,n;({channel:e,value:t,order:n}={...yi(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Io:re),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=re;break;case"descending":n=Io;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let c;if(e===void 0)c=bt(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(c=a[e],!c)return{};c=c.value}const f=(u,s)=>n(c[u],c[s]);return{data:i,facets:o.map(u=>u.slice().sort(f))}}}function Va(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function p5(t,e,n=Xp){const r=Object.entries(t);return e.title!=null&&t.title===void 0&&r.push(["title",v5]),e.href!=null&&t.href===void 0&&r.push(["href",is]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?g5(i):n(i,o,e))}function Xp(t,e,n,r=Zp){let i;rn(e)&&"reduce"in e&&(i=e.scale,e=e.reduce);const o=r(t,e,n),[a,c]=Lo(o.label);let f;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(u){o.initialize(u),f=c([])},scope(u,s){o.scope(u,s)},reduce(u,s){f.push(o.reduce(u,s))}}}function g5(t){return{name:t,initialize(){},scope(){},reduce(){}}}function Zp(t,e,n,r=rs){const i=H_(t,n),o=r(e,i);let a,c;return{label:In(o===Do?null:i,o.label),initialize(f){a=i===void 0?f:bt(f,i),o.scope==="data"&&(c=o.reduceIndex(ze(f),a))},scope(f,u){o.scope===f&&(c=o.reduceIndex(u,a))},reduce(f,u){return o.scope==null?o.reduceIndex(f,a,u):o.reduceIndex(f,a,c,u)}}}function Gu(t,e){return e?Bo(t,n=>e[n]):[[,t]]}function rs(t,e,n=m5){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&rn(t))return w5(t);if(typeof t=="function")return _5(t);if(/^p\d{2}$/i.test(t))return Se(O_(t));switch(`${t}`.toLowerCase()){case"first":return is;case"last":return x5;case"identity":return jp;case"count":return Do;case"distinct":return M5;case"sum":return e==null?Do:$5;case"proportion":return Zu(e,"data");case"proportion-facet":return Zu(e,"facet");case"deviation":return Se(Ol);case"min":return Se(Re);case"min-index":return Se(fm);case"max":return Se(Jt);case"max-index":return Se(cm);case"mean":return Xu(lm);case"median":return Xu(lc);case"variance":return Se(Pl);case"mode":return Se(hm)}return n(t)}function m5(t){throw new Error(`invalid reduce: ${t}`)}function y5(t,e){for(const n in e){const r=e[n];if(r!==void 0&&!t.some(i=>i.name===n))return r}}function b5(t,e,n){if(e){const r=e.output.transform(),i=(o,a)=>re(r[o],r[a]);t.forEach(o=>o.sort(i))}n&&t.forEach(r=>r.reverse())}function w5(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function _5(t){return{reduceIndex(e,n,r){return t(Kf(n,e),r)}}}function Se(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function Xu(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return Ft(n)?new Date(r):r}}}const jp={reduceIndex(t,e){return Kf(e,t)}},is={reduceIndex(t,e){return e[t[0]]}},v5={reduceIndex(t,e){const r=to(Un(t,o=>o.length,o=>e[o]),Gc),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[`… ${o.length.toLocaleString("en-US")} more`,Xe(o,Gc)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},x5={reduceIndex(t,e){return e[t[t.length-1]]}},Do={label:"Frequency",reduceIndex(t){return t.length}},M5={label:"Distinct",reduceIndex(t,e){const n=new zo;for(const r of t)n.add(e[r]);return n.size}},$5=Se(Xe);function Zu(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>Xe(n,o=>r[o])/i}}const T5={reduceIndex(t,e,{z:n}){return n}};function Jr(t,{scale:e,type:n,value:r,filter:i,hint:o,label:a=In(r)},c){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),Kp(c,{scale:e,type:n,value:bt(t,r),label:a,filter:i,hint:o})}function S5(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,Jr(e,r,n)]))}function A5(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:e[i];return[r,a==null?o:pt(o,a)]}));return n.channels=t,n}function Kp(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&Ha(r,la)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&Ha(r,Q_)?null:"opacity",e.defaultScale="opacity";break;case"symbol":n!==!0&&Ha(r,f5)?(e.scale=null,e.value=pt(r,es)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=ht.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!ht.has(n))throw new Error(`unknown scale: ${n}`);return e}function C5(t,e,n,r,i){const{order:o,reverse:a,reduce:c=!0,limit:f}=i;for(const u in i){if(!ht.has(u))continue;let{value:s,order:d=o,reverse:l=a,reduce:h=c,limit:p=f}=yi(i[u]);const g=s==null?void 0:s.startsWith("-");if(g&&(s=s.slice(1)),d=d===void 0?g!==(s==="width"||s==="height")?Jp:Qp:N5(d),h==null||h===!1)continue;const m=u==="fx"||u==="fy"?E5(e,r[u]):k5(n,u);if(!m)throw new Error(`missing channel for scale: ${u}`);const y=m.value,[w=0,v=1/0]=on(p)?p:p<0?[p]:[0,p];if(s==null)m.domain=()=>{let b=Array.from(new zo(y));return l&&(b=b.reverse()),(w!==0||v!==1/0)&&(b=b.slice(w,v)),b};else{const b=s==="data"?t:s==="height"?ju(n,"y1","y2"):s==="width"?ju(n,"x1","x2"):Kc(n,s,s==="y"?"y2":s==="x"?"x2":void 0),x=rs(h===!0?"max":h,b);m.domain=()=>{let _=em(ze(y),$=>x.reduceIndex($,b),$=>y[$]);return d&&_.sort(d),l&&_.reverse(),(w!==0||v!==1/0)&&(_=_.slice(w,v)),_.map(Lp)}}}}function k5(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function E5(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const c of t[o])i[c]=a}return e}function ju(t,e,n){const r=Kc(t,e),i=Kc(t,n);return pt(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Kc(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function N5(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Qp;case"descending":return Jp}throw new Error(`invalid order: ${t}`)}function Qp([t,e],[n,r]){return re(e,r)||re(t,n)}function Jp([t,e],[n,r]){return Io(e,r)||re(t,n)}function Ku(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const tg=new Map([["accent",A3],["category10",S3],["dark2",C3],["observable10",k3],["paired",E3],["pastel1",N3],["pastel2",I3],["set1",L3],["set2",D3],["set3",R3],["tableau10",F3]]);function I5(t){return t!=null&&tg.has(`${t}`.toLowerCase())}const Qu=new Map([...tg,["brbg",xe(Bh,Uh)],["prgn",xe(Hh,Yh)],["piyg",xe(Wh,Vh)],["puor",xe(Gh,Xh)],["rdbu",xe(Hc,So)],["rdgy",xe(Zh,jh)],["rdylbu",xe(Yc,Ao)],["rdylgn",xe(Kh,Qh)],["spectral",xe(Jh,t0)],["burd",Ju(Hc,So)],["buylrd",Ju(Yc,Ao)],["blues",mt(T0,S0)],["greens",mt(A0,C0)],["greys",mt(k0,E0)],["oranges",mt(R0,F0)],["purples",mt(N0,I0)],["reds",mt(L0,D0)],["turbo",Me(H0)],["viridis",Me(Y0)],["magma",Me(W0)],["inferno",Me(V0)],["plasma",Me(G0)],["cividis",Me(P0)],["cubehelix",Me(O0)],["warm",Me(q0)],["cool",Me(z0)],["bugn",mt(e0,n0)],["bupu",mt(r0,i0)],["gnbu",mt(o0,a0)],["orrd",mt(c0,f0)],["pubu",mt(l0,d0)],["pubugn",mt(s0,u0)],["purd",mt(h0,p0)],["rdpu",mt(g0,m0)],["ylgn",mt(w0,_0)],["ylgnbu",mt(y0,b0)],["ylorbr",mt(v0,x0)],["ylorrd",mt(M0,$0)],["rainbow",tl(B0)],["sinebow",tl(U0)]]);function mt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?te(e,n):t[n])}function xe(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?te(e,n):t[n])}function Ju(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?te(r=>e(1-r),n):t[n].slice().reverse())}function Me(t){return({length:e})=>te(t,Math.max(2,Math.floor(e)))}function tl(t){return({length:e})=>te(t,Math.floor(e)+1).slice(0,-1)}function eg(t){const e=`${t}`.toLowerCase();if(!Qu.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Qu.get(e)}function ga(t,e){const n=eg(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function L5(t,e="greys"){const n=new Set,[r,i]=ga(e,2);for(const o of t)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const el=new Map([["brbg",Uh],["prgn",Yh],["piyg",Vh],["puor",Xh],["rdbu",So],["rdgy",jh],["rdylbu",Ao],["rdylgn",Qh],["spectral",t0],["burd",t=>So(1-t)],["buylrd",t=>Ao(1-t)],["blues",S0],["greens",C0],["greys",E0],["purples",I0],["reds",D0],["oranges",F0],["turbo",H0],["viridis",Y0],["magma",W0],["inferno",V0],["plasma",G0],["cividis",P0],["cubehelix",O0],["warm",q0],["cool",z0],["bugn",n0],["bupu",i0],["gnbu",a0],["orrd",f0],["pubugn",u0],["pubu",d0],["purd",p0],["rdpu",m0],["ylgnbu",b0],["ylgn",_0],["ylorbr",x0],["ylorrd",$0],["rainbow",B0],["sinebow",U0]]);function os(t){const e=`${t}`.toLowerCase();if(!el.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return el.get(e)}const D5=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function R5(t){return t!=null&&D5.has(`${t}`.toLowerCase())}const ng=t=>e=>t(1-e),Ga=[0,1],nl=new Map([["number",Tt],["rgb",xn],["hsl",q2],["hcl",U2],["lab",z2]]);function rg(t){const e=`${t}`.toLowerCase();if(!nl.has(e))throw new Error(`unknown interpolator: ${e}`);return nl.get(e)}function vi(t,e,n,{type:r,nice:i,clamp:o,zero:a,domain:c=og(t,n),unknown:f,round:u,scheme:s,interval:d,range:l=ht.get(t)===bi?V5(n,c):ht.get(t)===wi?G5(n,c):ht.get(t)===_i?Ga:void 0,interpolate:h=ht.get(t)===Be?s==null&&l!==void 0?xn:os(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):u?_f:Tt,reverse:p}){if(d=gr(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=rg(h)),p=!!p,l!==void 0){const g=(c=Je(c)).length,m=(l=Je(l)).length;if(g!==m){if(h.length===1)throw new Error("invalid piecewise interpolator");h=Wo(h,l),l=void 0}}if(h.length===1?(p&&(h=ng(h),p=!1),l===void 0&&(l=Float64Array.from(c,(g,m)=>m/(c.length-1)),l.length===2&&(l=Ga)),e.interpolate((l===Ga?Le:cs)(h))):e.interpolate(h),a){const[g,m]=Yt(c);(g>0||m<0)&&(c=jr(c),(ir(c)||1)===Math.sign(g)?c[0]=0:c[c.length-1]=0)}return p&&(c=io(c)),e.domain(c).unknown(f),i&&(e.nice(F5(i,r)),c=e.domain()),l!==void 0&&e.range(l),o&&e.clamp(o),{type:r,domain:c,range:l,scale:e,interpolate:h,interval:d}}function F5(t,e){return t===!0?void 0:typeof t=="number"?t:W_(t,e)}function P5(t,e,n){return vi(t,Nf(),e,n)}function O5(t,e,n){return ig(t,e,{...n,exponent:.5})}function ig(t,e,{exponent:n=1,...r}){return vi(t,_h().exponent(n),e,{...r,type:"pow"})}function q5(t,e,{base:n=10,domain:r=X5(e),...i}){return vi(t,mh().base(n),e,{...i,domain:r})}function z5(t,e,{constant:n=1,...r}){return vi(t,bh().constant(n),e,r)}function B5(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=Z5(e),unknown:c,interpolate:f,reverse:u}){return n===void 0&&(n=f!==void 0?te(f,i):ht.get(t)===Be?ga(o,i):void 0),a.length>0&&(a=vh(a,n===void 0?{length:i}:n).quantiles()),as(t,e,{domain:a,range:n,reverse:u,unknown:c})}function U5(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=og(t,e),unknown:a,interpolate:c,reverse:f}){const[u,s]=Yt(o);let d;return n===void 0?(d=zr(u,s,r),d[0]<=u&&d.splice(0,1),d[d.length-1]>=s&&d.pop(),r=d.length+1,n=c!==void 0?te(c,r):ht.get(t)===Be?ga(i,r):void 0):(d=te(Tt(u,s),r+1).slice(1,-1),u instanceof Date&&(d=d.map(l=>new Date(l)))),ir(Je(o))<0&&d.reverse(),as(t,e,{domain:d,range:n,reverse:f,unknown:a})}function as(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?te(o,n.length+1):ht.get(t)===Be?ga(i,n.length+1):void 0,reverse:c}){n=Je(n);const f=ir(n);if(!isNaN(f)&&!H5(n,f))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(a=io(a)),{type:"threshold",scale:xh(f<0?io(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function H5(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const o=ei(i,i=t[n]);if(o!==0&&o!==e)return!1}return!0}function Y5(t){return{type:"identity",scale:i5(ht.get(t))?hh():e=>e}}function ti(t,e=Mp){return t.length?[Re(t,({value:n})=>n===void 0?n:Re(n,e)),Jt(t,({value:n})=>n===void 0?n:Jt(n,e))]:[0,1]}function og(t,e){const n=ht.get(t);return(n===bi||n===_i||n===wi?W5:ti)(e)}function W5(t){return[0,t.length?Jt(t,({value:e})=>e===void 0?e:Jt(e,Mp)):1]}function V5(t,e){const n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=Xn(t,.5,({value:a})=>a===void 0?NaN:Xn(a,.25,ca)),i=e.map(a=>3*Math.sqrt(a/r)),o=30/Jt(i);return o<1?i.map(a=>a*o):i}function G5(t,e){const n=lc(t,({value:o})=>o===void 0?NaN:lc(o,Math.abs)),r=e.map(o=>12*o/n),i=60/Jt(r);return i<1?r.map(o=>o*i):r}function X5(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return ti(t,ca);if(n<0)return ti(t,Uf)}return[1,10]}function Z5(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function cs(t){return(e,n)=>r=>t(e+r*(n-e))}let Qc=0,Jc;function j5(){const t=Qc;return Qc=0,Jc=void 0,t}function Ge(t){t!==Jc&&(Jc=t,console.warn(t),++Qc)}function ma(t,e,n,r,{type:i,nice:o,clamp:a,domain:c=ti(r),unknown:f,pivot:u=0,scheme:s,range:d,symmetric:l=!0,interpolate:h=ht.get(t)===Be?s==null&&d!==void 0?xn:os(s!==void 0?s:"rdbu"):Tt,reverse:p}){u=+u,c=Je(c);let[g,m]=c;if(c.length>2&&Ge(`Warning: the diverging ${t} scale domain contains extra elements.`),ei(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,u),m=Math.max(m,u),typeof h!="function"&&(h=rg(h)),d!==void 0&&(h=h.length===1?cs(h)(...d):Wo(h,d)),p&&(h=ng(h)),l){const y=n.apply(u),w=y-n.apply(g),v=n.apply(m)-y;w<v?g=n.invert(y-v):w>v&&(m=n.invert(y+w))}return e.domain([g,u,m]).unknown(f).interpolator(h),a&&e.clamp(a),o&&e.nice(o),{type:i,domain:[g,m],pivot:u,interpolate:h,scale:e}}function K5(t,e,n){return ma(t,Ph(),ev,e,n)}function Q5(t,e,n){return ag(t,e,{...n,exponent:.5})}function ag(t,e,{exponent:n=1,...r}){return ma(t,zh().exponent(n=+n),iv(n),e,{...r,type:"diverging-pow"})}function J5(t,e,{base:n=10,pivot:r=1,domain:i=ti(e,r<0?Uf:ca),...o}){return ma(t,Oh().base(n=+n),nv,e,{domain:i,pivot:r,...o})}function tv(t,e,{constant:n=1,...r}){return ma(t,qh().constant(n=+n),ov(n),e,r)}const ev={apply(t){return t},invert(t){return t}},nv={apply:Math.log,invert:Math.exp},rv={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function iv(t){return t===.5?rv:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function ov(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function cg(t,e,n,r){return vi(t,e,n,r)}function av(t,e,n){return cg(t,$3(),e,n)}function cv(t,e,n){return cg(t,T3(),e,n)}const xi=Symbol("ordinal");function fg(t,e,n,{type:r,interval:i,domain:o,range:a,reverse:c,hint:f}){return i=gr(i,r),o===void 0&&(o=ug(n,i,t)),(r==="categorical"||r===xi)&&(r="ordinal"),c&&(o=io(o)),o=e.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),e.range(a)),{type:r,domain:o,range:a,scale:e,hint:f,interval:i}}function fv(t,e,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:c,...f}){r=gr(r,n),i===void 0&&(i=ug(e,r,t));let u;if(ht.get(t)===ha)u=lv(e),o=o===void 0?dv(u):pt(o,es);else if(ht.get(t)===Be&&(o===void 0&&(n==="ordinal"||n===xi)&&(o=L5(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const s=os(a),d=o[0],l=o[1]-o[0];o=({length:h})=>te(p=>s(d+l*p),h)}else o=eg(a);if(c===zc)throw new Error(`implicit unknown on ${t} scale is not supported`);return fg(t,Ef().unknown(c),e,{...f,type:n,domain:i,range:o,hint:u})}function sv(t,e,{align:n=.5,padding:r=.5,...i}){return sg(o6().align(n).padding(r),e,i,t)}function uv(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return sg(Qo().align(n).paddingInner(i).paddingOuter(o),e,a,t)}function sg(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=fg(r,t,e,n),t.round=i,t}function ug(t,e,n){const r=new zo;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(e!==void 0){const[i,o]=Yt(r).map(e.floor,e);return e.range(i,e.offset(o))}if(r.size>1e4&&ht.get(n)===le)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return to(r,re)}function rl(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function lv(t){return{fill:rl(t,"fill"),stroke:rl(t,"stroke")}}function dv(t){return Lt(t.fill)?c_:a_}function tf(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:c,nice:f,clamp:u,zero:s,align:d,padding:l,projection:h,facet:{label:p=e}={},...g}={}){const m={};for(const[y,w]of t){const v=g[y],b=yv(y,w,{round:ht.get(y)===le?c:void 0,nice:f,clamp:u,zero:s,align:d,padding:l,projection:h,...v});if(b){let{label:x=y==="fx"||y==="fy"?p:e,percent:_,transform:$,inset:T,insetTop:A=T!==void 0?T:y==="y"?r:0,insetRight:k=T!==void 0?T:y==="x"?i:0,insetBottom:M=T!==void 0?T:y==="y"?o:0,insetLeft:L=T!==void 0?T:y==="x"?a:0}=v||{};if($==null)$=void 0;else if(typeof $!="function")throw new Error("invalid scale transform; not a function");b.percent=!!_,b.label=x===void 0?pv(w,b):x,b.transform=$,y==="x"||y==="fx"?(b.insetLeft=+L,b.insetRight=+k):(y==="y"||y==="fy")&&(b.insetTop=+A,b.insetBottom=+M),m[y]=b}}return m}function il(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:c,label:f}=i;e[r]=xv(i),n[r]=o,o.type=a,c!=null&&(o.interval=c),f!=null&&(o.label=f)}return n}function hv(t,e){const{x:n,y:r,fx:i,fy:o}=t,a=i||o?fs(e):e;i&&ol(i,a),o&&al(o,a);const c=i||o?lg(t,e):e;n&&ol(n,c),r&&al(r,c)}function pv(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Ln(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function gv(t){return Math.sign(ir(t.domain()))*Math.sign(ir(t.range()))}function fs(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:c,marginRight:f,marginBottom:u,marginLeft:s}}=t;return{marginTop:Math.max(e,c),marginRight:Math.max(n,f),marginBottom:Math.max(r,u),marginLeft:Math.max(i,s),width:o,height:a}}function lg({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:c,height:f}=fs(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:c,height:e?e.scale.bandwidth()+r+o:f,facet:{width:c,height:f}}}function ol(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=e,c=o+n,f=i-a-r;t.range=[c,Math.max(c,f)],Ln(t)||(t.range=hg(t)),t.scale.range(t.range)}dg(t)}function al(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=e,c=o+n,f=i-a-r;t.range=[Math.max(c,f),c],Ln(t)?t.range.reverse():t.range=hg(t),t.scale.range(t.range)}dg(t)}function dg(t){t.round===void 0&&wv(t)&&mv(t)<=30&&t.scale.round(!0)}function mv({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,c=Math.abs(r-n)/Math.max(1,a+o*2);return(c-Math.floor(c))*a}function hg(t){const e=t.scale.domain().length+pg(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,o)=>n+o/(e-1)*(r-n))}function yv(t,e=[],n={}){const r=bv(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Ln({type:r})){const i=e.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Ft)?Ge(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${On(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${On(r)}".`):i.some(X_)?Ge(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${On(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${On(r)}".`):i.some(Z_)&&Ge(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${On(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${On(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Pi(e,n,or);break;case"identity":switch(ht.get(t)){case le:n=Pi(e,n,or);break;case ha:n=Pi(e,n,_v);break}break;case"utc":case"time":n=Pi(e,n,Dp);break}switch(r){case"diverging":return K5(t,e,n);case"diverging-sqrt":return Q5(t,e,n);case"diverging-pow":return ag(t,e,n);case"diverging-log":return J5(t,e,n);case"diverging-symlog":return tv(t,e,n);case"categorical":case"ordinal":case xi:return fv(t,e,n);case"cyclical":case"sequential":case"linear":return P5(t,e,n);case"sqrt":return O5(t,e,n);case"threshold":return as(t,e,n);case"quantile":return B5(t,e,n);case"quantize":return U5(t,e,n);case"pow":return ig(t,e,n);case"log":return q5(t,e,n);case"symlog":return z5(t,e,n);case"utc":return cv(t,e,n);case"time":return av(t,e,n);case"point":return sv(t,e,n);case"band":return uv(t,e,n);case"identity":return Y5(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function On(t){return typeof t=="symbol"?t.description:t}function cl(t){return typeof t=="string"?`${t}`.toLowerCase():t}const fl={toString:()=>"projection"};function bv(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:c}){if(n=cl(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&c!=null&&(n=fl);for(const u of e){const s=cl(u.type);if(s!==void 0){if(n===void 0)n=s;else if(n!==s)throw new Error(`scale incompatible with channel: ${n} !== ${s}`)}}if(n===fl)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:u})=>u!==void 0))return;const f=ht.get(t);if(f===bi)return"sqrt";if(f===_i||f===wi)return"linear";if(f===ha)return"ordinal";if((r||i||[]).length>2)return Xa(f);if(r!==void 0){if(Vu(r))return Xa(f);if(Ft(r))return"utc"}else{const u=e.map(({value:s})=>s).filter(s=>s!==void 0);if(u.some(Vu))return Xa(f);if(u.some(Ft))return"utc"}if(f===Be){if(a!=null||R5(o))return"diverging";if(I5(o))return"categorical"}return"linear"}function Xa(t){switch(t){case le:return"point";case Be:return xi;default:return"ordinal"}}function Ln({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===xi}function pg({type:t}){return t==="threshold"}function wv({type:t}){return t==="point"||t==="band"}function sr(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function Pi(t,{domain:e,...n},r){var i;for(const o of t)o.value!==void 0&&(e===void 0&&(e=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:e===void 0?e:r(e),...n}}function _v(t){return pt(t,es)}function vv(t){return e=>{if(!ht.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function xv({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:c,pivot:f}){if(e==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const u=t.unknown?t.unknown():void 0;return{type:e,domain:jr(n),...r!==void 0&&{range:jr(r)},...a!==void 0&&{transform:a},...c&&{percent:c},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...f!==void 0&&{pivot:f,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function Mv(t,e){const{fx:n,fy:r}=tf(t,e),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?J1(i,o).map(([a,c],f)=>({x:a,y:c,i:f})):i?i.map((a,c)=>({x:a,i:c})):o?o.map((a,c)=>({y:a,i:c})):void 0}function $v(t,{x:e,y:n}){return e&&(e=ef(e)),n&&(n=ef(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function ss(t,{fx:e,fy:n}){const r=ze(t),i=e==null?void 0:e.value,o=n==null?void 0:n.value;return e&&n?Un(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):e?Un(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Un(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function Tv(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:o})=>`translate(${t(i)-r},${e(o)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function Sv(t){const e=[],n=new Uint32Array(Xe(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(n.set(o,i),i+=o.length);e.push(n.slice(0,i))}return e}const Av=new Map([["top",Za],["right",Qa],["bottom",ja],["left",Ka],["top-left",Oi(Za,Ka)],["top-right",Oi(Za,Qa)],["bottom-left",Oi(ja,Ka)],["bottom-right",Oi(ja,Qa)],["top-empty",Ev],["right-empty",Lv],["bottom-empty",Nv],["left-empty",Iv],["empty",Dv]]);function Cv(t){if(t==null)return null;const e=Av.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const sl=new WeakMap;function ef(t){let e=sl.get(t);return e||sl.set(t,e=new wn(pt(t,(n,r)=>[n,r]))),e}function an(t,e){return ef(t).get(e)}function kv(t,e,n){return e=De(e),n=De(n),t.find(r=>Object.is(De(r.x),e)&&Object.is(De(r.y),n))}function ya(t,e,n){var r;return(r=kv(t,e,n))==null?void 0:r.empty}function Za(t,{y:e},{y:n}){return e?an(e,n)===0:!0}function ja(t,{y:e},{y:n}){return e?an(e,n)===e.length-1:!0}function Ka(t,{x:e},{x:n}){return e?an(e,n)===0:!0}function Qa(t,{x:e},{x:n}){return e?an(e,n)===e.length-1:!0}function Ev(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=an(e,r);if(o>0)return ya(t,n,e[o-1])}function Nv(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=an(e,r);if(o<e.length-1)return ya(t,n,e[o+1])}function Iv(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=an(e,n);if(o>0)return ya(t,e[o-1],r)}function Lv(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=an(e,n);if(o<e.length-1)return ya(t,e[o+1],r)}function Dv(t,e,{empty:n}){return n}function Oi(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Ja(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const gg=Math.PI,$e=2*gg,tc=.618;function Rv({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let c,f,u="frame";if(rn(t)){let x;if({type:t,domain:f,inset:x,insetTop:n=x!==void 0?x:n,insetRight:r=x!==void 0?x:r,insetBottom:i=x!==void 0?x:i,insetLeft:o=x!==void 0?x:o,clip:u=u,...c}=t,t==null)return}typeof t!="function"&&({type:t}=nf(t));const{width:s,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=a,m=s-l-h-o-r,y=d-p-g-n-i;if(t=t==null?void 0:t({width:m,height:y,clip:u,...c}),t==null)return;u=Fv(u,l,p,s-h,d-g);let w=l+o,v=p+n,b;if(f!=null){const[[x,_],[$,T]]=Xo(t).bounds(f),A=Math.min(m/($-x),y/(T-_));A>0?(w-=(A*(x+$)-m)/2,v-=(A*(_+T)-y)/2,b=Oc({point(k,M){this.stream.point(k*A+w,M*A+v)}})):Ge("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??(b=w===0&&v===0?mg():Oc({point(x,_){this.stream.point(x+w,_+v)}})),{stream:x=>t.stream(b.stream(u(x)))}}function nf(t){switch(`${t}`.toLowerCase()){case"albers-usa":return jt(Yw,.7463,.4673);case"albers":return qi(eh,.7463,.4673);case"azimuthal-equal-area":return jt(Ww,4,4);case"azimuthal-equidistant":return jt(Vw,$e,$e);case"conic-conformal":return qi(Zw,$e,$e);case"conic-equal-area":return qi(xo,6.1702,2.9781);case"conic-equidistant":return qi(Qw,7.312,3.6282);case"equal-earth":return jt(t6,5.4133,2.6347);case"equirectangular":return jt(jw,$e,gg);case"gnomonic":return jt(e6,3.4641,3.4641);case"identity":return{type:mg};case"reflect-y":return{type:Pv};case"mercator":return jt(Gw,$e,$e);case"orthographic":return jt(n6,2,2);case"stereographic":return jt(r6,2,2);case"transverse-mercator":return jt(i6,$e,$e);default:throw new Error(`unknown projection type: ${t}`)}}function Fv(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return qd(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function jt(t,e,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:c})=>{var u,s,d;const f=t();return a!=null&&((u=f.precision)==null||u.call(f,a)),o!=null&&((s=f.rotate)==null||s.call(f,o)),typeof c=="number"&&((d=f.clipAngle)==null||d.call(f,c)),r!=null&&(f.scale(Math.min(r/e,i/n)),f.translate([r/2,i/2])),f},aspectRatio:n/e}}function qi(t,e,n){const{type:r,aspectRatio:i}=jt(t,e,n);return{type:o=>{const{parallels:a,domain:c,width:f,height:u}=o,s=r(o);return a!=null&&(s.parallels(a),c===void 0&&f!=null&&s.fitSize([f,u],{type:"Sphere"})),s},aspectRatio:i}}const mg=Le({stream:t=>t}),Pv=Le(Oc({point(t,e){this.stream.point(t,-e)}}));function Ov(t,e,n,r){const i=n[t],o=n[e],a=i.length,c=n[t]=new Float64Array(a).fill(NaN),f=n[e]=new Float64Array(a).fill(NaN);let u;const s=r.stream({point(d,l){c[u]=d,f[u]=l}});for(u=0;u<a;++u)s.point(i[u],o[u])}function qv({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(rn(t)&&(t=t.type),t!=null)}function zv(t){if(typeof(t==null?void 0:t.stream)=="function")return tc;if(rn(t)){let e,n;if({domain:e,type:t,...n}=t,e!=null&&t!=null){const r=typeof t=="string"?nf(t).type:t,[[i,o],[a,c]]=Xo(r({...n,width:100,height:100})).bounds(e),f=(c-o)/(a-i);return f&&isFinite(f)?f<.2?.2:f>5?5:f:tc}}if(t!=null){if(typeof t!="function"){const{aspectRatio:e}=nf(t);if(e)return e}return tc}}function Bv(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},o={point(a,c){e.push(a),n.push(c)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)ln(a,o);return[r,i]}function us(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:Up(n)}}function _t(t,{document:e}){return pn(ni(t).call(e.documentElement))}const rf=Symbol("unset");function ls(t){return(t.length===1?Uv:Hv)(t)}function Uv(t){let e,n=rf;return r=>(Object.is(n,r)||(n=r,e=t(r)),e)}function Hv(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,e=t(...r)),e)}const Yv=ls(t=>new Intl.NumberFormat(t));ls((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}}));ls((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function Wv(t="en-US"){const e=Yv(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function Vv(t){return T_(t,"Invalid Date")}function Gv(t="en-US"){const e=Wv(t);return n=>(n instanceof Date?Vv:typeof n=="number"?e:kt)(n)}const ur=Gv(),Pt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Xv=0;function Zv(){return`plot-clip-${++Xv}`}function jv(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:c,fillOpacity:f,stroke:u,strokeWidth:s,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:y,mixBlendMode:w,imageFilter:v,paintOrder:b,pointerEvents:x,shapeRendering:_,channels:$},{ariaLabel:T,fill:A="currentColor",fillOpacity:k,stroke:M="none",strokeOpacity:L,strokeWidth:E,strokeLinecap:I,strokeLinejoin:S,strokeMiterlimit:R,paintOrder:Y}){A===null&&(c=null,f=null),M===null&&(u=null,d=null),Lt(A)?!Lt(M)&&(!Lt(c)||$!=null&&$.fill)&&(M="none"):Lt(M)&&(!Lt(u)||$!=null&&$.stroke)&&(A="none");const[H,W]=qe(c,A),[D,P]=Et(f,k),[F,q]=qe(u,M),[j,G]=Et(d,L),[X,z]=Et(y);Qr(q)||(s===void 0&&(s=E),h===void 0&&(h=I),l===void 0&&(l=S),p===void 0&&!J_(l)&&(p=R),!Qr(W)&&b===void 0&&(b=Y));const[B,N]=Et(s);return A!==null&&(t.fill=vt(W,"currentColor"),t.fillOpacity=Mr(P,1)),M!==null&&(t.stroke=vt(q,"none"),t.strokeWidth=Mr(N,1),t.strokeOpacity=Mr(G,1),t.strokeLinejoin=vt(l,"miter"),t.strokeLinecap=vt(h,"butt"),t.strokeMiterlimit=Mr(p,4),t.strokeDasharray=vt(g,"none"),t.strokeDashoffset=vt(m,"0")),t.target=kt(a),t.ariaLabel=kt(T),t.ariaDescription=kt(i),t.ariaHidden=kt(o),t.opacity=Mr(z,1),t.mixBlendMode=vt(w,"normal"),t.imageFilter=vt(v,"none"),t.paintOrder=vt(b,"normal"),t.pointerEvents=vt(x,"auto"),t.shapeRendering=vt(_,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:H,scale:"auto",optional:!0},fillOpacity:{value:D,scale:"auto",optional:!0},stroke:{value:F,scale:"auto",optional:!0},strokeOpacity:{value:j,scale:"auto",optional:!0},strokeWidth:{value:B,optional:!0},opacity:{value:X,scale:"auto",optional:!0}}}function Kv(t,e){e&&t.filter(n=>Bf(e[n])).append("title").call(Jv,e)}function Qv(t,e){e&&t.filter(([n])=>Bf(e[n])).append("title").call(t8,e)}function Jv(t,e){e&&t.text(n=>ur(e[n]))}function t8(t,e){e&&t.text(([n])=>ur(e[n]))}function tn(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:c,strokeOpacity:f,strokeWidth:u,opacity:s,href:d}){r&&Z(t,"aria-label",l=>r[l]),o&&Z(t,"fill",l=>o[l]),a&&Z(t,"fill-opacity",l=>a[l]),c&&Z(t,"stroke",l=>c[l]),f&&Z(t,"stroke-opacity",l=>f[l]),u&&Z(t,"stroke-width",l=>u[l]),s&&Z(t,"opacity",l=>s[l]),d&&_g(t,l=>d[l],e),n||Kv(t,i)}function yg(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:c,strokeOpacity:f,strokeWidth:u,opacity:s,href:d}){r&&Z(t,"aria-label",([l])=>r[l]),o&&Z(t,"fill",([l])=>o[l]),a&&Z(t,"fill-opacity",([l])=>a[l]),c&&Z(t,"stroke",([l])=>c[l]),f&&Z(t,"stroke-opacity",([l])=>f[l]),u&&Z(t,"stroke-width",([l])=>u[l]),s&&Z(t,"opacity",([l])=>s[l]),d&&_g(t,([l])=>d[l],e),n||Qv(t,i)}function e8({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:c,href:f},{tip:u}){return[t,u?void 0:e,n,r,i,o,a,c,f].filter(s=>s!==void 0)}function n8(t,e,n){const r=Bo(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&Ge("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*bg(t,e,n,r){const{z:i}=n,{z:o}=r,a=e8(r,n),c=[...e,...a];for(const f of o?n8(t,o,i):[t]){let u,s;t:for(const d of f){for(const l of c)if(!Qe(l[d])){s&&s.push(-1);continue t}if(u===void 0){s&&(yield s),u=a.map(l=>De(l[d])),s=[d];continue}s.push(d);for(let l=0;l<a.length;++l)if(De(a[l][d])!==u[l]){yield s,u=a.map(p=>De(p[d])),s=[d];continue t}}s&&(yield s)}}function r8(t,e,n,r){let i;const{clip:o=r.clip}=e;switch(o){case"frame":{t=_t("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=i8(r,n);break}case"sphere":{i=o8(r);break}}Z(t,"aria-label",e.ariaLabel),Z(t,"aria-description",e.ariaDescription),Z(t,"aria-hidden",e.ariaHidden),Z(t,"clip-path",i)}function wg(t){const e=new WeakMap;return(n,r)=>{let i=e.get(n);if(!i){const o=Zv();pn(n.ownerSVGElement).append("clipPath").attr("id",o).call(t,n,r),e.set(n,i=`url(#${o})`)}return i}}const i8=wg((t,e,n)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:c,marginBottom:f}=n;t.append("rect").attr("x",o).attr("y",c).attr("width",r-a-o).attr("height",i-c-f)}),o8=wg((t,e)=>{const{projection:n}=e;if(!n)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",Xo(n)({type:"Sphere"}))});function be(t,e,n,r){r8(t,e,n,r),Z(t,"class",e.className),Z(t,"fill",e.fill),Z(t,"fill-opacity",e.fillOpacity),Z(t,"stroke",e.stroke),Z(t,"stroke-width",e.strokeWidth),Z(t,"stroke-opacity",e.strokeOpacity),Z(t,"stroke-linejoin",e.strokeLinejoin),Z(t,"stroke-linecap",e.strokeLinecap),Z(t,"stroke-miterlimit",e.strokeMiterlimit),Z(t,"stroke-dasharray",e.strokeDasharray),Z(t,"stroke-dashoffset",e.strokeDashoffset),Z(t,"shape-rendering",e.shapeRendering),Z(t,"filter",e.imageFilter),Z(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;Z(t,"pointer-events",i)}function ie(t,e){a8(t,"mix-blend-mode",e.mixBlendMode),Z(t,"opacity",e.opacity)}function _g(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const o=this.ownerDocument.createElementNS(Zn.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Zn.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function Z(t,e,n){n!=null&&t.attr(e,n)}function a8(t,e,n){n!=null&&t.style(e,n)}function we(t,e,{x:n,y:r},i=Pt,o=Pt){i+=e.dx,o+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function vt(t,e){if((t=kt(t))!==e)return t}function Mr(t,e){if((t=At(t))!==e)return t}const c8=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function ba(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!c8.test(t))throw new Error(`invalid class name: ${t}`);return t}function ds(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function Mi({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-o:(r+n-o)/2]}class zt{constructor(e,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:c,fy:f,sort:u,dx:s=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:m=l,className:y,clip:w=i==null?void 0:i.clip,channels:v,tip:b,render:x}=r;if(this.data=e,this.sort=cr(u)?u:null,this.initializer=fr(r).initializer,this.transform=this.initializer?r.transform:pa(r).transform,o===null||o===!1?this.facet=null:(this.facet=ae(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=e===Ki&&typeof c=="string"?[c]:c,this.fy=e===Ki&&typeof f=="string"?[f]:f),this.facetAnchor=Cv(a),n=Bp(n),v!==void 0&&(n={...f8(v),...n}),i!==void 0&&(n={...jv(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([_,$])=>{if(ua($.value)){const{value:T,label:A=$.label,scale:k=$.scale}=$.value;$={...$,label:A,scale:k,value:T}}if(e===Ki&&typeof $.value=="string"){const{value:T}=$;$={...$,value:[T]}}return[_,$]}).filter(([_,{value:$,optional:T}])=>{if($!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${_}`)})),this.dx=+s,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=Up(w),this.tip=s8(b),this.className=y?ba(y):null,this.facet==="super"){if(c||f)throw new Error("super-faceting cannot use fx or fy");for(const _ in this.channels){const{scale:$}=n[_];if(!($!=="x"&&$!=="y"))throw new Error("super-faceting cannot use x or y")}}x!=null&&(this.render=xg(x,this.render))}initialize(e,n,r){let i=ar(this.data);e===void 0&&i!=null&&(e=[ze(i)]);const o=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=ar(i)),e!==void 0&&(e.original=o);const a=S5(this.channels,i);return this.sort!=null&&C5(i,e,a,n,this.sort),{data:i,facets:e,channels:a}}filter(e,n,r){for(const i in n){const{filter:o=Qe}=n[i];if(o!==null){const a=r[i];e=e.filter(c=>o(a[c]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in e&&e[o].scale==="y"&&Ov(i,o,n,r.projection)}}scale(e,n,r){const i=A5(e,n);return r.projection&&this.project(e,i,r),i}}function vg(...t){return t.plot=zt.prototype.plot,t}function xg(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,o,a,c){return t.call(this,n,r,i,o,a,(f,u,s,d,l)=>e.call(this,f,u,s,d,l,c))}}function f8(t){return Object.fromEntries(Object.entries(Bp(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:yi(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function s8(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?ae(t,"tip",["x","y","xy"]):t}function wa(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:rn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}function u8(t,e,n={}){let r=.5-Pt,i=.5+Pt,o=.5+Pt,a=.5-Pt;for(const{marginTop:g,marginRight:m,marginBottom:y,marginLeft:w}of e)g>r&&(r=g),m>i&&(i=m),y>o&&(o=y),w>a&&(a=w);let{margin:c,marginTop:f=c!==void 0?c:r,marginRight:u=c!==void 0?c:i,marginBottom:s=c!==void 0?c:o,marginLeft:d=c!==void 0?c:a}=n;f=+f,u=+u,s=+s,d=+d;let{width:l=640,height:h=l8(t,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,f-r+s-o)}=n;l=+l,h=+h;const p={width:l,height:h,marginTop:f,marginRight:u,marginBottom:s,marginLeft:d};if(t.fx||t.fy){let{margin:g,marginTop:m=g!==void 0?g:f,marginRight:y=g!==void 0?g:u,marginBottom:w=g!==void 0?g:s,marginLeft:v=g!==void 0?g:d}=n.facet??{};m=+m,y=+y,w=+w,v=+v,p.facet={marginTop:m,marginRight:y,marginBottom:w,marginLeft:v}}return p}function l8({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:c,marginRightDefault:f,marginBottomDefault:u,marginLeftDefault:s}){const d=n&&n.scale.domain().length||1,l=zv(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,m=Math.max(.1,Math.min(10,g));return Math.round((a-s-f)*m+c+u)}const h=e?Ln(e)?e.scale.domain().length||1:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=ul("y",e)/(ul("x",t)*o),g=r?r.scale.bandwidth():1,m=n?n.scale.bandwidth():1,y=g*(a-s-f)-t.insetLeft-t.insetRight;return(p*y+e.insetTop+e.insetBottom)/m+c+u}return!!(e||n)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function ul(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const c=e.scale.exponent();i=f=>Math.pow(f,c);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[o,a]=Yt(r);return Math.abs(i(a)-i(o))}const ll=new WeakMap;function hs(t,e,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:c,render:f,...u}={}){return a=+a,i!=null&&(n??(n=null),c={...c,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),c={...c,py:{value:o,scale:"y"}}),{x:n,y:r,channels:c,...u,render:xg(function(s,d,l,h,p,g){p={...p,pointerSticky:!1};const m=p.ownerSVGElement,{data:y}=p.getMarkState(this);let w=ll.get(m);w||ll.set(m,w={sticky:!1,roots:[],renders:[]});let v=w.renders.push(q)-1;const{x:b,y:x,fx:_,fy:$}=d;let T=_?_(s.fx)-h.marginLeft:0,A=$?$(s.fy)-h.marginTop:0;b!=null&&b.bandwidth&&(T+=b.bandwidth()/2),x!=null&&x.bandwidth&&(A+=x.bandwidth()/2);const k=s.fi!=null;let M;if(k){let z=w.facetStates;z||(w.facetStates=z=new Map),M=z.get(this),M||z.set(this,M=new Map)}const[L,E]=Mi(this,h),{px:I,py:S}=l,R=I?z=>I[z]:Mg(l,L),Y=S?z=>S[z]:$g(l,E);let H,W,D,P;function F(z,B){if(k)if(P&&(P=cancelAnimationFrame(P)),z==null)M.delete(s.fi);else{M.set(s.fi,B),P=requestAnimationFrame(()=>{P=null;for(const[N,O]of M)if(O<B||O===B&&N<s.fi){z=null;break}q(z)});return}q(z)}function q(z){if(H===z&&D===w.sticky)return;H=z,D=p.pointerSticky=w.sticky;const B=H==null?[]:[H];k&&(B.fx=s.fx,B.fy=s.fy,B.fi=s.fi);const N=g(B,d,l,h,p);if(W){if(k){const O=W.parentNode,U=W.getAttribute("transform"),C=N.getAttribute("transform");U?N.setAttribute("transform",U):N.removeAttribute("transform"),C?O.setAttribute("transform",C):O.removeAttribute("transform"),N.removeAttribute("aria-label"),N.removeAttribute("aria-description"),N.removeAttribute("aria-hidden")}W.replaceWith(N)}if(w.roots[v]=W=N,!(H==null&&(M==null?void 0:M.size)>1)){const O=H==null?null:Nn(y)?y[H]:y.get(H);p.dispatchValue(O)}return N}function j(z){if(w.sticky||z.pointerType==="mouse"&&z.buttons===1)return;let[B,N]=c2(z);B-=T,N-=A;const O=B<h.marginLeft||B>h.width-h.marginRight?1:t,U=N<h.marginTop||N>h.height-h.marginBottom?1:e;let C=null,nt=a*a;for(const V of s){const at=O*(R(V)-B),st=U*(Y(V)-N),xt=at*at+st*st;xt<=nt&&(C=V,nt=xt)}if(C!=null&&(t!==1||e!==1)){const V=R(C)-B,at=Y(C)-N;nt=V*V+at*at}F(C,nt)}function G(z){z.pointerType==="mouse"&&H!=null&&(w.sticky&&w.roots.some(B=>B==null?void 0:B.contains(z.target))||(w.sticky?(w.sticky=!1,w.renders.forEach(B=>B(null))):(w.sticky=!0,q(H)),z.stopImmediatePropagation()))}function X(z){z.pointerType==="mouse"&&(w.sticky||F(null))}return m.addEventListener("pointerenter",j),m.addEventListener("pointermove",j),m.addEventListener("pointerdown",G),m.addEventListener("pointerleave",X),q(null)},f)}}function d8(t){return hs(1,1,t)}function Qi(t){return hs(1,.01,t)}function dl(t){return hs(.01,1,t)}function Mg({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function $g({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function Tg(t){return Ln(t)&&t.interval===void 0?void 0:"tabular-nums"}function h8(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:c=0,marginBottom:f=16+r,marginLeft:u=0,style:s,ticks:d=(i-u-c)/64,tickFormat:l,fontVariant:h=Tg(t),round:p=!0,opacity:g,className:m}=e;const y=us(e);m=ba(m),g=Et(g)[1],l===null&&(l=()=>null);const w=_t("svg",y).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(L=>L.append("style").text(`:where(.${m}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${m}-ramp text) {
  white-space: pre;
}`)).call(ds,s);let v=L=>L.selectAll(".tick line").attr("y1",a+f-o),b;const x=p?(L,E)=>L.rangeRound(E):(L,E)=>L.range(E),{type:_,domain:$,range:T,interpolate:A,scale:k,pivot:M}=t;if(A){const L=T===void 0?A:Wo(A.length===1?cs(A):A,T);b=x(k.copy(),te(Tt(u,i-c),Math.min($.length+(M!==void 0),T===void 0?1/0:T.length)));const E=256,I=y.document.createElement("canvas");I.width=E,I.height=1;const S=I.getContext("2d");for(let R=0,Y=E-1;R<E;++R)S.fillStyle=L(R/Y),S.fillRect(R,0,1,1);w.append("image").attr("opacity",g).attr("x",u).attr("y",a).attr("width",i-u-c).attr("height",o-a-f).attr("preserveAspectRatio","none").attr("xlink:href",I.toDataURL())}else if(_==="threshold"){const L=$,E=l===void 0?I=>I:typeof l=="string"?hr(l):l;b=x(Nf().domain([-1,T.length-1]),[u,i-c]),w.append("g").attr("fill-opacity",g).selectAll().data(T).enter().append("rect").attr("x",(I,S)=>b(S-1)).attr("y",a).attr("width",(I,S)=>b(S)-b(S-1)).attr("height",o-a-f).attr("fill",I=>I),d=pt(L,(I,S)=>S),l=I=>E(L[I],I)}else b=x(Qo().domain($),[u,i-c]),w.append("g").attr("fill-opacity",g).selectAll().data($).enter().append("rect").attr("x",b).attr("y",a).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",o-a-f).attr("fill",k),v=()=>{};return w.append("g").attr("transform",`translate(0,${o-f})`).call(Mm(b).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",vt(h,"normal")).call(v).call(L=>L.select(".domain").remove()),n!==void 0&&w.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),w.node()}const Sg=Math.PI/180;function ps(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=ec(n),t.markerMid=ec(r),t.markerEnd=ec(i)}function ec(t){if(t==null||t===!1)return null;if(t===!0)return pl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return hl("auto");case"arrow-reverse":return hl("auto-start-reverse");case"dot":return p8;case"circle":case"circle-fill":return pl;case"circle-stroke":return g8;case"tick":return nc("auto");case"tick-x":return nc(90);case"tick-y":return nc(0)}throw new Error(`invalid marker: ${t}`)}function hl(t){return(e,n)=>_t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function p8(t,e){return _t("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function pl(t,e){return _t("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function g8(t,e){return _t("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function nc(t){return(e,n)=>_t("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let m8=0;function Ag(t,e,{stroke:n},r){return kg(t,e,n&&(i=>n[i]),null,r)}function y8(t,e,{stroke:n,z:r},i){return kg(t,e,n&&(([o])=>n[o]),r,i)}const of=1,Cg=2;function b8(t,e){const n=new Uint8Array(e.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=rf;o<i;++o){const c=r[o];if(c.length>1){const f=c[0];a!==(a=De(e[f]))&&(n[f]|=of)}}for(let o=i-1,a=rf;o>=0;--o){const c=r[o];if(c.length>1){const f=c[0];a!==(a=De(e[f]))&&(n[f]|=Cg)}}return([o])=>n[o]}function kg(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a,c){if(!e&&!n&&!r)return;const f=new Map,u=a&&b8(t,a);function s(d,l,h){return function(p){if(h&&!h(p))return;const g=o(p);let m=f.get(l);m||f.set(l,m=new Map);let y=m.get(g);if(!y){const w=this.parentNode.insertBefore(l(g,c),this),v=`plot-marker-${++m8}`;w.setAttribute("id",v),m.set(g,y=`url(#${v})`)}this.setAttribute(d,y)}}e&&t.each(s("marker-start",e,u&&(d=>u(d)&of))),n&&u&&t.each(s("marker-start",n,d=>!(u(d)&of))),n&&t.each(s("marker-mid",n)),r&&t.each(s("marker-end",r,u&&(d=>u(d)&Cg)))}function gs({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=Ng(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function Eg({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=Ng(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function Ng(t,e,n){return t===void 0&&e===void 0&&n===void 0?Pt?[1,0]:[.5,.5]:[e,n]}function Ig(t,{interval:e}){return t={...yi(t)},t.interval=Qf(t.interval===void 0?e:t.interval),t}function Lg(t,e,n,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=n,{value:c,interval:f}=Ig(i,n);if(c==null||f==null&&!r)return n;const u=In(i);if(f==null){let h;const p={transform:g=>h||(h=bt(g,c)),label:u};return{...n,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let s,d;function l(h){return d!==void 0&&h===s?d:d=pt(bt(s=h,c),p=>f.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:u}:o,[`${t}2`]:a===void 0?{transform:h=>l(h).map(p=>f.offset(p)),label:u}:a})}function Dg(t,e,n){const{[t]:r}=n,{value:i,interval:o}=Ig(r,n);return i==null||o==null?n:e({...n,[t]:{label:In(r),transform:a=>{const c=pt(bt(a,i),u=>o.floor(u)),f=c.map(u=>o.offset(u));return c.map(Ft(c)?(u,s)=>u==null||isNaN(u=+u)||(s=f[s],s==null)||isNaN(s=+s)?void 0:new Date((u+s)/2):(u,s)=>u==null||(s=f[s],s==null)?NaN:(+u+ +s)/2)}}})}function w8(t={}){return Lg("x",gs,t)}function Rg(t={}){return Lg("y",Eg,t)}function _8(t={}){return Dg("x",gs,t)}function v8(t={}){return Dg("y",Eg,t)}const Fg={ariaLabel:"rule",fill:null,stroke:"currentColor"};class x8 extends zt{constructor(e,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:c=a,insetBottom:f=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},wa(n,"x"),Fg),this.insetTop=At(c),this.insetBottom=At(f),ps(this,n)}render(e,n,r,i,o){const{x:a,y:c}=n,{x:f,y1:u,y2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:y,insetBottom:w}=this;return _t("svg:g",o).call(be,this,i,o).call(we,this,{x:f&&a},Pt,0).call(v=>v.selectAll().data(e).enter().append("line").call(ie,this).attr("x1",f?b=>f[b]:(g+d-p)/2).attr("x2",f?b=>f[b]:(g+d-p)/2).attr("y1",u&&!sr(c)?b=>u[b]+y:h+y).attr("y2",s&&!sr(c)?c.bandwidth?b=>s[b]+c.bandwidth()-w:b=>s[b]-w:l-m-w).call(tn,this,r).call(Ag,this,r,o)).node()}}class M8 extends zt{constructor(e,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:c=a,insetLeft:f=a}=n;super(e,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},wa(n,"y"),Fg),this.insetRight=At(c),this.insetLeft=At(f),ps(this,n)}render(e,n,r,i,o){const{x:a,y:c}=n,{y:f,x1:u,x2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:y,insetRight:w}=this;return _t("svg:g",o).call(be,this,i,o).call(we,this,{y:f&&c},0,Pt).call(v=>v.selectAll().data(e).enter().append("line").call(ie,this).attr("x1",u&&!sr(a)?b=>u[b]+y:g+y).attr("x2",s&&!sr(a)?a.bandwidth?b=>s[b]+a.bandwidth()-w:b=>s[b]-w:d-p-w).attr("y1",f?b=>f[b]:(h+l-m)/2).attr("y2",f?b=>f[b]:(h+l-m)/2).call(tn,this,r).call(Ag,this,r,o)).node()}}function af(t,e){let{x:n=Nt,y:r,y1:i,y2:o,...a}=Rg(e);return[i,o]=Pg(r,i,o),new x8(t,{...a,x:n,y1:i,y2:o})}function ms(t,e){let{y:n=Nt,x:r,x1:i,x2:o,...a}=w8(e);return[i,o]=Pg(r,i,o),new M8(t,{...a,y:n,x1:i,x2:o})}function Pg(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function ys(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let o=0;o<n;++o)i+=e[o](r)+t[o+1];return i}}const $8={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Og="­";class bs extends zt{constructor(e,n={}){const{x:r,y:i,text:o=on(e)&&zp(e)?Nt:sa,frameAnchor:a,textAnchor:c=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:f=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:u=1,lineWidth:s=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:y,rotate:w}=n,[v,b]=Et(w,0),[x,_]=E8(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:x,optional:!0},rotate:{value:G_(v),optional:!0},text:{value:o,filter:Bf,optional:!0}},n,$8),this.rotate=b,this.textAnchor=vt(c,"middle"),this.lineAnchor=ae(f,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+s,this.textOverflow=qg(d),this.monospace=!!l,this.fontFamily=kt(h),this.fontSize=_,this.fontStyle=kt(g),this.fontVariant=kt(m),this.fontWeight=kt(y),this.frameAnchor=da(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=Bg(this),this.clipLine=Ug(this)}render(e,n,r,i,o){const{x:a,y:c}=n,{x:f,y:u,rotate:s,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,m]=Mi(this,i);return _t("svg:g",o).call(be,this,i,o).call(zg,this,d,i).call(we,this,{x:f&&a,y:u&&c}).call(y=>y.selectAll().data(e).enter().append("text").call(ie,this).call(T8,this,d,l).attr("transform",ys`translate(${f?w=>f[w]:g},${u?w=>u[w]:m})${s?w=>` rotate(${s[w]})`:p?` rotate(${p})`:""}`).call(Z,"font-size",h&&(w=>h[w])).call(tn,this,r)).node()}}function qg(t){return t==null?null:ae(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function T8(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:c,clipLine:f}=e;t.each(function(u){const s=c(ur(n[u])??"").map(f),d=s.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!s[p])continue;const g=this.ownerDocument.createElementNS(Zn.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*o}em`):g.setAttribute("dy",`${h*o}em`),g.textContent=s[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=s[0];if(a&&!r&&s[0]!==n[u]){const h=this.ownerDocument.createElementNS(Zn.svg,"title");h.textContent=n[u],this.appendChild(h)}})}function _a(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Zf(e,n)),new bs(t,{...r,x:e,y:n})}function S8(t,{x:e=Nt,...n}={}){return new bs(t,v8({...n,x:e}))}function A8(t,{y:e=Nt,...n}={}){return new bs(t,_8({...n,y:e}))}function zg(t,e,n){Z(t,"text-anchor",e.textAnchor),Z(t,"font-family",e.fontFamily),Z(t,"font-size",e.fontSize),Z(t,"font-style",e.fontStyle),Z(t,"font-variant",e.fontVariant===void 0?C8(n):e.fontVariant),Z(t,"font-weight",e.fontWeight)}function C8(t){return t&&(j_(t)||Ft(t))?"tabular-nums":void 0}const k8=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function E8(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),k8.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function N8(t,e,n){const r=[];let i,o=0;for(const[a,c,f]of I8(t)){if(i===void 0&&(i=a),o>i&&n(t,i,c)>e&&(r.push(t.slice(i,o)+(t[o-1]===Og?"-":"")),i=a),f){r.push(t.slice(i,c)),i=void 0;continue}o=c}return r}function*I8(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case Og:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const gl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function ws(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=mr(t,i))r+=gl[t[i]]??(Yg(t,i)?120:gl.e);return r}function _s(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=mr(t,i))r+=Yg(t,i)?126:63;return r}function Bg({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?_s:ws,i=e*100;return o=>N8(o,i,r)}function Ug({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return o=>o;const r=t?_s:ws,i=e*100;switch(n){case"clip-start":return o=>yl(o,i,r,"");case"clip-end":return o=>ml(o,i,r,"");case"ellipsis-start":return o=>yl(o,i,r,Vn);case"ellipsis-middle":return o=>L8(o,i,r,Vn);case"ellipsis-end":return o=>ml(o,i,r,Vn)}}const Vn="…";function lr(t,e,n,r){const i=[];let o=0;for(let a=0,c=0,f=t.length;a<f;a=c){c=mr(t,a);const u=n(t,a,c);if(o+u>e){for(o+=r;o>e&&a>0;)c=a,a=i.pop(),o-=n(t,a,c);return[a,e-o]}o+=u,i.push(a)}return[-1,0]}function ml(t,e,n,r){t=t.trim();const i=n(r),[o]=lr(t,e,n,i);return o<0?t:t.slice(0,o).trimEnd()+r}function L8(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r)/2,[a,c]=lr(t,e/2,n,o),[f]=lr(t,i-e/2-c+o,n,-o);return f<0?r:t.slice(0,a).trimEnd()+r+t.slice(mr(t,f)).trimStart()}function yl(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r),[a]=lr(t,i-e+o,n,-o);return a<0?r:r+t.slice(mr(t,a)).trimStart()}const cf=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,bl=new RegExp("\\p{Extended_Pictographic}","uy");function mr(t,e){return e+=D8(t,e)?2:1,F8(t,e)&&(e=cf.lastIndex),R8(t,e)?mr(t,e+1):e}function Hg(t,e){return t.charCodeAt(e)<128}function D8(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function R8(t,e){return t.charCodeAt(e)===8205}function F8(t,e){return Hg(t,e)?!1:(cf.lastIndex=e,cf.test(t))}function Yg(t,e){return Hg(t,e)?!1:(bl.lastIndex=e,bl.test(t))}const P8={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Wg=3.5,O8=Wg*5,Vg={draw(t,e,n){const r=e*n/O8;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},q8={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},z8=new Map([["arrow",Vg],["spike",q8]]);function B8(t){return t&&typeof t.draw=="function"}function U8(t){if(B8(t))return t;const e=z8.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class Gg extends zt{constructor(e,n={}){const{x:r,y:i,r:o=Wg,length:a,rotate:c,shape:f=Vg,anchor:u="middle",frameAnchor:s}=n,[d,l]=Et(a,12),[h,p]=Et(c,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,P8),this.r=+o,this.length=l,this.rotate=p,this.shape=U8(f),this.anchor=ae(u,"anchor",["start","middle","end"]),this.frameAnchor=da(s)}render(e,n,r,i,o){const{x:a,y:c}=n,{x:f,y:u,length:s,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:m}=this,[y,w]=Mi(this,i);return _t("svg:g",o).call(be,this,i,o).call(we,this,{x:f&&a,y:u&&c}).call(v=>v.selectAll().data(e).enter().append("path").call(ie,this).attr("transform",ys`translate(${f?b=>f[b]:y},${u?b=>u[b]:w})${d?b=>` rotate(${d[b]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?s?b=>` translate(0,${s[b]})`:` translate(0,${l})`:s?b=>` translate(0,${s[b]/2})`:` translate(0,${l/2})`}`).attr("d",s?b=>{const x=hn();return g.draw(x,s[b],m),x}:(()=>{const b=hn();return g.draw(b,l,m),b})()).call(tn,this,r)).node()}}function H8(t,e={}){const{x:n=Nt,...r}=e;return new Gg(t,{...r,x:n})}function Y8(t,e={}){const{y:n=Nt,...r}=e;return new Gg(t,{...r,y:n})}function cn(t,e){return arguments.length<2&&!on(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function va({anchor:t}={},e){return t===void 0?e[0]:ae(t,"anchor",e)}function Xg(t){return va(t,["left","right"])}function Zg(t){return va(t,["right","left"])}function jg(t){return va(t,["bottom","top"])}function Kg(t){return va(t,["top","bottom"])}function Qg(){const[t,e]=cn(...arguments);return Jg("y",Xg(e),t,e)}function W8(){const[t,e]=cn(...arguments);return Jg("fy",Zg(e),t,e)}function vs(){const[t,e]=cn(...arguments);return t1("x",jg(e),t,e)}function V8(){const[t,e]=cn(...arguments);return t1("fx",Kg(e),t,e)}function Jg(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:c=1,fill:f=r,fillOpacity:u=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:m,x:y,margin:w,marginTop:v=w===void 0?20:w,marginRight:b=w===void 0?e==="right"?40:0:w,marginBottom:x=w===void 0?20:w,marginLeft:_=w===void 0?e==="left"?40:0:w,label:$,labelAnchor:T,labelArrow:A,labelOffset:k,...M}){return p=At(p),g=At(g),m=At(m),T!==void 0&&(T=ae(T,"labelAnchor",["center","top","bottom"])),A=f1(A),vg(p&&!Lt(o)?G8(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:m,x:y,...M}):null,Lt(f)?null:Z8(t,e,n,{fill:f,fillOpacity:u,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:g,tickRotate:m,x:y,marginTop:v,marginRight:b,marginBottom:x,marginLeft:_,...M}),!Lt(f)&&$!==null?_a([],i1({fill:f,fillOpacity:u,...M},function(L,E,I,S,R){const Y=S[t],{marginTop:H,marginRight:W,marginBottom:D,marginLeft:P}=t==="y"&&R.inset||R,F=T??(Y.bandwidth?"center":"top"),q=k??(e==="right"?W:P)-3;return F==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=F,this.frameAnchor=`${F}-${e}`,this.rotate=0),this.dy=F==="top"?3-H:F==="bottom"?D-3:0,this.dx=e==="right"?q:-q,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[c1(t,Y,{anchor:e,label:$,labelAnchor:F,labelArrow:A})]}}}})):null)}function t1(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:c=1,fill:f=r,fillOpacity:u=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:m,y,margin:w,marginTop:v=w===void 0?e==="top"?30:0:w,marginRight:b=w===void 0?20:w,marginBottom:x=w===void 0?e==="bottom"?30:0:w,marginLeft:_=w===void 0?20:w,label:$,labelAnchor:T,labelArrow:A,labelOffset:k,...M}){return p=At(p),g=At(g),m=At(m),T!==void 0&&(T=ae(T,"labelAnchor",["center","left","right"])),A=f1(A),vg(p&&!Lt(o)?X8(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:m,y,...M}):null,Lt(f)?null:j8(t,e,n,{fill:f,fillOpacity:u,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:g,tickRotate:m,y,marginTop:v,marginRight:b,marginBottom:x,marginLeft:_,...M}),!Lt(f)&&$!==null?_a([],i1({fill:f,fillOpacity:u,...M},function(L,E,I,S,R){const Y=S[t],{marginTop:H,marginRight:W,marginBottom:D,marginLeft:P}=t==="x"&&R.inset||R,F=T??(Y.bandwidth?"center":"right"),q=k??(e==="top"?H:D)-3;return F==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${F}`,this.textAnchor=F==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-q:q,this.dx=F==="right"?W-3:F==="left"?3-P:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[c1(t,Y,{anchor:e,label:$,labelAnchor:F,labelArrow:A})]}}}})):null)}function G8(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:c=e,tickSize:f,inset:u=0,insetLeft:s=u,insetRight:d=u,dx:l=0,y:h=t==="y"?void 0:null,...p}){return yr(Y8,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:c,y:h,...p,dx:e==="left"?+l-Pt+ +s:+l+Pt-d,anchor:"start",length:f,shape:e==="left"?i4:o4})}function X8(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:c=e,tickSize:f,inset:u=0,insetTop:s=u,insetBottom:d=u,dy:l=0,x:h=t==="x"?void 0:null,...p}){return yr(H8,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:c,x:h,...p,dy:e==="bottom"?+l-Pt-d:+l+Pt+ +s,anchor:"start",length:f,shape:e==="bottom"?n4:r4})}function Z8(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Sg):0),text:f,textAnchor:u=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,y:m=t==="y"?void 0:null,...y}){return yr(A8,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:f,textAnchor:u,lineAnchor:s,fontVariant:d,rotate:a,y:m,...y,dx:e==="left"?+g-o-c+ +h:+g+ +o+ +c-p},function(w,v,b,x,_){d===void 0&&(this.fontVariant=a1(w)),f===void 0&&(_.text=o1(w,v,b,x,e))})}function j8(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Sg):0),text:f,textAnchor:u=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:m=t==="x"?void 0:null,...y}){return yr(S8,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:f===void 0?null:f,textAnchor:u,lineAnchor:s,fontVariant:d,rotate:a,x:m,...y,dy:e==="bottom"?+g+ +o+ +c-p:+g-o-c+ +h},function(w,v,b,x,_){d===void 0&&(this.fontVariant=a1(w)),f===void 0&&(_.text=o1(w,v,b,x,e))})}function K8(){const[t,e]=cn(...arguments);return e1("y",Xg(e),t,e)}function Q8(){const[t,e]=cn(...arguments);return e1("fy",Zg(e),t,e)}function J8(){const[t,e]=cn(...arguments);return n1("x",jg(e),t,e)}function t4(){const[t,e]=cn(...arguments);return n1("fx",Kg(e),t,e)}function e1(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:o=e==="left"?i:null,x2:a=e==="right"?i:null,...c}){return yr(ms,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...r1(c)})}function n1(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:o=e==="top"?i:null,y2:a=e==="bottom"?i:null,...c}){return yr(af,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...r1(c)})}function r1({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function i1({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:c,pointerEvents:f,shapeRendering:u,clip:s=!1},d){return[,t]=qe(t),[,e]=Et(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:c,pointerEvents:f,shapeRendering:u,clip:s,initializer:d}}function yr(t,e,n,r,i,o){let a;function c(s,d,l,h,p,g){const m=s==null&&(e==="fx"||e==="fy"),{[e]:y}=h;if(!y)throw new Error(`missing scale: ${e}`);const w=y.domain();let{interval:v,ticks:b,tickFormat:x,tickSpacing:_=e==="x"?80:35}=i;if(typeof b=="string"&&s1(y)&&(v=b,b=void 0),b===void 0&&(b=gr(v,y.type)??e4(y,_)),s==null){if(on(b))s=Je(b);else if(Bn(b))s=rc(b,...Yt(w));else if(y.interval){let T=y.interval;if(y.ticks){const[A,k]=Yt(w),M=(k-A)/T[mi];T=Hu(T,M/b)??T,s=rc(T,A,k)}else{s=w;const A=s.length;T=Hu(T,A/b)??T,T!==y.interval&&(s=rc(T,...Yt(s)))}if(T===y.interval){const A=Math.round(s.length/b);A>1&&(s=s.filter((k,M)=>M%A===0))}}else y.ticks?s=y.ticks(b):s=w;if(!y.ticks&&s.length&&s!==w){const T=new zo(w);s=s.filter(A=>T.has(A)),s.length||Ge(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?d=[ze(s)]:a[e]={scale:e,value:Nt}}o==null||o.call(this,y,s,b,x,a);const $=Object.fromEntries(Object.entries(a).map(([T,A])=>[T,{...A,value:bt(s,A.value)}]));return m&&(d=g.filterFacets(s,$)),{data:s,facets:d,channels:$}}const f=fr(i).initializer,u=t(n,fr({...i,initializer:c},f));return n==null?(a=u.channels,u.channels={}):a={},r!==void 0&&Object.assign(u,r),u.clip===void 0&&(u.clip=!1),u}function e4(t,e){const[n,r]=Yt(t.range());return(r-n)/e}function o1(t,e,n,r,i){return{value:xs(t,e,n,r,i)}}function xs(t,e,n,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&e&&Ft(e)?N_(t.type,e,i)??ur:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?ur:typeof r=="string"?(Ft(t.domain())?pi:hr)(r):Le(r)}function rc(t,e,n){return t.range(e,t.offset(t.floor(n)))}const n4={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},r4={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},i4={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},o4={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function a1(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function c1(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&s1(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=gv(e);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function f1(t="auto"){return Lt(t)?!1:typeof t=="boolean"?t:ae(t,"labelArrow",["auto","up","right","down","left"])}function s1(t){return Ft(t.domain())}function wl(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function a4(t,{opacity:e,...n}={}){if(!Ln(t)&&!pg(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return u1(t,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Et(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function c4(t,{fill:e=(u=>(u=t.hint)==null?void 0:u.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(s=>(s=t.hint)==null?void 0:s.stroke)()!==void 0?t.hint.stroke:Lt(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...c}={},f){const[d,l]=qe(e),[h,p]=qe(r),g=wl(f,d),m=wl(f,h),y=a*a*Math.PI;return n=Et(n)[1],i=Et(i)[1],o=Et(o)[1],u1(t,c,(w,v,b,x)=>w.append("svg").attr("viewBox","-8 -8 16 16").attr("width",b).attr("height",x).attr("fill",d==="color"?_=>g.scale(_):l).attr("fill-opacity",n).attr("stroke",h==="color"?_=>m.scale(_):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",_=>{const $=hn();return t.scale(_).draw($,y),$}))}function u1(t,e={},n){let{columns:r,tickFormat:i,fontVariant:o=Tg(t),swatchSize:a=15,swatchWidth:c=a,swatchHeight:f=a,marginLeft:u=0,className:s,style:d,width:l}=e;const h=us(e);s=ba(s),i=xs(t.scale,t.domain,void 0,i);const p=_t("div",h).attr("class",`${s}-swatches ${s}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(n,t,c,f).call(m=>m.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(n,t,c,f).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",u?`${+u}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",vt(o,"normal")).call(ds,d).node()}const ff=new Map([["symbol",c4],["color",d1],["opacity",s4]]);function f4(t,e,n={}){return(r,i)=>{if(!ff.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return ff.get(r)(t[r],l1(e,n[r],i),o=>t[o])}}function l1({className:t,...e},{label:n,ticks:r,tickFormat:i}={},o){return t5(o,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function d1(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return a4(t,n);case"ramp":return h8(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function s4({type:t,interpolate:e,...n},{legend:r=!0,color:i=Ze(0,0,0),...o}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return d1({type:t,...n,interpolate:u4(i)},{legend:r,...o})}function u4(t){const{r:e,g:n,b:r}=Ze(t)||Ze(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function l4(t,e,n){const r=[];for(const[i,o]of ff){const a=n[i];if(a!=null&&a.legend&&i in t){const c=o(t[i],l1(e,t[i],a),f=>t[f]);c!=null&&r.push(c)}}return r}function h1(t={}){return Pp(t)?t:{...t,y:Nt}}function d4(t,e){if(e.length===1)return{data:t,facets:e};const n=Kr(t),r=new Uint8Array(n);let i=0;for(const c of e)for(const f of c)r[f]&&++i,r[f]=1;if(i===0)return{data:t,facets:e};t=jr(t);const o=t[Np]=new Uint32Array(n+i);e=e.map(c=>jr(c,Uint32Array));let a=n;r.fill(0);for(const c of e)for(let f=0,u=c.length;f<u;++f){const s=c[f];r[s]?(c[f]=a,t[a]=t[s],o[a]=s,++a):o[s]=s,r[s]=1}return{data:t,facets:e}}function h4(t={},e={}){arguments.length===1&&([t,e]=p4(t));const{x1:n,x:r=n,y:i,...o}=e,[a,c,f,u]=m4(r,i,"x","y",t,o);return{...a,x1:n,x:c,y1:f,y2:u,y:Zc(f,u)}}function p1({y:t,y1:e,y2:n,...r}={}){return r=wa(r,"x"),e===void 0&&n===void 0?h4({y:t,...r}):([e,n]=B_(t,e,n),{...r,y1:e,y2:n})}function p4(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const g4={length:!0};function m4(t,e=F_,n,r,{offset:i,order:o,reverse:a},c){if(e===null)throw new Error(`stack requires ${r}`);const f=jf(c),[u,s]=Te(t),[d,l]=Lo(e),[h,p]=Lo(e);return d.hint=h.hint=g4,i=y4(i),o=_4(o,i,r),[pa(c,(g,m,y)=>{({data:g,facets:m}=d4(g,m));const w=t==null?void 0:s(Op(bt(g,t),y==null?void 0:y[n])),v=bt(g,e,Float64Array),b=bt(g,f),x=o&&o(g,w,v,b),_=Kr(g),$=l(new Float64Array(_)),T=p(new Float64Array(_)),A=[];for(const k of m){const M=w?Array.from(Bo(k,L=>w[L]).values()):[k];if(x)for(const L of M)L.sort(x);for(const L of M){let E=0,I=0;a&&L.reverse();for(const S of L){const R=v[S];R<0?E=T[S]=($[S]=E)+R:R>0?I=T[S]=($[S]=I)+R:T[S]=$[S]=I}}A.push(M)}return i&&i(A,$,T,b),{data:g,facets:m}}),u,d,h]}function y4(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return b4;case"center":case"silhouette":return w4;case"wiggle":return m1}throw new Error(`unknown offset: ${t}`)}}function g1(t,e){let n=0,r=0;for(const i of t){const o=e[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function b4(t,e,n){for(const r of t)for(const i of r){const[o,a]=g1(i,n);for(const c of i){const f=1/(a-o||1);e[c]=f*(e[c]-o),n[c]=f*(n[c]-o)}}}function w4(t,e,n){for(const r of t){for(const i of r){const[o,a]=g1(i,n);for(const c of i){const f=(a+o)/2;e[c]-=f,n[c]-=f}}y1(r,e,n)}b1(t,e,n)}function m1(t,e,n,r){for(const i of t){const o=new wn;let a=0;for(const c of i){let f=-1;const u=c.map(h=>Math.abs(n[h]-e[h])),s=c.map(h=>{f=r?r[h]:++f;const p=n[h]-e[h],g=o.has(f)?p-o.get(f):0;return o.set(f,p),g}),d=[0,...tm(s)];for(const h of c)e[h]+=a,n[h]+=a;const l=Xe(u);l&&(a-=Xe(u,(h,p)=>(s[p]/2+d[p])*h)/l)}y1(i,e,n)}b1(t,e,n)}function y1(t,e,n){const r=Re(t,i=>Re(i,o=>e[o]));for(const i of t)for(const o of i)e[o]-=r,n[o]-=r}function b1(t,e,n){const r=t.length;if(r===1)return;const i=t.map(c=>c.flat()),o=i.map(c=>(Re(c,f=>e[f])+Jt(c,f=>n[f]))/2),a=Re(o);for(let c=0;c<r;c++){const f=a-o[c];for(const u of i[c])e[u]+=f,n[u]+=f}}function _4(t,e,n){if(t===void 0&&e===m1)return _l(re);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Io:re;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return v4(i);case"z":return x4(i);case"sum":return M4(i);case"appearance":return $4(i);case"inside-out":return _l(i)}return vl(Ip(t))}if(typeof t=="function")return(t.length===1?vl:T4)(t);if(Nn(t))return S4(t);throw new Error(`invalid order: ${t}`)}}function v4(t){return(e,n,r)=>(i,o)=>t(r[i],r[o])}function x4(t){return(e,n,r,i)=>(o,a)=>t(i[o],i[a])}function M4(t){return xa(t,(e,n,r,i)=>hf(ze(e),o=>Xe(o,a=>r[a]),o=>i[o]))}function $4(t){return xa(t,(e,n,r,i)=>hf(ze(e),o=>n[Yl(o,a=>r[a])],o=>i[o]))}function _l(t){return xa(t,(e,n,r,i)=>{const o=ze(e),a=hf(o,d=>n[Yl(d,l=>r[l])],d=>i[d]),c=Un(o,d=>Xe(d,l=>r[l]),d=>i[d]),f=[],u=[];let s=0;for(const d of a)s<0?(s+=c.get(d),f.push(d)):(s-=c.get(d),u.push(d));return u.reverse().concat(f)})}function vl(t){return e=>{const n=bt(e,t);return(r,i)=>re(n[r],n[i])}}function T4(t){return e=>Nn(e)?(n,r)=>t(e[n],e[r]):(n,r)=>t(e.get(n),e.get(r))}function S4(t){return xa(re,()=>t)}function xa(t,e){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new wn(e(n,r,i,o).map((c,f)=>[c,f]));return(c,f)=>t(a.get(o[c]),a.get(o[f]))}}function w1(t,{inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={}){t.insetTop=At(n),t.insetRight=At(r),t.insetBottom=At(i),t.insetLeft=At(o)}function _1(t,{r:e,rx:n,ry:r,rx1:i=e,ry1:o=e,rx2:a=e,ry2:c=e,rx1y1:f=i!==void 0?+i:o!==void 0?+o:0,rx1y2:u=i!==void 0?+i:c!==void 0?+c:0,rx2y1:s=a!==void 0?+a:o!==void 0?+o:0,rx2y2:d=a!==void 0?+a:c!==void 0?+c:0}={}){f||u||s||d?(t.rx1y1=f,t.rx1y2=u,t.rx2y1=s,t.rx2y2=d):(t.rx=vt(n,"auto"),t.ry=vt(r,"auto"))}function v1(t,e,n,r,i,o){const{rx1y1:a,rx1y2:c,rx2y1:f,rx2y2:u}=o;typeof e!="function"&&(e=Le(e)),typeof n!="function"&&(n=Le(n)),typeof r!="function"&&(r=Le(r)),typeof i!="function"&&(i=Le(i));const s=Math.max(Math.abs(a+f),Math.abs(c+u)),d=Math.max(Math.abs(a+c),Math.abs(f+u));t.attr("d",l=>{const h=e(l),p=n(l),g=r(l),m=i(l),y=h>g,w=p>m,v=y?g:h,b=y?h:g,x=w?m:p,_=w?p:m,$=Math.min(1,(b-v)/s,(_-x)/d),T=$*(y?w?u:f:w?c:a),A=$*(y?w?c:a:w?u:f),k=$*(y?w?a:c:w?f:u),M=$*(y?w?f:u:w?a:c);return`M${v},${x+Bi(T,M)}A${T},${T} 0 0 ${T<0?0:1} ${v+zi(T,M)},${x}H${b-zi(A,k)}A${A},${A} 0 0 ${A<0?0:1} ${b},${x+Bi(A,k)}V${_-Bi(k,A)}A${k},${k} 0 0 ${k<0?0:1} ${b-zi(k,A)},${_}H${v+zi(M,T)}A${M},${M} 0 0 ${M<0?0:1} ${v},${_-Bi(M,T)}Z`})}function zi(t,e){return e<0?t:Math.abs(t)}function Bi(t,e){return e<0?Math.abs(t):t}const A4={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},C4={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class k4 extends zt{constructor(e={}){const{anchor:n=null}=e;super(Ki,void 0,e,n==null?A4:C4),this.anchor=Fp(n,"anchor",["top","right","bottom","left"]),w1(this,e),n||_1(this,e)}render(e,n,r,i,o){const{marginTop:a,marginRight:c,marginBottom:f,marginLeft:u,width:s,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:m}=this,{rx:y,ry:w,rx1y1:v,rx1y2:b,rx2y1:x,rx2y2:_}=this,$=u+m,T=s-c-p,A=a+h,k=d-f-g;return _t(l?"svg:line":v||b||x||_?"svg:path":"svg:rect",o).datum(0).call(be,this,i,o).call(ie,this).call(tn,this,r).call(we,this,{}).call(l==="left"?M=>M.attr("x1",$).attr("x2",$).attr("y1",A).attr("y2",k):l==="right"?M=>M.attr("x1",T).attr("x2",T).attr("y1",A).attr("y2",k):l==="top"?M=>M.attr("x1",$).attr("x2",T).attr("y1",A).attr("y2",A):l==="bottom"?M=>M.attr("x1",$).attr("x2",T).attr("y1",k).attr("y2",k):v||b||x||_?M=>M.call(v1,$,A,T,k,this):M=>M.attr("x",$).attr("y",A).attr("width",T-$).attr("height",k-A).attr("rx",y).attr("ry",w)).node()}}function E4(t){return new k4(t)}const ic={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},N4=new Set(["geometry","href","src","ariaLabel","scales"]);class I4 extends zt{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&on(e)&&zp(e)&&(n={...n,title:Nt});const{x:r,y:i,x1:o,x2:a,y1:c,y2:f,anchor:u,preferredAnchor:s="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:m,lineHeight:y=1,lineWidth:w=20,frameAnchor:v,format:b,textAnchor:x="start",textOverflow:_,textPadding:$=8,title:T,pointerSize:A=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:c!=null&&f!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:c,scale:"y",optional:f==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:f,scale:"y",optional:c==null},title:{value:T,optional:!0}},n,ic),this.anchor=jc(u,"anchor"),this.preferredAnchor=jc(s,"preferredAnchor"),this.frameAnchor=da(v),this.textAnchor=vt(x,"middle"),this.textPadding=+$,this.pointerSize=+A,this.pathFilter=kt(k),this.lineHeight=+y,this.lineWidth=+w,this.textOverflow=qg(_),this.monospace=!!d,this.fontFamily=kt(l),this.fontSize=At(h),this.fontStyle=kt(p),this.fontVariant=kt(g),this.fontWeight=kt(m);for(const M in ic)M in this.channels&&(this[M]=ic[M]);this.splitLines=Bg(this),this.clipLine=Ug(this),this.format=typeof b=="string"||typeof b=="function"?{title:b}:{...b}}render(e,n,r,i,o){const a=this,{x:c,y:f,fx:u,fy:s}=n,{ownerSVGElement:d,document:l}=o,{anchor:h,monospace:p,lineHeight:g,lineWidth:m}=this,{textPadding:y,pointerSize:w,pathFilter:v}=this,{marginTop:b,marginLeft:x}=i,{x1:_,y1:$,x2:T,y2:A,x:k=_??T,y:M=$??A}=r,L=u?u(e.fx)-x:0,E=s?s(e.fy)-b:0,[I,S]=Mi(this,i),R=Mg(r,I),Y=$g(r,S),H=p?_s:ws,W=H(Vn);let D,P;"title"in r?(D=xl.call(this,{title:r.channels.title},n),P=P4):(D=xl.call(this,r.channels,n),P=O4);const F=_t("svg:g",o).call(be,this,i,o).call(zg,this).call(we,this,{x:k&&c,y:M&&f}).call(G=>G.selectAll().data(e).enter().append("g").attr("transform",X=>`translate(${Math.round(R(X))},${Math.round(Y(X))})`).call(ie,this).call(X=>X.append("path").attr("filter",v)).call(X=>X.append("text").each(function(z){const B=pn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const N=P.call(a,z,e,D,n,r);if(typeof N=="string")for(const O of a.splitLines(N))q(B,{value:a.clipLine(O)});else{const O=new Set;for(const U of N){const{label:C=""}=U;C&&O.has(C)||(O.add(C),q(B,U))}}})));function q(G,{label:X,value:z,color:B,opacity:N}){X??(X=""),z??(z="");const O=B!=null||N!=null;let U,C=m*100;const[nt]=lr(X,C,H,W);if(nt>=0)X=X.slice(0,nt).trimEnd()+Vn,U=z.trim(),z="";else{(X||!z&&!O)&&(z=" "+z);const[at]=lr(z,C-H(X),H,W);at>=0&&(U=z.trim(),z=z.slice(0,at).trimEnd()+Vn)}const V=G.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");X&&V.append("tspan").attr("font-weight","bold").text(X),z&&V.append(()=>l.createTextNode(z)),O&&V.append("tspan").text(" ■").attr("fill",B).attr("fill-opacity",N).style("user-select","none"),U&&V.append("title").text(U)}function j(){const{width:G,height:X}=i.facet??i;F.selectChildren().each(function(z){let{x:B,width:N,height:O}=this.getBBox();N=Math.round(N),O=Math.round(O);let U=h;if(U===void 0){const V=R(z)+L,at=Y(z)+E,st=V+N+w+y*2<G,xt=V-N-w-y*2>0,Ue=at+O+w+y*2<X,fn=at-O-w-y*2>0;U=st&&xt?Ue&&fn?a.preferredAnchor:fn?"bottom":"top":Ue&&fn?st?"left":"right":(st||xt)&&(Ue||fn)?`${fn?"bottom":"top"}-${st?"left":"right"}`:a.preferredAnchor}const C=this.firstChild,nt=this.lastChild;if(C.setAttribute("d",F4(U,w,y,N,O)),B)for(const V of nt.childNodes)V.setAttribute("x",-B);nt.setAttribute("y",`${+D4(U,nt.childNodes.length,g).toFixed(6)}em`),nt.setAttribute("transform",`translate(${R4(U,w,y,N,O)})`)}),F.attr("visibility",null)}return e.length&&(F.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(j):typeof requestAnimationFrame<"u"&&requestAnimationFrame(j)),F.node()}}function L4(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Zf(e,n)),new I4(t,{...r,x:e,y:n})}function D4(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function R4(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function F4(t,e,n,r,i){const o=r+n*2,a=i+n*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${e},${e}h${o-e}v${a}h${-o}z`;case"top":return`M0,0l${e/2},${e/2}h${(o-e)/2}v${a}h${-o}v${-a}h${(o-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-o}v${a}h${o}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-o}v${a}h${o}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${o-e}v${-a}h${-o}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(o-e)/2}v${-a}h${-o}v${a}h${(o-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-o}v${-a}h${o}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${o}v${a}h${-o}v${e/2-a/2}z`}}function xl(t,e){var i,o;const n={};let r=this.format;r=Ml(r,t,"x"),r=Ml(r,t,"y"),this.format=r;for(const a in r){const c=r[a];if(!(c===null||c===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const f=Ku(t,a);f&&(n[a]=f)}}for(const a in t){if(a in n||a in r||N4.has(a)||(a==="x"||a==="y")&&t.geometry)continue;const c=Ku(t,a);if(c){if(c.scale==null&&c.defaultScale==="color")continue;n[a]=c}}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const c=this.format[a];if(typeof c=="string"){const f=((i=n[a])==null?void 0:i.value)??((o=e[a])==null?void 0:o.domain())??[];this.format[a]=(Ft(f)?pi:hr)(c)}else if(c===void 0||c===!0){const f=e[a];this.format[a]=f!=null&&f.bandwidth?xs(f,f.domain()):ur}}return n}function Ml(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const o=Object.entries(t),a=t[n];return o.splice(o.findIndex(([c])=>c===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function P4(t,e,{title:n}){return this.format.title(n.value[t],t)}function*O4(t,e,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:Ro(r,n,o),value:this.format[o](e[o],t)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:Tl(r,n,"x"),value:$l(this.format.x2,n.x1,a,t)};else if(o==="y2"&&"y1"in n)yield{label:Tl(r,n,"y"),value:$l(this.format.y2,n.y1,a,t)};else{const c=a.value[t],f=a.scale;if(!Qe(c)&&f==null)continue;yield{label:Ro(r,n,o),value:this.format[o](c,t),color:f==="color"?i[o][t]:null,opacity:f==="opacity"?i[o][t]:null}}}}function $l(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}–${t(n.value[r],r)}`}function Tl(t,e,n){const r=Ro(t,e,`${n}1`,n),i=Ro(t,e,`${n}2`,n);return r===i?r:`${r}–${i}`}function Ro(t,e,n,r=n){const i=e[n],o=t[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function Ma(t={}){var W;const{facet:e,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:c}=t,f=ba(t.className),u=t.marks===void 0?[]:Al(t.marks);u.push(...W4(u));const s=H4(e,t),d=new Map;for(const D of u){const P=Cl(D,s,t);P&&d.set(D,P)}const l=new Map;s&&$r(l,[s],t),$r(l,d,t);const h=Al(V4(u,l,t));for(const D of h){const P=Cl(D,s,t);P&&d.set(D,P)}u.unshift(...h);let p=Mv(l,t);if(p!==void 0){const D=s?Ja(p,s):void 0;for(const F of u){if(F.facet===null||F.facet==="super")continue;const q=d.get(F);q!==void 0&&(q.facetsIndex=F.fx!=null||F.fy!=null?Ja(p,q):D)}const P=new Set;for(const{facetsIndex:F}of d.values())F==null||F.forEach((q,j)=>{(q==null?void 0:q.length)>0&&P.add(j)});p.forEach(0<P.size&&P.size<p.length?(F,q)=>F.empty=!P.has(q):F=>F.empty=!1);for(const F of u)if(F.facet==="exclude"){const q=d.get(F);q!==void 0&&(q.facetsIndex=Sv(q.facetsIndex))}}for(const D of ht.keys())Xc(t[D])&&D!=="fx"&&D!=="fy"&&l.set(D,[]);const g=new Map;for(const D of u){if(g.has(D))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:P,channels:F}=d.get(D)??{},{data:q,facets:j,channels:G}=D.initialize(P,F,t);Ms(G,t),g.set(D,{data:q,facets:j,channels:G})}const m=tf($r(l,g,t),t),y=u8(m,u,t);hv(m,y);const w=il(m),{fx:v,fy:b}=w,x=v||b?lg(m,y):y,_=v||b?J4(w,y):y,$=us(t),T=$.document,A=ni("svg").call(T.documentElement);let k=A;$.ownerSVGElement=A,$.className=f,$.projection=Rv(t,x),$.filterFacets=(D,P)=>Ja(p,{channels:P,groups:ss(D,P)}),$.getMarkState=D=>{const P=g.get(D),F=d.get(D);return{...P,channels:{...P.channels,...F==null?void 0:F.channels}}},$.dispatchValue=D=>{k.value!==D&&(k.value=D,k.dispatchEvent(new Event("input",{bubbles:!0})))};const M=new Set;for(const[D,P]of g)if(D.initializer!=null){const F=D.facet==="super"?_:x,q=D.initializer(P.data,P.facets,P.channels,w,F,$);if(q.data!==void 0&&(P.data=q.data),q.facets!==void 0&&(P.facets=q.facets),q.channels!==void 0){const{fx:j,fy:G,...X}=q.channels;U4(X),Object.assign(P.channels,X);for(const z of Object.values(X)){const{scale:B}=z;B!=null&&!r5(ht.get(B))&&(x1(z,t),M.add(B))}(j!=null||G!=null)&&d.set(D,!0)}}if(M.size){const D=new Map;$r(D,g,t,j=>M.has(j)),$r(l,g,t,j=>M.has(j));const P=Q4(tf(D,t),m),{scales:F,...q}=il(P);Object.assign(m,P),Object.assign(w,q),Object.assign(w.scales,F)}let L,E;p!==void 0&&(L={x:v==null?void 0:v.domain(),y:b==null?void 0:b.domain()},p=$v(p,L),E=Tv(v,b,y));for(const[D,P]of g)P.values=D.scale(P.channels,w,$);const{width:I,height:S}=y;pn(A).attr("class",f).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",I).attr("height",S).attr("viewBox",`0 0 ${I} ${S}`).attr("aria-label",a).attr("aria-description",c).call(D=>D.append("style").text(`:where(.${f}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${f} text),
:where(.${f} tspan) {
  white-space: pre;
}`)).call(ds,n);for(const D of u){const{channels:P,values:F,facets:q}=g.get(D);if(p===void 0||D.facet==="super"){let j=null;if(q&&(j=q[0],j=D.filter(j,P,F),j.length===0))continue;const G=D.render(j,w,F,_,$);if(G==null)continue;A.appendChild(G)}else{let j;for(const G of p){if(!(((W=D.facetAnchor)==null?void 0:W.call(D,p,L,G))??!G.empty))continue;let X=null;if(q){const B=d.has(D);if(X=q[B?G.i:0],X=D.filter(X,P,F),X.length===0)continue;!B&&X===q[0]&&(X=U_(X)),X.fx=G.x,X.fy=G.y,X.fi=G.i}const z=D.render(X,w,F,x,$);if(z!=null){(j??(j=pn(A).append("g"))).append(()=>z).datum(G);for(const B of["aria-label","aria-description","aria-hidden","transform"])z.hasAttribute(B)&&(j.attr(B,z.getAttribute(B)),z.removeAttribute(B))}}j==null||j.selectChildren().attr("transform",E)}}const R=l4(m,$,t),{figure:Y=r!=null||i!=null||o!=null||R.length>0}=t;Y&&(k=T.createElement("figure"),k.className=`${f}-figure`,k.style.maxWidth="initial",r!=null&&k.append(Sl(T,r,"h2")),i!=null&&k.append(Sl(T,i,"h3")),k.append(...R,A),o!=null&&k.append(q4(T,o)),"value"in A&&(k.value=A.value,delete A.value)),k.scale=vv(w.scales),k.legend=f4(m,$,t);const H=j5();return H>0&&pn(A).append("text").attr("x",I).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${H.toLocaleString("en-US")} warning${H===1?"":"s"}. Please check the console.`),k}function Sl(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function q4(t,e){const n=t.createElement("figcaption");return n.append(e),n}function Al(t){return t.flat(1/0).filter(e=>e!=null).map(z4)}function z4(t){return typeof t.render=="function"?t:new B4(t)}class B4 extends zt{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Ms(t,e){for(const n in t)x1(t[n],e);return t}function x1(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:c=o?f=>f==null?NaN:f*100:qp(a,i)}=e[n]??{};c!=null&&(t.value=pt(t.value,c),t.transform=!1)}function U4(t){for(const e in t)Kp(e,t[e])}function $r(t,e,n,r=P_){var i,o;for(const{channels:a}of e.values())for(const c in a){const f=a[c],{scale:u}=f;if(u!=null&&r(u))if(u==="projection"){if(!qv(n)){const s=((i=n.x)==null?void 0:i.domain)===void 0,d=((o=n.y)==null?void 0:o.domain)===void 0;if(s||d){const[l,h]=Bv(f);s&&oc(t,"x",l),d&&oc(t,"y",h)}}}else oc(t,u,f)}return t}function oc(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function H4(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=ar(t.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=Jr(i,{value:n,scale:"fx"})),r!=null&&(o.fy=Jr(i,{value:r,scale:"fy"})),Ms(o,e);const a=ss(i,o);return{channels:o,groups:a,data:t.data}}function Cl(t,e,n){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const f=ar(t.data??r??i);if(f===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(f===null)return;const u={};return r!=null&&(u.fx=Jr(f,{value:r,scale:"fx"})),i!=null&&(u.fy=Jr(f,{value:i,scale:"fy"})),Ms(u,n),{channels:u,groups:ss(f,u)}}if(e===void 0)return;const{channels:o,groups:a,data:c}=e;if(t.facet!=="auto"||t.data===c)return{channels:o,groups:a};c.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&Kr(ar(t.data))===Kr(c)&&Ge(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Y4(t,e={}){return fr({...e,x:null,y:null},(n,r,i,o,a,c)=>c.getMarkState(t))}function W4(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?Qi:/^y$/i.test(i)?dl:d8,r=i(Y4(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===dl?"left":"bottom");const a=L4(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,e.push(a)}}return e}function V4(t,e,n){let{projection:r,x:i={},y:o={},fx:a={},fy:c={},axis:f,grid:u,facet:s={},facet:{axis:d=f,grid:l}=s,x:{axis:h=f,grid:p=h===null?null:u}=i,y:{axis:g=f,grid:m=g===null?null:u}=o,fx:{axis:y=d,grid:w=y===null?null:l}=a,fy:{axis:v=d,grid:b=v===null?null:l}=c}=n;(r||!Xc(i)&&!kl("x",t))&&(h=p=null),(r||!Xc(o)&&!kl("y",t))&&(g=m=null),e.has("fx")||(y=w=null),e.has("fy")||(v=b=null),h===void 0&&(h=!Yi(t,"x")),g===void 0&&(g=!Yi(t,"y")),y===void 0&&(y=!Yi(t,"fx")),v===void 0&&(v=!Yi(t,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),y===!0&&(y=h==="top"||h===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const x=[];return Hi(x,b,Q8,c),Ui(x,v,W8,"right","left",s,c),Hi(x,w,t4,a),Ui(x,y,V8,"top","bottom",s,a),Hi(x,m,K8,o),Ui(x,g,Qg,"left","right",n,o),Hi(x,p,J8,i),Ui(x,h,vs,"bottom","top",n,i),x}function Ui(t,e,n,r,i,o,a){if(!e)return;const c=G4(e);a=X4(c?r:e,o,a);const{line:f}=a;(n===Qg||n===vs)&&f&&!Qr(f)&&t.push(E4(Z4(a))),t.push(n(a)),c&&t.push(n({...a,anchor:i,label:null}))}function Hi(t,e,n,r){!e||Qr(e)||t.push(n(j4(e,r)))}function G4(t){return/^\s*both\s*$/i.test(t)}function X4(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:c,tickRotate:f,fontVariant:u,ariaLabel:s,ariaDescription:d,label:l=e.label,labelAnchor:h,labelArrow:p=e.labelArrow,labelOffset:g}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:c,tickRotate:f,fontVariant:u,ariaLabel:s,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function Z4(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function j4(t,{stroke:e=la(t)?t:void 0,ticks:n=K4(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function K4(t){switch(typeof t){case"number":return!0;case"string":return!la(t)}return on(t)||typeof(t==null?void 0:t.range)=="function"}function Yi(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function kl(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function Q4(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function J4({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:c,height:f}=fs(n),u=t&&El(t),s=e&&El(e);return{marginTop:e?s[0]:r,marginRight:t?c-u[1]:i,marginBottom:e?f-s[1]:o,marginLeft:t?u[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:c,height:f}}function El(t){const e=t.domain();if(e.length===0)return[0,t.bandwidth()];let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const t7=new Map([["basis",f_],["basis-closed",s_],["basis-open",u_],["bundle",l_],["bump-x",K3],["bump-y",Q3],["cardinal",d_],["cardinal-closed",h_],["cardinal-open",p_],["catmull-rom",g_],["catmull-rom-closed",m_],["catmull-rom-open",y_],["linear",gi],["linear-closed",b_],["monotone-x",w_],["monotone-y",__],["natural",v_],["step",x_],["step-after",$_],["step-before",M_]]);function M1(t=gi,e){if(typeof t=="function")return t;const n=t7.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function e7(t=Fo,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Fo:M1(t,e)}function Fo(t){return gi(t)}function n7(t={y:"count"},e={}){[t,e]=o7(t,e);const{x:n,y:r}=e;return i7(a7(n,e,Nt),null,null,r,t,gs(e))}function r7(t,e,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=is}=n,i={filter:null};return n[e]!=null&&(i[e]=r),n[`${e}1`]!=null&&(i[`${e}1`]=r),n[`${e}2`]!=null&&(i[`${e}2`]=r),t(i,n)}function $1(t={}){return r7(n7,"y",wa(t,"x"))}function i7(t,e,n,r,{data:i=jp,filter:o=Do,sort:a,reverse:c,...f}={},u={}){t=Nl(t),e=Nl(e),f=f7(f,u),i=A1(i,Nt),a=a==null?void 0:T1("sort",a,u),o=o==null?void 0:S1("filter",o,u),r!=null&&Va(f,"y","y1","y2")&&(r=null);const[s,d]=Te(t),[l,h]=Te(t),[p,g]=Te(e),[m,y]=Te(e),[w,v]=r!=null?[r,"y"]:[],[b,x]=Te(w),{x:_,y:$,z:T,fill:A,stroke:k,x1:M,x2:L,y1:E,y2:I,domain:S,cumulative:R,thresholds:Y,interval:H,...W}=u,[D,P]=Te(T),[F]=qe(A),[q]=qe(k),[j,G]=Te(F),[X,z]=Te(q);return{..."z"in u&&{z:D||T},..."fill"in u&&{fill:j||A},..."stroke"in u&&{stroke:X||k},...pa(W,(B,N,O)=>{const U=Op(bt(B,w),O==null?void 0:O[v]),C=bt(B,T),nt=bt(B,F),V=bt(B,q),at=y5(f,{z:C,fill:nt,stroke:V}),st=[],xt=[],Ue=U&&x([]),fn=C&&P([]),P1=nt&&G([]),O1=V&&z([]),As=t&&d([]),q1=t&&h([]),Cs=e&&g([]),z1=e&&y([]),B1=l7(t,e,B);let U1=0;for(const Dn of f)Dn.initialize(B);a&&a.initialize(B),o&&o.initialize(B);for(const Dn of N){const ks=[];for(const Rn of f)Rn.scope("facet",Dn);a&&a.scope("facet",Dn),o&&o.scope("facet",Dn);for(const[Rn,H1]of Gu(Dn,at))for(const[Y1,$i]of Gu(H1,U))for(const[ce,_e]of B1($i))if(at&&(_e.z=Rn),!(o&&!o.reduce(ce,_e))){ks.push(U1++),xt.push(i.reduceIndex(ce,B,_e)),U&&Ue.push(Y1),C&&fn.push(at===C?Rn:C[(ce.length>0?ce:$i)[0]]),nt&&P1.push(at===nt?Rn:nt[(ce.length>0?ce:$i)[0]]),V&&O1.push(at===V?Rn:V[(ce.length>0?ce:$i)[0]]),As&&(As.push(_e.x1),q1.push(_e.x2)),Cs&&(Cs.push(_e.y1),z1.push(_e.y2));for(const W1 of f)W1.reduce(ce,_e);a&&a.reduce(ce,_e)}st.push(ks)}return b5(st,a,c),{data:xt,facets:st}}),...!Va(f,"x")&&(s?{x1:s,x2:l,x:Zc(s,l)}:{x:_,x1:M,x2:L}),...!Va(f,"y")&&(p?{y1:p,y2:m,y:Zc(p,m)}:{y:$,y1:E,y2:I}),...b&&{[v]:b},...Object.fromEntries(f.map(({name:B,output:N})=>[B,N]))}}function o7({cumulative:t,domain:e,thresholds:n,interval:r,...i},o){return[i,{cumulative:t,domain:e,thresholds:n,interval:r,...o}]}function a7(t,{cumulative:e,domain:n,thresholds:r,interval:i},o){return t={...yi(t)},t.domain===void 0&&(t.domain=n),t.cumulative===void 0&&(t.cumulative=e),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=c7(t.thresholds,t.interval),t}function Nl(t){if(t==null)return;const{value:e,cumulative:n,domain:r=Yt,thresholds:i}=t,o=a=>{let c=bt(a,e),f;if(Ft(c)||u7(i)){c=pt(c,Rp,Float64Array);let[s,d]=typeof r=="function"?r(c):r,l=typeof i=="function"&&!Bn(i)?i(c,s,d):i;typeof l=="number"&&(l=Ih(s,d,l)),Bn(l)&&(r===Yt&&(s=l.floor(s),d=l.offset(l.floor(d))),l=l.range(s,l.offset(d))),f=l}else{c=or(c);let[s,d]=typeof r=="function"?r(c):r,l=typeof i=="function"&&!Bn(i)?i(c,s,d):i;if(typeof l=="number")if(r===Yt){let h=ro(s,d,l);if(isFinite(h))if(h>0){let p=Math.round(s/h),g=Math.round(d/h);p*h<=s||--p,g*h>d||++g;let m=g-p+1;l=new Float64Array(m);for(let y=0;y<m;++y)l[y]=(p+y)*h}else if(h<0){h=-h;let p=Math.round(s*h),g=Math.round(d*h);p/h<=s||--p,g/h>d||++g;let m=g-p+1;l=new Float64Array(m);for(let y=0;y<m;++y)l[y]=(p+y)/h}else l=[s];else l=[s]}else l=zr(s,d,l);else Bn(l)&&(r===Yt&&(s=l.floor(s),d=l.offset(l.floor(d))),l=l.range(s,l.offset(d)));f=l}const u=[];if(f.length===1)u.push([f[0],f[0]]);else for(let s=1;s<f.length;++s)u.push([f[s-1],f[s]]);return u.bin=(n<0?h7:n>0?d7:$s)(u,f,c),u};return o.label=In(e),o}function c7(t,e,n=Il){if(t===void 0)return e===void 0?n:gr(e);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return um;case"scott":return Wl;case"sturges":return am;case"auto":return Il}return Wf(t)}return t}function f7(t,e){return p5(t,e,T1)}function T1(t,e,n){return Xp(t,e,n,S1)}function S1(t,e,n){return Zp(t,e,n,A1)}function A1(t,e){return rs(t,e,s7)}function s7(t){switch(`${t}`.toLowerCase()){case"x":return p7;case"x1":return m7;case"x2":return y7;case"y":return g7;case"y1":return b7;case"y2":return w7;case"z":return T5}throw new Error(`invalid bin reduce: ${t}`)}function Il(t,e,n){return Math.min(200,Wl(t,e,n))}function u7(t){return V_(t)||on(t)&&Ft(t)}function l7(t,e,n){const r=t==null?void 0:t(n),i=e==null?void 0:e(n);return r&&i?function*(o){const a=r.bin(o);for(const[c,[f,u]]of r.entries()){const s=i.bin(a[c]);for(const[d,[l,h]]of i.entries())yield[s[d],{data:n,x1:f,y1:l,x2:u,y2:h}]}}:r?function*(o){const a=r.bin(o);for(const[c,[f,u]]of r.entries())yield[a[c],{data:n,x1:f,x2:u}]}:function*(o){const a=i.bin(o);for(const[c,[f,u]]of i.entries())yield[a[c],{data:n,y1:f,y2:u}]}}function $s(t,e,n){return e=or(e),r=>{var o;const i=t.map(()=>[]);for(const a of r)(o=i[qo(e,n[a])-1])==null||o.push(a);return i}}function d7(t,e,n){const r=$s(t,e,n);return i=>{const o=r(i);for(let a=1,c=o.length;a<c;++a){const f=o[a-1],u=o[a];for(const s of f)u.push(s)}return o}}function h7(t,e,n){const r=$s(t,e,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const c=o[a+1],f=o[a];for(const u of c)f.push(u)}return o}}function C1(t,e){const n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}const p7={reduceIndex(t,e,{x1:n,x2:r}){return C1(n,r)}},g7={reduceIndex(t,e,{y1:n,y2:r}){return C1(n,r)}},m7={reduceIndex(t,e,{x1:n}){return n}},y7={reduceIndex(t,e,{x2:n}){return n}},b7={reduceIndex(t,e,{y1:n}){return n}},w7={reduceIndex(t,e,{y2:n}){return n}},_7={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class v7 extends zt{constructor(e,n={}){const{x1:r,y1:i,x2:o,y2:a,z:c,curve:f,tension:u}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:jf(n),optional:!0}},n,_7),this.z=c,this.curve=M1(f,u)}filter(e){return e}render(e,n,r,i,o){const{x1:a,y1:c,x2:f=a,y2:u=c}=r;return _t("svg:g",o).call(be,this,i,o).call(we,this,n,0,0).call(s=>s.selectAll().data(bg(e,[a,c,f,u],this,r)).enter().append("path").call(ie,this).call(yg,this,r).attr("d",G3().curve(this.curve).defined(d=>d>=0).x0(d=>a[d]).y0(d=>c[d]).x1(d=>f[d]).y1(d=>u[d]))).node()}}function x7(t,e){const{x:n=sa,...r}=$1(e);return new v7(t,p1(h1({...r,x1:n,x2:void 0})))}const M7={ariaLabel:"bar"};class $7 extends zt{constructor(e,n,r={},i=M7){super(e,n,r,i),w1(this,r),_1(this,r)}render(e,n,r,i,o){const{rx:a,ry:c,rx1y1:f,rx1y2:u,rx2y1:s,rx2y2:d}=this,l=this._x(n,r,i),h=this._y(n,r,i),p=this._width(n,r,i),g=this._height(n,r,i);return _t("svg:g",o).call(be,this,i,o).call(this._transform,this,n).call(m=>m.selectAll().data(e).enter().call(f||u||s||d?y=>y.append("path").call(ie,this).call(v1,l,h,Ll(l,p),Ll(h,g),this).call(tn,this,r):y=>y.append("rect").call(ie,this).attr("x",l).attr("width",p).attr("y",h).attr("height",g).call(Z,"rx",a).call(Z,"ry",c).call(tn,this,r))).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?o=>n[o]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?o=>n[o]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:c}=this,f=n&&e?e.bandwidth():o-r-i;return Math.max(0,f-a-c)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:c}=this,f=n&&e?e.bandwidth():o-r-i;return Math.max(0,f-a-c)}}function Ll(t,e){return typeof t=="function"&&typeof e=="function"?n=>t(n)+e(n):typeof t=="function"?n=>t(n)+e:typeof e=="function"?n=>t+e(n):t+e}class T7 extends $7{constructor(e,n={},r){const{x:i,y1:o,y2:a}=n;super(e,{y1:{value:o,scale:"y"},y2:{value:a,scale:"y"},x:{value:i,scale:"x",type:"band",optional:!0}},n,r)}_transform(e,n,{y:r}){e.call(we,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:i}){const{insetTop:o}=this;return sr(e)?i+o:a=>Math.min(n[a],r[a])+o}_height({y:e},{y1:n,y2:r},{marginTop:i,marginBottom:o,height:a}){const{insetTop:c,insetBottom:f}=this;return sr(e)?a-i-o-c-f:u=>Math.max(0,Math.abs(r[u]-n[u])-c-f)}}function S7(t,e={}){return z_(e)||(e={...e,x:sa,y2:Nt}),new T7(t,p1(Rg(h1(e))))}const A7={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function C7(t){return t.sort===void 0&&t.reverse===void 0?l5({channel:"-r"},t):t}class k7 extends zt{constructor(e,n={}){const{x:r,y:i,r:o,rotate:a,symbol:c=Zr,frameAnchor:f}=n,[u,s]=Et(a,0),[d,l]=s5(c),[h,p]=Et(o,d==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:h,scale:"r",filter:ca,optional:!0},rotate:{value:u,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},C7(n),A7),this.r=p,this.rotate=s,this.symbol=l,this.frameAnchor=da(f);const{channels:g}=this,{symbol:m}=g;if(m){const{fill:y,stroke:w}=g;m.hint={fill:y?y.value===m.value?"color":"currentColor":this.fill??"currentColor",stroke:w?w.value===m.value?"color":"currentColor":this.stroke??"none"}}}render(e,n,r,i,o){const{x:a,y:c}=n,{x:f,y:u,r:s,rotate:d,symbol:l}=r,{r:h,rotate:p,symbol:g}=this,[m,y]=Mi(this,i),w=g===Zr,v=s?void 0:h*h*Math.PI;return Uf(h)&&(e=[]),_t("svg:g",o).call(be,this,i,o).call(we,this,{x:f&&a,y:u&&c}).call(b=>b.selectAll().data(e).enter().append(w?"circle":"path").call(ie,this).call(w?x=>{x.attr("cx",f?_=>f[_]:m).attr("cy",u?_=>u[_]:y).attr("r",s?_=>s[_]:h)}:x=>{x.attr("transform",ys`translate(${f?_=>f[_]:m},${u?_=>u[_]:y})${d?_=>` rotate(${d[_]})`:p?` rotate(${p})`:""}`).attr("d",s&&l?_=>{const $=hn();return l[_].draw($,s[_]*s[_]*Math.PI),$}:s?_=>{const $=hn();return g.draw($,s[_]*s[_]*Math.PI),$}:l?_=>{const $=hn();return l[_].draw($,v),$}:(()=>{const _=hn();return g.draw(_,v),_})())}).call(tn,this,r)).node()}}function E7(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Zf(e,n)),new k7(t,{...r,x:e,y:n})}const N7={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class I7 extends zt{constructor(e,n={}){const{x:r,y:i,z:o,curve:a,tension:c}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:jf(n),optional:!0}},n,N7),this.z=o,this.curve=e7(a,c),ps(this,n)}filter(e){return e}project(e,n,r){this.curve!==Fo&&super.project(e,n,r)}render(e,n,r,i,o){const{x:a,y:c}=r,{curve:f}=this;return _t("svg:g",o).call(be,this,i,o).call(we,this,n).call(u=>u.selectAll().data(bg(e,[a,c],this,r)).enter().append("path").call(ie,this).call(yg,this,r).call(y8,this,r,o).attr("d",f===Fo&&o.projection?L7(o.projection,a,c):K0().curve(f).defined(s=>s>=0).x(s=>a[s]).y(s=>c[s]))).node()}}function L7(t,e,n){const r=Xo(t);return e=or(e),n=or(n),i=>{let o=[];const a=[o];for(const c of i)c===-1?(o=[],a.push(o)):o.push([e[c],n[c]]);return r({type:"MultiLineString",coordinates:a})}}function D7(t,{x:e=sa,y:n=Nt,...r}={}){return new I7(t,$1({...r,x:e,y:n}))}zt.prototype.plot=function({marks:t=[],...e}={}){return Ma({...e,marks:[...t,this]})};const R7=[{category:"General",value:18},{category:"Help Desk",value:2},{category:"Power Outage",value:0},{category:"City Response",value:0}];function F7(t=R7,{width:e=700,height:n=400}={}){const r=["#00BFFF","#1E90FF","#9932CC","#8A2BE2"];function i(){return Ma({width:e,height:n,marginLeft:60,marginRight:20,marginBottom:50,marginTop:40,grid:!0,x:{label:"Queue",tickRotate:0},y:{label:"Number of Agents",domain:[0,Math.max(...t.map(a=>a.value))*1.2]},title:"Staffed Agents per Queue",marks:[S7(t,{x:"category",y:"value",fill:(a,c)=>r[c%r.length],title:a=>`${a.category}: ${a.value}`}),ms([0]),_a(t,{x:"category",y:"value",text:a=>a.value,dy:-10}),vs({tickSize:0})],style:{backgroundColor:"white",color:"black",fontFamily:"sans-serif"}})}return i()}let Po={us:1293,ru:588,cn:141,other:237};function P7(t,e,n,r){let i=null;const o=a=>{i||(i=a);const c=Math.min((a-i)/r,1),f=Math.floor(c*(n-e)+e);t.textContent=f.toLocaleString(),c<1&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}function k1(t,e){const n=document.getElementById(`${t}-counter`),r=parseInt(n.textContent.replace(/,/g,""),10);P7(n,r,e,1e3),Po[t]=e}function O7(t){Object.keys(t).forEach(e=>{k1(e,t[e])})}function q7(t){const e={us:1293,ru:588,cn:141,other:237},n=1+(t-1)*.2;return{us:Math.floor(e.us*n),ru:Math.floor(e.ru*n),cn:Math.floor(e.cn*n),other:Math.floor(e.other*n)}}function E1(t){if(t<1||t>5){console.error("Version must be between 1 and 5");return}const e=q7(t);O7(e),Po={...e}}function z7(){const t=Object.keys(Po),e=t[Math.floor(Math.random()*t.length)],n=Math.floor(Math.random()*21)-10,r=Math.max(0,Po[e]+n);k1(e,r)}function N1(){const t=Math.random()*3e3+1e3;setTimeout(()=>{z7(),N1()},t)}E1(1);N1();function B7(t){E1(t)}let Dl=["Amanda Rome requests support with her call.","Center 321 is experiencing greater call volume than usual.","Agent Jake Morrison has completed his training session.","New software update scheduled for Agent Terminals.","System check: All call lines are operational.","Agent Sarah Lee escalated a call to a supervisor.","Center 145 has hit peak call volume, redirecting calls.","Backup system for call routing activated.","Agent Max Thompson is on a break.","Weekly performance review meeting at 2 PM."],sf,qr=0,Gn=0,uf=100,U7=2e3;const I1=document.getElementById("message-panel");function Ts(t=Dl,e=I1){sf=t,Dl=t,Gn<t[qr].length?(e.innerHTML+=t[qr].charAt(Gn),Gn++,setTimeout(Ts,uf)):setTimeout(L1,U7)}function L1(){Gn>0?(I1.innerHTML=sf[qr].substring(0,Math.max(0,Gn-5)),Gn-=5,setTimeout(L1,uf/4)):(qr=(qr+1)%sf.length,setTimeout(Ts,uf))}const ac=[{category:"Resolved",color:"#00BFFF"},{category:"In Progress",color:"#1E90FF"},{category:"Waiting",color:"#4169E1"},{category:"Escalated",color:"#9932CC"},{category:"Abandoned",color:"#8A2BE2"}];function Ji(t){switch(t){case 1:return[{category:"Resolved",value:60},{category:"In Progress",value:25},{category:"Waiting",value:10},{category:"Escalated",value:4},{category:"Abandoned",value:1}];case 2:return[{category:"Resolved",value:50},{category:"In Progress",value:30},{category:"Waiting",value:15},{category:"Escalated",value:4},{category:"Abandoned",value:1}];case 3:return[{category:"Resolved",value:40},{category:"In Progress",value:30},{category:"Waiting",value:20},{category:"Escalated",value:7},{category:"Abandoned",value:3}];case 4:return[{category:"Resolved",value:30},{category:"In Progress",value:25},{category:"Waiting",value:30},{category:"Escalated",value:10},{category:"Abandoned",value:5}];case 5:return[{category:"Resolved",value:20},{category:"In Progress",value:20},{category:"Waiting",value:35},{category:"Escalated",value:15},{category:"Abandoned",value:10}];default:return Ji(1)}}function H7(t,e=1,{width:n=700,height:r=500}={}){let i=e,o=Ji(i);function a(u){const s=Math.min(n,r)/2*.8*u,d=j3().value(b=>b.value).sort(null),l=Ou().innerRadius(s*.4).outerRadius(s),h=Ou().innerRadius(s*.7).outerRadius(s*.7),p=o2("svg").attr("width",n).attr("height",r).attr("viewBox",[-n/2,-r/2,n,r]).attr("style","max-width: 100%; height: auto;"),g=p.append("g");p.append("text").attr("x",-n/2+20).attr("y",-r/2+40).attr("text-anchor","start").style("font-size","32px").style("font-family","noto-sans, sans-serif").style("fill","#333").text("Call Center Metrics");const m=g.selectAll("arc").data(d(o)).enter().append("g").attr("class","arc");m.append("path").attr("fill",b=>ac.find(x=>x.category===b.data.category).color).attr("d",l).append("title").text(b=>`${b.data.category}: ${b.data.value}`),m.append("text").attr("transform",b=>`translate(${h.centroid(b)})`).attr("dy",".35em").style("text-anchor","middle").style("font-size","12px").style("fill","white").text(b=>b.data.value);const y=120,w=ac.length*25,v=p.append("g").attr("transform",`translate(${n/2-y-10}, ${r/2-w-10})`);return ac.forEach((b,x)=>{const _=v.append("g").attr("transform",`translate(0, ${x*25})`);_.append("rect").attr("width",12).attr("height",12).attr("fill",b.color),_.append("text").attr("x",18).attr("y",10).attr("text-anchor","start").style("font-size","12px").style("fill","#333").text(b.category)}),p.node()}function c(){const s=Mn(0,1),d=l=>{const h=Math.min(1,s(l/1e3));t.innerHTML="",t.appendChild(a(h)),h<1&&requestAnimationFrame(d)};requestAnimationFrame(d)}function f(u){i=u,o=Ji(i),c()}return c(),f}function Y7(t,e){t.innerHTML="";const n=W7(e),r=V7(n),i=Ma({width:800,height:400,y:{grid:!0,label:"Handle Time (minutes)",domain:[0,10],ticks:5},x:{label:"Time of Day",tickFormat:o=>{const a=Math.floor(o/2)+8,c=o%2*30;return`${a.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`},ticks:12},title:"Avg Handle Time per Queue",marks:[D7(n,{x:"x",y:"y",stroke:"blue"}),af([r.x],{stroke:"orange"}),af(n,Qi({x:"x",py:"y",stroke:"red"})),E7(n,Qi({x:"x",y:"y",stroke:"red"})),_a(n,Qi({px:"x",py:"y",dy:-17,frameAnchor:"top-left",fontVariant:"tabular-nums",text:o=>[`Time: ${G7(o.x)}`,`Handle Time: ${o.y.toFixed(2)} min`].join("   ")}))]});t.appendChild(i)}function W7(t){const e=[];let r=3;for(let i=0;i<24;i++){const o=Math.random()*.5-.25,a=Math.random()<.1?t*.5:0;r+=o+a,r=Math.max(0,Math.min(10,r)),e.push({x:i,y:r})}return e}function V7(t){let e={x:0,jump:0};for(let n=1;n<t.length;n++){const r=Math.abs(t[n].y-t[n-1].y);r>e.jump&&(e={x:t[n].x,jump:r})}return e}function G7(t){const e=Math.floor(t/2)+8,n=t%2*30;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}const D1=["General","Help Desk","Power Outage","City Response"];function X7(t,e){t.innerHTML="";const n=j7(e),r=Q7(n),i=D1,o={General:"#00BFFF","Help Desk":"#1E90FF","Power Outage":"#4169E1","City Response":"#9932CC"},a=Ma({width:800,height:400,y:{grid:!0,label:"Stress Level",domain:[0,Math.min(r,100)],ticks:5},x:{label:"Time of Day",tickFormat:u=>u.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ticks:12},color:{legend:!1,domain:i,range:i.map(u=>o[u])},title:"Agent Stress Level per Queue",marks:[x7(n,{x:"date",y:"stressLevel",fill:"industry",stroke:"industry",title:u=>`${u.industry}: ${u.stressLevel.toFixed(2)}`,curve:"basis"}),ms([0])],style:{backgroundColor:"white"},marginRight:120}),c=document.createElement("div");c.style.display="flex",c.style.alignItems="center",c.appendChild(a);const f=Z7(i,o);c.appendChild(f),t.appendChild(c)}function Z7(t,e){const n=document.createElement("div");n.style.marginLeft="20px",n.style.display="flex",n.style.flexDirection="column";const r=document.createElement("div");return r.textContent="Industry",r.style.fontWeight="bold",r.style.marginBottom="10px",n.appendChild(r),t.forEach(i=>{const o=document.createElement("div");o.style.display="flex",o.style.alignItems="center",o.style.marginBottom="10px";const a=document.createElement("div");a.style.width="20px",a.style.height="20px",a.style.backgroundColor=e[i],a.style.marginRight="5px";const c=document.createElement("span");c.textContent=i,o.appendChild(a),o.appendChild(c),n.appendChild(o)}),n}function j7(t){const e=D1,n=[],r=new Date(2024,0,1,8,0),i=new Date(2024,0,1,20,0);for(let o of e){let a=2+Math.random()*3,c=new Date(r);for(;c<=i;){const f=Math.random()*2-1,u=K7(t);a+=f+u,a=Math.max(0,Math.min(25,a)),n.push({date:new Date(c),industry:o,stressLevel:a}),c.setMinutes(c.getMinutes()+30)}}return n}function K7(t){return t<=1?0:Math.pow(t-1,2)*.2}function Q7(t){const e=[...new Set(t.map(n=>n.date.getTime()))];return Math.max(...e.map(n=>t.filter(r=>r.date.getTime()===n).reduce((r,i)=>r+i.stressLevel,0)))}function R1(t=null){console.log("i am data",t),B7((t==null?void 0:t.counters)||1),Ts(t==null?void 0:t.antimatedText);const e=F7(t==null?void 0:t.bar),n=document.querySelector("#bar-chart-panel"),r=document.querySelector("#multi-area-panel"),i=document.querySelector("#emergency_workflow2"),o=document.querySelector("#emergency_workflow_non");X7(r,(t==null?void 0:t.multiArea)||1),n.innerHTML="",n.appendChild(e);const a=document.querySelector("#line-graph-static-panel");Y7(a,(t==null?void 0:t.lineGraphStatic)||1);const c=document.getElementById("pie-panel");H7(c,(t==null?void 0:t.pieChart)||1),(t==null?void 0:t.workflow)==="1"?(i.style.display="block",o.style.display="none"):(i.style.display="none",o.style.display="block")}const F1={devUrl:"https://localhost:3000",prodUrl:"https://customdemo.experience.avaya.com",mappingForVom:{0:"1",1:"5",4:"3",2:"4",3:"2",5:"3"},scrollInterval:5e3,queues:["Help Desk","Power Outage","City Response","General"],agents:["cityresponse1@experience.avaya.com","cityresponse2@experience.avaya.com","cityresponse3@experience.avaya.com"]},J7={1:[{category:"General",value:18},{category:"Help Desk",value:2},{category:"Power Outage",value:0},{category:"City Response",value:0}],2:[{category:"General",value:17},{category:"Help Desk",value:1},{category:"Power Outage",value:0},{category:"City Response",value:0}],3:[{category:"General",value:16},{category:"Help Desk",value:4},{category:"Power Outage",value:0},{category:"City Response",value:0}],4:[{category:"General",value:14},{category:"Help Desk",value:6},{category:"Power Outage",value:0},{category:"City Response",value:0}],5:[{category:"General",value:12},{category:"Help Desk",value:4},{category:"Power Outage",value:2},{category:"City Response",value:2}]},tx={1:1,2:2,3:3,4:4,5:5},ex={1:1,2:2,3:3,4:4,5:5},nx={1:["Center 101: All systems are functioning normally.","Agent John Doe completed a routine call without issues.","No issues detected at Center 203. All calls are being routed as expected.","Backup systems checked at Center 402. Everything is operational.","Agent Alice Smith is handling a support call smoothly at Center 321."],2:["Center 102: Increased handle times detected for multiple agents.","Agent Maria Johnson experienced an unusually long call at Center 215.","Supervisors at Center 322 have been notified to coach agents on reducing handle times.","Center 110: Agent Mark Davis handled a 45-minute call, significantly above average.","Supervisors at Center 420 are reviewing recent call interactions for optimization."],3:["Center 145: Voice interactions have surged over the past 30 minutes.","Agents at Center 308 are being shifted from digital channels to handle voice calls.","Center 215: Increased volume of voice calls is impacting service times.","VOM recommended moving 3 agents to voice channels at Center 405.","Center 510: Agents reassigned to voice queues to address interaction volume."],4:["Center 321: Service disruption has been detected, all agents notified.","Emergency workflow activated at Center 404 due to significant delays in service.","Extended hold times communicated to customers at Center 222.","Center 150: Supervisors are adjusting workflows to accommodate the service disruption.","VOM detected a severe disruption at Center 501. Agents are prepared for increased hold times."],5:["Center 102: Power outage detected in multiple states, backup systems engaged.","Agent Sam Wilson at Center 400 is prepared for the emergency influx of calls.","Additional agents are being staffed at Center 155 to manage the increased volume.","Center 215: Emergency protocol initiated due to power outage, agents on standby.","20 additional agents added to the Gitex queue at Center 500."]},rx={1:1,2:2,3:3,4:4,5:5},ix={1:!0,2:!0,3:!0,4:!1,5:!1},ox={1:1,2:2,3:3,4:4,5:5},ax={1:1,2:2,3:3,4:4,5:5},cx={1:1,2:2,3:3,4:4,5:5},fx={1:1,2:2,3:3,4:4,5:5},sx={1:1,2:2,3:3,4:4,5:5},ux={1:1,2:2,3:3,4:4,5:5},lx={1:1,2:2,3:3,4:4,5:5},dx={1:1,2:2,3:3,4:4,5:5},hx={1:1,2:2,3:3,4:4,5:5},px={1:[{elementId:"ru-counter-container",message:"These counters show the current daily engagements across different regions and the number of waiting customers. All metrics are within normal ranges."},{elementId:"animated-line-graph-panel",message:"This animated line graph displays real-time data on customer interactions, showing stable patterns across all channels."},{elementId:"animated-area-graph-panel",message:"The animated area graph illustrates the distribution of workload across different departments, indicating balanced operations."},{elementId:"bar-chart-panel",message:"All systems are working well. This bar chart shows normal operational metrics across different departments."},{elementId:"line-graph-panel",message:"The line graph demonstrates stable handle times across all agents over the past 24 hours."},{elementId:"piechart-panel",message:"The pie chart shows a balanced distribution of call types, indicating normal operations and customer inquiry patterns."},{elementId:"dot-panel",message:"Each dot represents an agent, with colors indicating different departments. The uniform size shows consistent performance."},{elementId:"sensor-graph-panel",message:"This sensor graph shows stable network performance and system resource utilization across all servers."}],2:[{elementId:"cn-counter-container",message:"Notice the slight increase in waiting customers and higher engagement numbers for NA and EU regions, indicating a potential issue."},{elementId:"animated-line-graph-panel",message:"The animated line graph is showing an upward trend in customer interaction times across all channels."},{elementId:"animated-area-graph-panel",message:"This animated area graph reveals an growing imbalance in workload distribution, with some departments experiencing higher volumes."},{elementId:"bar-chart-panel",message:"The bar chart shows an increase in average handle times across all active agents, with some departments more affected than others."},{elementId:"line-graph-panel",message:"This line graph demonstrates the trend of increasing handle times over the past 4 hours, with a notable spike in the last 30 minutes."},{elementId:"dot-panel",message:"Each dot represents an agent, with larger dots indicating longer handle times. Notice the cluster of larger dots in certain departments."},{elementId:"piechart-panel",message:"This pie chart breaks down the types of calls contributing to longer handle times, helping focus coaching efforts."}],3:[{elementId:"other-counter-container",message:"Observe the significant increase in waiting customers and higher engagement numbers across all regions, particularly in NA."},{elementId:"animated-line-graph-panel",message:"The animated line graph shows a sharp increase in voice interactions compared to other channels."},{elementId:"animated-area-graph-panel",message:"This animated area graph illustrates the growing disparity between voice and digital channel workloads."},{elementId:"bar-chart-panel",message:"The bar chart indicates a spike in voice interaction volume over the past 30 minutes compared to the same time yesterday."},{elementId:"line-graph-panel",message:"This line graph shows the increasing trend of voice interactions compared to digital channels over the last 2 hours."},{elementId:"pie-panel",message:"The pie chart illustrates the current distribution of agents across voice and digital channels, highlighting the imbalance."},{elementId:"force-graph-panel",message:"This force graph illustrates the current agent allocation and suggests optimal reallocation to handle the increased voice volume."},{elementId:"hexabin-panel",message:"The hexbin chart displays the concentration of voice calls by topic, helping identify the main drivers of increased volume."}],4:[{elementId:"us-counter-container",message:"The counters show a dramatic increase in waiting customers and engagement numbers across all regions, indicating a widespread service disruption."},{elementId:"animated-line-graph-panel",message:"This animated line graph visualizes the sudden spike in customer interaction times and hold durations across all channels."},{elementId:"animated-area-graph-panel",message:"The animated area graph shows a severe imbalance in workload distribution, with all departments experiencing high volumes."},{elementId:"earthquake-globe-panel",message:"The globe visualization shows the widespread impact of the service disruption across all customers, with affected areas highlighted."},{elementId:"bar-chart-panel",message:"All systems are working well. This bar chart shows normal operational metrics across different departments."},{elementId:"hexabin-panel",message:"This hexbin chart represents the density of affected customers in different regions, with darker colors indicating higher impact."},{elementId:"line-graph-panel",message:"The line graph shows the sudden increase in hold times due to the service disruption, with projections for the next hour."},{elementId:"force-graph-panel",message:"This force graph illustrates the interconnected systems affected by the service disruption, helping identify the root cause."},{elementId:"bar-chart-panel",message:"The bar chart compares the current call volume to our capacity across different queues, highlighting overwhelmed areas."},{elementId:"piechart-panel",message:"This pie chart breaks down the types of services affected, helping prioritize recovery efforts."},{elementId:"sensor-graph-panel",message:"The sensor graph shows real-time system performance metrics, indicating which components are under stress."}],5:[{elementId:"other-counter-container",message:"The counters reveal an overwhelming number of waiting customers and extremely high engagement numbers in NA, reflecting the impact of the power outage."},{elementId:"animated-line-graph-panel",message:"This animated line graph shows the rapid escalation of customer interactions and emergency calls related to the power outage."},{elementId:"bar-chart-panel",message:"All systems are working well. This bar chart shows normal operational metrics across different departments."},{elementId:"animated-area-graph-panel",message:"The animated area graph illustrates the shift in workload towards emergency response teams and power restoration efforts."},{elementId:"earthquake-globe-panel",message:"The globe visualization highlights the states affected by the power outage due to weather conditions, with severity indicated by color."},{elementId:"hexabin-panel",message:"This hexbin chart shows the concentration of power outage reports across multiple states, with each hexagon representing a cluster of reports."},{elementId:"bar-chart-panel",message:"The bar chart displays the increased inbound call volume across different queues due to the power outage, compared to normal operations."},{elementId:"world-map-panel",message:"This world map focuses on the affected regions, showing the extent of the power outage emergency and the spread of the weather system."},{elementId:"line-graph-panel",message:"The line graph tracks the number of affected customers over time, showing the progression of the power outage."},{elementId:"piechart-panel",message:"This pie chart breaks down the types of emergency calls received, helping allocate resources appropriately."},{elementId:"sensor-graph-panel",message:"The sensor graph monitors the status of emergency generators and backup systems across affected areas."},{elementId:"force-graph-panel",message:"This force graph shows the relationships between affected power grids and critical infrastructure, aiding in prioritization of repairs."}]},gx={0:"0",1:"0",2:"1",3:"0",4:"0",5:"0",6:"0"},cc={bar:J7,animatedDots:tx,animatedLine:ex,antimatedText:nx,counters:rx,earthquakeGlobe:ix,hexabinUS:ox,lineChart:ax,lineGraphStatic:cx,pieChart:fx,radar:sx,sensorGraph:ux,animatedArea:lx,travelGlobe:dx,multiArea:hx,scrollToElements:px,workflow:gx};function mx(t){return F1.mappingForVom[t]||t}function yx(t){const e=mx(t.emergencyType),n={};for(const r in cc)e in cc[r]&&(n[r]=cc[r][e]);return n}let Rl=null,sn=null,Wi=0;const bx=5;function Tr(t,e=!1){const n=document.querySelector(".neo-notification");n?t?(n.style.display="flex",e?(n.classList.remove("neo-notification--info"),n.classList.add("neo-notification--alert"),n.querySelector(".neo-notification__title").textContent="Alert",n.querySelector(".neo-notification__description").textContent="Predicted Emergency Notice"):(n.classList.remove("neo-notification--alert"),n.classList.add("neo-notification--info"),n.querySelector(".neo-notification__title").textContent="Info",n.querySelector(".neo-notification__description").textContent="Predicted Emergency Notice")):n.style.display="none":console.error("Notification element not found")}function Ss(){const t=F1.prodUrl+"/vom";return sn=new WebSocket(t),console.log("I AM SOCKET!",sn),sn.onopen=function(e){Wi=0},sn.onmessage=function(e){try{const n=JSON.parse(e.data);if(console.log("Received data:",n),n.emergencytype&&n.emergencytype.includes("f")){Tr(!0,!0);return}else Tr(!1);JSON.stringify(n)!==JSON.stringify(Rl)&&(console.log("State changed:",n),Rl=n,wx(n))}catch(n){console.error("Error processing message:",n),Tr(!0,!0)}},sn.onerror=function(e){console.error("WebSocket error:",e),Tr(!0,!0)},sn.onclose=function(e){if(console.log("WebSocket connection closed"),Tr(!0,!0),Wi<bx){const n=Math.min(1e3*2**Wi,3e4);console.log(`Attempting to reconnect in ${n/1e3} seconds...`),setTimeout(()=>{Wi++,Ss()},n)}else console.error("Max reconnection attempts reached. Please refresh the page.")},sn}function wx(t){const e=yx(t);R1(e)}Ss();R1();Ss();
